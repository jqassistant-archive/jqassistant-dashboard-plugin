(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{185:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},186:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},187:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},193:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.newError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"N/A";return new l(e,t)},t.PROTOCOL_ERROR=t.SESSION_EXPIRED=t.SERVICE_UNAVAILABLE=t.Neo4jError=void 0;var i=n(r(186)),o=n(r(202)),a=n(r(199)),s=n(r(203)),u=n(r(664));t.SERVICE_UNAVAILABLE="ServiceUnavailable";t.SESSION_EXPIRED="SessionExpired";t.PROTOCOL_ERROR="ProtocolError";var l=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"N/A";return(0,i.default)(this,t),(r=(0,o.default)(this,(0,a.default)(t).call(this,e))).message=e,r.code=n,r.name="Neo4jError",r}return(0,s.default)(t,e),t}((0,u.default)(Error));t.Neo4jError=l},198:function(e,t,r){"use strict";var n=r(29);function i(e,t,r){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(n.a)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}r.d(t,"a",function(){return i})},199:function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},202:function(e,t,r){var n=r(394),i=r(606);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?i(e):t}},203:function(e,t,r){var n=r(428);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},221:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyObjectOrNull=function(e){if(null===e)return!0;if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},t.isObject=a,t.isString=u,t.assertObject=function(e,t){if(!a(e))throw new TypeError(t+" expected to be an object but was: "+JSON.stringify(e));return e},t.assertString=s,t.assertNumber=function(e,t){if("number"!==typeof e)throw new TypeError(t+" expected to be a number but was: "+JSON.stringify(e));return e},t.assertNumberOrInteger=function(e,t){if("number"!==typeof e&&!(0,o.isInt)(e))throw new TypeError(t+" expected to be either a number or an Integer object but was: "+JSON.stringify(e));return e},t.assertValidDate=function(e,t){if("[object Date]"!==Object.prototype.toString.call(e))throw new TypeError(t+" expected to be a standard JavaScript Date but was: "+JSON.stringify(e));if(Number.isNaN(e.getTime()))throw new TypeError(t+" expected to be valid JavaScript Date but its time was NaN: "+JSON.stringify(e));return e},t.validateStatementAndParameters=function(e,t){var r=e,n=t||{};"object"===(0,i.default)(e)&&e.text&&(r=e.text,n=e.parameters||{});return function(e){if(s(e,"Cypher statement"),0===e.trim().length)throw new TypeError("Cypher statement is expected to be a non-empty string.")}(r),function(e){if(!a(e)){var t=e.constructor?" "+e.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(t," ").concat(e))}}(n),{query:r,params:n}},t.ENCRYPTION_OFF=t.ENCRYPTION_ON=void 0;var i=n(r(394)),o=r(256);t.ENCRYPTION_ON="ENCRYPTION_ON";function a(e){return"object"===(0,i.default)(e)&&!Array.isArray(e)&&null!==e}function s(e,t){if(!u(e))throw new TypeError(t+" expected to be string but was: "+JSON.stringify(e));return e}function u(e){return"[object String]"===Object.prototype.toString.call(e)}t.ENCRYPTION_OFF="ENCRYPTION_OFF"},232:function(e,t){e.exports=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}},239:function(e,t,r){e.exports.Dispatcher=r(661)},240:function(e,t,r){"use strict";var n=r(232);Object.defineProperty(t,"__esModule",{value:!0}),t.v1=t.default=void 0;var i=n(r(663));t.v1=i;var o=i;t.default=o},241:function(e,t,r){(function(t){var r;e.exports=function e(t,n,i){function o(s,u){if(!n[s]){if(!t[s]){var l="function"==typeof r&&r;if(!u&&l)return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[s]={exports:{}};t[s][0].call(h.exports,function(e){var r=t[s][1][e];return o(r||e)},h,h.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,r){t.exports=function(e){if(Array.isArray(e))return e}},{}],2:[function(e,t,r){t.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},{}],3:[function(e,t,r){t.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},{}],4:[function(e,t,r){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],5:[function(e,t,r){var n=e("./setPrototypeOf");function i(e,r,o){return function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?t.exports=i=Reflect.construct:t.exports=i=function(e,t,r){var i=[null];i.push.apply(i,t);var o=Function.bind.apply(e,i),a=new o;return r&&n(a,r.prototype),a},i.apply(null,arguments)}t.exports=i},{"./setPrototypeOf":19}],6:[function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},{}],7:[function(e,t,r){t.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},{}],8:[function(e,t,r){e("./getPrototypeOf");var n=e("./superPropBase");function i(e,r,o){return"undefined"!==typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(e,t,r){var i=n(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(r):o.value}},i(e,r,o||e)}t.exports=i},{"./getPrototypeOf":9,"./superPropBase":21}],9:[function(e,t,r){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n},{}],10:[function(e,t,r){var n=e("./setPrototypeOf");t.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},{"./setPrototypeOf":19}],11:[function(e,t,r){t.exports=function(e){return e&&e.__esModule?e:{default:e}}},{}],12:[function(e,t,r){t.exports=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}},{}],13:[function(e,t,r){t.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},{}],14:[function(e,t,r){t.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},{}],15:[function(e,t,r){t.exports=function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){i=!0,o=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}},{}],16:[function(e,t,r){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},{}],17:[function(e,t,r){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},{}],18:[function(e,t,r){var n=e("../helpers/typeof"),i=e("./assertThisInitialized");t.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?i(e):t}},{"../helpers/typeof":23,"./assertThisInitialized":3}],19:[function(e,t,r){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,r)}t.exports=n},{}],20:[function(e,t,r){var n=e("./arrayWithHoles"),i=e("./iterableToArrayLimit"),o=e("./nonIterableRest");t.exports=function(e,t){return n(e)||i(e,t)||o()}},{"./arrayWithHoles":1,"./iterableToArrayLimit":15,"./nonIterableRest":16}],21:[function(e,t,r){var n=e("./getPrototypeOf");t.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}},{"./getPrototypeOf":9}],22:[function(e,t,r){var n=e("./arrayWithoutHoles"),i=e("./iterableToArray"),o=e("./nonIterableSpread");t.exports=function(e){return n(e)||i(e)||o()}},{"./arrayWithoutHoles":2,"./iterableToArray":14,"./nonIterableSpread":17}],23:[function(e,t,r){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=i=function(e){return n(e)}:t.exports=i=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},i(e)}t.exports=i},{}],24:[function(e,t,r){var n=e("./getPrototypeOf"),i=e("./setPrototypeOf"),o=e("./isNativeFunction"),a=e("./construct");function s(e){var r="function"===typeof Map?new Map:void 0;return t.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(e)}t.exports=s},{"./construct":5,"./getPrototypeOf":9,"./isNativeFunction":13,"./setPrototypeOf":19}],25:[function(e,t,r){"use strict";function n(e,t,r){return t<=e&&e<=r}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}var o=-1;function a(e){this.tokens=[].slice.call(e)}a.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():o},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var s=-1;function u(e,t){if(e)throw TypeError("Decoder error");return t||65533}var l="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():l)!==l)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function h(e,t){if(!(this instanceof h))return new h(e,t);if((e=void 0!==e?String(e).toLowerCase():l)!==l)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function f(e){var t=e.fatal,r=0,i=0,a=0,l=128,c=191;this.handler=function(e,h){if(h===o&&0!==a)return a=0,u(t);if(h===o)return s;if(0===a){if(n(h,0,127))return h;if(n(h,194,223))a=1,r=h-192;else if(n(h,224,239))224===h&&(l=160),237===h&&(c=159),a=2,r=h-224;else{if(!n(h,240,244))return u(t);240===h&&(l=144),244===h&&(c=143),a=3,r=h-240}return r<<=6*a,null}if(!n(h,l,c))return r=a=i=0,l=128,c=191,e.prepend(h),u(t);if(l=128,c=191,r+=h-128<<6*(a-(i+=1)),i!==a)return null;var f=r;return r=a=i=0,f}}function d(e){e.fatal,this.handler=function(e,t){if(t===o)return s;if(n(t,0,127))return t;var r,i;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var a=[(t>>6*r)+i];r>0;){var u=t>>6*(r-1);a.push(128|63&u),r-=1}return a}}c.prototype={decode:function(e,t){var r;r="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new f({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var n,o=new a(r),u=[];!o.endOfStream()&&(n=this._decoder.handler(o,o.read()))!==s;)null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n));if(!this._streaming){do{if((n=this._decoder.handler(o,o.read()))===s)break;null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n))}while(!o.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}(u)}},h.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new d(this._options)),this._streaming=Boolean(t.stream);for(var r,n=[],o=new a(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var a=e.charCodeAt(n+1);if(56320<=a&&a<=57343){var s=1023&o,u=1023&a;i.push(65536+(s<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(e));!o.endOfStream()&&(r=this._encoder.handler(o,o.read()))!==s;)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;(r=this._encoder.handler(o,o.read()))!==s;)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}},r.TextEncoder=h,r.TextDecoder=c},{}],26:[function(e,t,r){var n;n=this,function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var n=t("[0-9]","[A-Fa-f]"),i=r(r("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+r("%[89A-Fa-f]"+n+"%"+n+n)+"|"+r("%"+n+n)),o="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",a=t("[\\:\\/\\?\\#\\[\\]\\@]",o),s=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",u=e?"[\\uE000-\\uF8FF]":"[]",l=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",s),c=r("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),h=r(r(i+"|"+t(l,o,"[\\:]"))+"*"),f=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|[0-9]"),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?[0-9]")),d=r(f+"\\."+f+"\\."+f+"\\."+f),p=r(n+"{1,4}"),v=r(r(p+"\\:"+p)+"|"+d),_=r(r(p+"\\:")+"{6}"+v),b=r("\\:\\:"+r(p+"\\:")+"{5}"+v),m=r(r(p)+"?\\:\\:"+r(p+"\\:")+"{4}"+v),y=r(r(r(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+r(p+"\\:")+"{3}"+v),g=r(r(r(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+r(p+"\\:")+"{2}"+v),k=r(r(r(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+v),w=r(r(r(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+v),E=r(r(r(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),O=r(r(r(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),C=r([_,b,m,y,g,k,w,E,O].join("|")),I=r(r(l+"|"+i)+"+"),S=(r(C+"\\%25"+I),r(C+r("\\%25|\\%(?!"+n+"{2})")+I)),T=r("[vV]"+n+"+\\."+t(l,o,"[\\:]")+"+"),R=r("\\["+r(S+"|"+C+"|"+T)+"\\]"),N=r(r(i+"|"+t(l,o))+"*"),P=r(R+"|"+d+"(?!"+N+")|"+N),D=r("[0-9]*"),A=r(r(h+"@")+"?"+P+r("\\:"+D)+"?"),U=r(i+"|"+t(l,o,"[\\:\\@]")),j=r(U+"*"),x=r(U+"+"),M=r(r(i+"|"+t(l,o,"[\\@]"))+"+"),L=r(r("\\/"+j)+"*"),q=r("\\/"+r(x+L)+"?"),F=r(M+L),V=r(x+L),B="(?!"+U+")",H=(r(L+"|"+q+"|"+F+"|"+V+"|"+B),r(r(U+"|"+t("[\\/\\?]",u))+"*")),z=r(r(U+"|[\\/\\?]")+"*"),W=r(r("\\/\\/"+A+L)+"|"+q+"|"+V+"|"+B),Z=r(c+"\\:"+W+r("\\?"+H)+"?"+r("\\#"+z)+"?"),K=r(r("\\/\\/"+A+L)+"|"+q+"|"+F+"|"+B),J=r(K+r("\\?"+H)+"?"+r("\\#"+z)+"?");return r(Z+"|"+J),r(c+"\\:"+W+r("\\?"+H)+"?"),r(r("\\/\\/("+r("("+h+")@")+"?("+P+")"+r("\\:("+D+")")+"?)")+"?("+L+"|"+q+"|"+V+"|"+B+")"),r("\\?("+H+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+P+")"+r("\\:("+D+")")+"?)")+"?("+L+"|"+q+"|"+F+"|"+B+")"),r("\\?("+H+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+P+")"+r("\\:("+D+")")+"?)")+"?("+L+"|"+q+"|"+V+"|"+B+")"),r("\\?("+H+")"),r("\\#("+z+")"),r("("+h+")@"),r("\\:("+D+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,o),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,o),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,o),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,o),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,o,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,o,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,o),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,a),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+C+")"+r(r("\\%25|\\%(?!"+n+"{2})")+"("+I+")")+"?\\]?$")}}var a=o(!1),s=o(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){i=!0,o=u}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=2147483647,c=/^xn--/,h=/[^\0-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,v=String.fromCharCode;function _(e){throw new RangeError(d[e])}function b(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var i=(e=e.replace(f,".")).split("."),o=function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}(i,t).join(".");return n+o}function m(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}var y=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},g=function(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=36)e=p(e/35);return p(n+36*e/(e+38))},k=function(e){var t,r=[],n=e.length,i=0,o=128,a=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&_("not-basic"),r.push(e.charCodeAt(u));for(var c=s>0?s+1:0;c<n;){for(var h=i,f=1,d=36;;d+=36){c>=n&&_("invalid-input");var v=(t=e.charCodeAt(c++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(v>=36||v>p((l-i)/f))&&_("overflow"),i+=v*f;var b=d<=a?1:d>=a+26?26:d-a;if(v<b)break;var m=36-b;f>p(l/m)&&_("overflow"),f*=m}var y=r.length+1;a=g(i-h,y,0==h),p(i/y)>l-o&&_("overflow"),o+=p(i/y),i%=y,r.splice(i++,0,o)}return String.fromCodePoint.apply(String,r)},w=function(e){var t=[],r=(e=m(e)).length,n=128,i=0,o=72,a=!0,s=!1,u=void 0;try{for(var c,h=e[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){var f=c.value;f<128&&t.push(v(f))}}catch(F){s=!0,u=F}finally{try{!a&&h.return&&h.return()}finally{if(s)throw u}}var d=t.length,b=d;for(d&&t.push("-");b<r;){var k=l,w=!0,E=!1,O=void 0;try{for(var C,I=e[Symbol.iterator]();!(w=(C=I.next()).done);w=!0){var S=C.value;S>=n&&S<k&&(k=S)}}catch(F){E=!0,O=F}finally{try{!w&&I.return&&I.return()}finally{if(E)throw O}}var T=b+1;k-n>p((l-i)/T)&&_("overflow"),i+=(k-n)*T,n=k;var R=!0,N=!1,P=void 0;try{for(var D,A=e[Symbol.iterator]();!(R=(D=A.next()).done);R=!0){var U=D.value;if(U<n&&++i>l&&_("overflow"),U==n){for(var j=i,x=36;;x+=36){var M=x<=o?1:x>=o+26?26:x-o;if(j<M)break;var L=j-M,q=36-M;t.push(v(y(M+L%q,0))),j=p(L/q)}t.push(v(y(j,0))),o=g(i,T,b==d),i=0,++b}}}catch(F){N=!0,P=F}finally{try{!R&&A.return&&A.return()}finally{if(N)throw P}}++i,++n}return t.join("")},E={version:"2.1.0",ucs2:{decode:m,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}},decode:k,encode:w,toASCII:function(e){return b(e,function(e){return h.test(e)?"xn--"+w(e):e})},toUnicode:function(e){return b(e,function(e){return c.test(e)?k(e.slice(4).toLowerCase()):e})}},O={};function C(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function I(e){for(var t="",r=0,n=e.length;r<n;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var a=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function S(e,t){function r(e){var r=I(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,C).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,C).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,C).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,C).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,C).replace(t.PCT_ENCODED,i)),e}function T(e){return e.replace(/^0*(.*)/,"$1")||"0"}function R(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=u(r,2),i=n[1];return i?i.split(".").map(T).join("."):e}function N(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=u(r,3),i=n[1],o=n[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=u(a,2),l=s[0],c=s[1],h=c?c.split(":").map(T):[],f=l.split(":").map(T),d=t.IPV4ADDRESS.test(f[f.length-1]),p=d?7:8,v=f.length-p,_=Array(p),b=0;b<p;++b)_[b]=h[b]||f[v+b]||"";d&&(_[p-1]=R(_[p-1],t));var m=_.reduce(function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e},[]),y=m.sort(function(e,t){return t.length-e.length})[0],g=void 0;if(y&&y.length>1){var k=_.slice(0,y.index),w=_.slice(y.index+y.length);g=k.join(":")+"::"+w.join(":")}else g=_.join(":");return o&&(g+="%"+o),g}return e}var P=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,D=void 0==="".match(/(){0}/)[1];function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?s:a;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(P);if(i){D?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=N(R(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var o=O[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)S(r,n);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=E.toASCII(r.host.replace(n.PCT_ENCODED,I).toLowerCase())}catch(u){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+u}S(r,a)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var U=/^\.\.?\//,j=/^\/\.(\/|$)/,x=/^\/\.\.(\/|$)/,M=/^\/?(?:.|\n)*?(?=\/|$)/;function L(e){for(var t=[];e.length;)if(e.match(U))e=e.replace(U,"");else if(e.match(j))e=e.replace(j,"/");else if(e.match(x))e=e.replace(x,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(M);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?s:a,n=[],i=O[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?E.toUnicode(e.host):E.toASCII(e.host.replace(r.PCT_ENCODED,I).toLowerCase())}catch(l){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+l}S(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var o=function(e,t){var r=!1!==t.iri?s:a,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(N(R(String(e.host),r),r).replace(r.IPV6ADDRESS,function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"})),"number"===typeof e.port&&(n.push(":"),n.push(e.port.toString(10))),n.length?n.join(""):void 0}(e,t);if(void 0!==o&&("suffix"!==t.reference&&n.push("//"),n.push(o),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||i&&i.absolutePath||(u=L(u)),void 0===o&&(u=u.replace(/^\/\//,"/%2F")),n.push(u)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function F(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],i={};return n||(e=A(q(e,r),r),t=A(q(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=L(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=L(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=L(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=L(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function V(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:a.PCT_ENCODED,I)}var B={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},H={scheme:"https",domainHost:B.domainHost,parse:B.parse,serialize:B.serialize},z={},W="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Z="[0-9A-Fa-f]",K=r(r("%[EFef][0-9A-Fa-f]%"+Z+Z+"%"+Z+Z)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+Z+Z)+"|"+r("%"+Z+Z)),J=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Y=new RegExp(W,"g"),G=new RegExp(K,"g"),X=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',J),"g"),$=new RegExp(t("[^]",W,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Q=$;function ee(e){var t=I(e);return t.match(Y)?t:e}var te={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,o={},a=r.query.split("&"),s=0,u=a.length;s<u;++s){var l=a[s].split("=");switch(l[0]){case"to":for(var c=l[1].split(","),h=0,f=c.length;h<f;++h)n.push(c[h]);break;case"subject":r.subject=V(l[1],t);break;case"body":r.body=V(l[1],t);break;default:i=!0,o[V(l[0],t)]=V(l[1],t)}}i&&(r.headers=o)}r.query=void 0;for(var d=0,p=n.length;d<p;++d){var v=n[d].split("@");if(v[0]=V(v[0]),t.unicodeSupport)v[1]=V(v[1],t).toLowerCase();else try{v[1]=E.toASCII(V(v[1],t).toLowerCase())}catch(_){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+_}n[d]=v.join("@")}return r},serialize:function(e,t){var r,n=e,o=void 0!==(r=e.to)&&null!==r?r instanceof Array?r:"number"!==typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(o){for(var a=0,s=o.length;a<s;++a){var u=String(o[a]),l=u.lastIndexOf("@"),c=u.slice(0,l).replace(G,ee).replace(G,i).replace(X,C),h=u.slice(l+1);try{h=t.iri?E.toUnicode(h):E.toASCII(V(h,t).toLowerCase())}catch(v){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+v}o[a]=c+"@"+h}n.path=o.join(",")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var d=[];for(var p in f)f[p]!==z[p]&&d.push(p.replace(G,ee).replace(G,i).replace($,C)+"="+f[p].replace(G,ee).replace(G,i).replace(Q,C));return d.length&&(n.query=d.join("&")),n}},re=/^([^\:]+)\:(.*)/,ne={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(re),n=e;if(r){var i=t.scheme||n.scheme||"urn",o=r[1].toLowerCase(),a=r[2],s=i+":"+(t.nid||o),u=O[s];n.nid=o,n.nss=a,n.path=void 0,u&&(n=u.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),o=O[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(n||t.nid)+":"+s,a}},ie=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,oe={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ie)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};O[B.scheme]=B,O[H.scheme]=H,O[te.scheme]=te,O[ne.scheme]=ne,O[oe.scheme]=oe,e.SCHEMES=O,e.pctEncChar=C,e.pctDecChars=I,e.parse=A,e.removeDotSegments=L,e.serialize=q,e.resolveComponents=F,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return q(F(A(e,n),A(t,n),n,!0),n)},e.normalize=function(e,t){return"string"===typeof e?e=q(A(e,t),t):"object"===n(e)&&(e=A(q(e,t),t)),e},e.equal=function(e,t,r){return"string"===typeof e?e=q(A(e,r),r):"object"===n(e)&&(e=q(e,r)),"string"===typeof t?t=q(A(t,r),r):"object"===n(t)&&(t=q(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:a.ESCAPE,C)},e.unescapeComponent=V,Object.defineProperty(e,"__esModule",{value:!0})}("object"===typeof r&&"undefined"!==typeof t?r:n.URI=n.URI||{})},{}],27:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(r,"__esModule",{value:!0}),r.v1=r.default=void 0;var i=n(e("./v1/index"));r.v1=i;var o=i;r.default=o},{"./v1/index":31,"@babel/runtime/helpers/interopRequireWildcard":12}],28:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.WRITE=r.READ=r.Driver=void 0;var o=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/createClass")),s=i(e("./session")),u=i(e("./internal/pool")),l=i(e("./internal/connection")),c=e("./error"),h=e("./internal/connection-providers"),f=i(e("./internal/bookmark")),d=i(e("./internal/connectivity-verifier")),p=n(e("./internal/pool-config")),v=i(e("./internal/logger")),_=i(e("./internal/connection-error-handler")),b=e("./internal/constants"),m=36e5,y=b.ACCESS_MODE_READ;r.READ=y;var g=b.ACCESS_MODE_WRITE;r.WRITE=g;var k=0,w=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,o.default)(this,e),function(e){e.maxConnectionLifetime=E(e.maxConnectionLifetime,m),e.maxConnectionPoolSize=E(e.maxConnectionPoolSize,p.DEFAULT_MAX_SIZE),e.connectionAcquisitionTimeout=E(e.connectionAcquisitionTimeout,p.DEFAULT_ACQUISITION_TIMEOUT)}(i),this._id=k++,this._address=t,this._userAgent=r,this._openConnections={},this._authToken=n,this._config=i,this._log=v.default.create(i),this._pool=new u.default({create:this._createConnection.bind(this),destroy:this._destroyConnection.bind(this),validate:this._validateConnection.bind(this),installIdleObserver:this._installIdleObserverOnConnection.bind(this),removeIdleObserver:this._removeIdleObserverOnConnection.bind(this),config:p.default.fromDriverConfig(i),log:this._log}),this._connectionProvider=null,this._onCompleted=null,this._afterConstruction()}return(0,a.default)(e,[{key:"_afterConstruction",value:function(){this._log.info("Direct driver ".concat(this._id," created for server address ").concat(this._address))}},{key:"_createConnection",value:function(e,t){var r=this,n=l.default.create(e,this._config,this._createConnectionErrorHandler(),this._log);return n._release=function(){return t(e,n)},this._openConnections[n.id]=n,n.connect(this._userAgent,this._authToken).catch(function(e){throw r.onError&&r.onError(e),r._destroyConnection(n),e})}},{key:"_validateConnection",value:function(e){if(!e.isOpen())return!1;var t=this._config.maxConnectionLifetime,r=Date.now()-e.creationTimestamp;return r<=t}},{key:"_installIdleObserverOnConnection",value:function(e,t){e._queueObserver(t)}},{key:"_removeIdleObserverOnConnection",value:function(e){e._updateCurrentObserver()}},{key:"_destroyConnection",value:function(e){delete this._openConnections[e.id],e.close()}},{key:"session",value:function(t,r){var n=e._validateSessionMode(t),i=this._getOrCreateConnectionProvider(),o=r?new f.default(r):f.default.empty();return new s.default(n,i,o,this._config)}},{key:"_createConnectionProvider",value:function(e,t,r){return new h.DirectConnectionProvider(e,t,r)}},{key:"_createConnectionErrorHandler",value:function(){return new _.default(c.SERVICE_UNAVAILABLE)}},{key:"_getOrCreateConnectionProvider",value:function(){if(!this._connectionProvider){var e=this._driverOnErrorCallback.bind(this);this._connectionProvider=this._createConnectionProvider(this._address,this._pool,e)}return this._connectionProvider}},{key:"_driverOnErrorCallback",value:function(e){var t=this.onError;t&&e.code===c.SERVICE_UNAVAILABLE&&t(e)}},{key:"close",value:function(){this._log.info("Driver ".concat(this._id," closing"));try{this._pool.purgeAll()}finally{for(var e in this._openConnections)this._openConnections.hasOwnProperty(e)&&this._openConnections[e].close()}}},{key:"onCompleted",get:function(){return this._onCompleted},set:function(e){if(this._onCompleted=e,this._onCompleted){var t=this._getOrCreateConnectionProvider(),r=new d.default(t,this._onCompleted);r.verify()}}}],[{key:"_validateSessionMode",value:function(e){var t=e||g;if(t!==b.ACCESS_MODE_READ&&t!==b.ACCESS_MODE_WRITE)throw(0,c.newError)("Illegal session mode "+t);return t}}]),e}();function E(e,t){var r=parseInt(e,10);return r>0||0===r?r:r<0?Number.MAX_SAFE_INTEGER:t}r.Driver=w;var O=w;r.default=O},{"./error":29,"./internal/bookmark":36,"./internal/connection":49,"./internal/connection-error-handler":46,"./internal/connection-providers":48,"./internal/connectivity-verifier":50,"./internal/constants":51,"./internal/logger":59,"./internal/pool":63,"./internal/pool-config":62,"./session":85,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12}],29:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.newError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"N/A";return new l(e,t)},r.PROTOCOL_ERROR=r.SESSION_EXPIRED=r.SERVICE_UNAVAILABLE=r.Neo4jError=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),a=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/wrapNativeSuper"));r.SERVICE_UNAVAILABLE="ServiceUnavailable",r.SESSION_EXPIRED="SessionExpired",r.PROTOCOL_ERROR="ProtocolError";var l=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"N/A";return(0,i.default)(this,t),(r=(0,o.default)(this,(0,a.default)(t).call(this,e))).message=e,r.code=n,r.name="Neo4jError",r}return(0,s.default)(t,e),t}((0,u.default)(Error));r.Neo4jError=l},{"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18,"@babel/runtime/helpers/wrapNativeSuper":24}],30:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.PathSegment=r.Path=r.UnboundRelationship=r.Relationship=r.Node=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=function(){function e(t,r,n){(0,i.default)(this,e),this.identity=t,this.labels=r,this.properties=n}return(0,o.default)(e,[{key:"toString",value:function(){for(var e="("+this.identity,t=0;t<this.labels.length;t++)e+=":"+this.labels[t];var r=Object.keys(this.properties);if(r.length>0){e+=" {";for(var n=0;n<r.length;n++)n>0&&(e+=","),e+=r[n]+":"+JSON.stringify(this.properties[r[n]]);e+="}"}return e+=")"}}]),e}();r.Node=a;var s=function(){function e(t,r,n,o,a){(0,i.default)(this,e),this.identity=t,this.start=r,this.end=n,this.type=o,this.properties=a}return(0,o.default)(e,[{key:"toString",value:function(){var e="("+this.start+")-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var r=0;r<t.length;r++)r>0&&(e+=","),e+=t[r]+":"+JSON.stringify(this.properties[t[r]]);e+="}"}return e+="]->("+this.end+")"}}]),e}();r.Relationship=s;var u=function(){function e(t,r,n){(0,i.default)(this,e),this.identity=t,this.type=r,this.properties=n}return(0,o.default)(e,[{key:"bind",value:function(e,t){return new s(this.identity,e,t,this.type,this.properties)}},{key:"toString",value:function(){var e="-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var r=0;r<t.length;r++)r>0&&(e+=","),e+=t[r]+":"+JSON.stringify(this.properties[t[r]]);e+="}"}return e+="]->"}}]),e}();r.UnboundRelationship=u,r.PathSegment=function e(t,r,n){(0,i.default)(this,e),this.start=t,this.relationship=r,this.end=n},r.Path=function e(t,r,n){(0,i.default)(this,e),this.start=t,this.end=r,this.segments=n,this.length=n.length}},{"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],31:[function(e,r,n){(function(t){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault"),i=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.driver=E,Object.defineProperty(n,"int",{enumerable:!0,get:function(){return o.int}}),Object.defineProperty(n,"isInt",{enumerable:!0,get:function(){return o.isInt}}),Object.defineProperty(n,"Neo4jError",{enumerable:!0,get:function(){return s.Neo4jError}}),Object.defineProperty(n,"isPoint",{enumerable:!0,get:function(){return b.isPoint}}),Object.defineProperty(n,"isDate",{enumerable:!0,get:function(){return m.isDate}}),Object.defineProperty(n,"isDateTime",{enumerable:!0,get:function(){return m.isDateTime}}),Object.defineProperty(n,"isDuration",{enumerable:!0,get:function(){return m.isDuration}}),Object.defineProperty(n,"isLocalDateTime",{enumerable:!0,get:function(){return m.isLocalDateTime}}),Object.defineProperty(n,"isLocalTime",{enumerable:!0,get:function(){return m.isLocalTime}}),Object.defineProperty(n,"isTime",{enumerable:!0,get:function(){return m.isTime}}),n.default=n.temporal=n.spatial=n.error=n.session=n.types=n.logging=n.auth=n.integer=void 0;var o=i(e("./integer")),a=e("./graph-types"),s=e("./error"),u=r(e("./result")),l=r(e("./result-summary")),c=r(e("./record")),h=e("./driver"),f=r(e("./routing-driver")),d=r(e("../version")),p=e("./internal/util"),v=r(e("./internal/url-util")),_=r(e("./internal/http/http-driver")),b=e("./spatial-types"),m=e("./temporal-types"),y=r(e("./internal/server-address")),g={basic:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return r?{scheme:"basic",principal:e,credentials:t,realm:r}:{scheme:"basic",principal:e,credentials:t}},kerberos:function(e){return{scheme:"kerberos",principal:"",credentials:e}},custom:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return i?{scheme:n,principal:e,credentials:t,realm:r,parameters:i}:{scheme:n,principal:e,credentials:t,realm:r}}};n.auth=g;var k="neo4j-javascript/"+d.default,w={console:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return{level:e,logger:function(e,r){return console.log("".concat(t.Date.now()," ").concat(e.toUpperCase()," ").concat(r))}}})};function E(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,p.assertString)(e,"Bolt URL");var n=v.default.parseDatabaseUrl(e);if(-1!==["bolt+routing","neo4j"].indexOf(n.scheme))return new f.default(y.default.fromUrl(n.hostAndPort),n.query,k,t,r);if("bolt"===n.scheme){if(!(0,p.isEmptyObjectOrNull)(n.query))throw new Error("Parameters are not supported with scheme 'bolt'. Given URL: '".concat(e,"'"));return new h.Driver(y.default.fromUrl(n.hostAndPort),k,t,r)}if("http"===n.scheme||"https"===n.scheme)return new _.default(n,k,t,r);throw new Error("Unknown scheme: ".concat(n.scheme))}n.logging=w;var O={Node:a.Node,Relationship:a.Relationship,UnboundRelationship:a.UnboundRelationship,PathSegment:a.PathSegment,Path:a.Path,Result:u.default,ResultSummary:l.default,Record:c.default,Point:b.Point,Date:m.Date,DateTime:m.DateTime,Duration:m.Duration,LocalDateTime:m.LocalDateTime,LocalTime:m.LocalTime,Time:m.Time,Integer:o.default};n.types=O;var C={READ:h.READ,WRITE:h.WRITE};n.session=C;var I={SERVICE_UNAVAILABLE:s.SERVICE_UNAVAILABLE,SESSION_EXPIRED:s.SESSION_EXPIRED,PROTOCOL_ERROR:s.PROTOCOL_ERROR};n.error=I;var S={toNumber:o.toNumber,toString:o.toString,inSafeRange:o.inSafeRange};n.integer=S;var T={isPoint:b.isPoint};n.spatial=T;var R={isDuration:m.isDuration,isLocalTime:m.isLocalTime,isTime:m.isTime,isDate:m.isDate,isLocalDateTime:m.isLocalDateTime,isDateTime:m.isDateTime};n.temporal=R;var N={driver:E,int:o.int,isInt:o.isInt,isPoint:b.isPoint,isDuration:m.isDuration,isLocalTime:m.isLocalTime,isTime:m.isTime,isDate:m.isDate,isLocalDateTime:m.isLocalDateTime,isDateTime:m.isDateTime,integer:S,Neo4jError:s.Neo4jError,auth:g,logging:w,types:O,session:C,error:I,spatial:T,temporal:R},P=N;n.default=P}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../version":89,"./driver":28,"./error":29,"./graph-types":30,"./integer":32,"./internal/http/http-driver":52,"./internal/server-address":73,"./internal/url-util":79,"./internal/util":80,"./record":81,"./result":83,"./result-summary":82,"./routing-driver":84,"./spatial-types":86,"./temporal-types":87,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12}],32:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.toString=r.toNumber=r.inSafeRange=r.isInt=r.int=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=e("./error"),s=function(){function e(t,r){(0,i.default)(this,e),this.low=0|t,this.high=0|r}return(0,o.default)(e,[{key:"inSafeRange",value:function(){return this.greaterThanOrEqual(e.MIN_SAFE_VALUE)&&this.lessThanOrEqual(e.MAX_SAFE_VALUE)}},{key:"toInt",value:function(){return this.low}},{key:"toNumber",value:function(){return this.high*l+(this.low>>>0)}},{key:"toNumberOrInfinity",value:function(){return this.lessThan(e.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(e.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()}},{key:"toString",value:function(t){if((t=t||10)<2||t>36)throw RangeError("radix out of range: "+t);if(this.isZero())return"0";var r;if(this.isNegative()){if(this.equals(e.MIN_VALUE)){var n=e.fromNumber(t),i=this.div(n);return r=i.multiply(n).subtract(this),i.toString(t)+r.toInt().toString(t)}return"-"+this.negate().toString(t)}var o=e.fromNumber(Math.pow(t,6));r=this;for(var a="";;){var s=r.div(o),u=r.subtract(s.multiply(o)).toInt()>>>0,l=u.toString(t);if((r=s).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}}},{key:"getHighBits",value:function(){return this.high}},{key:"getLowBits",value:function(){return this.low}},{key:"getNumBitsAbs",value:function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!==this.high?this.high:this.low,r=31;r>0&&0===(t&1<<r);r--);return 0!==this.high?r+33:r+1}},{key:"isZero",value:function(){return 0===this.high&&0===this.low}},{key:"isNegative",value:function(){return this.high<0}},{key:"isPositive",value:function(){return this.high>=0}},{key:"isOdd",value:function(){return 1===(1&this.low)}},{key:"isEven",value:function(){return 0===(1&this.low)}},{key:"equals",value:function(t){return e.isInteger(t)||(t=e.fromValue(t)),this.high===t.high&&this.low===t.low}},{key:"notEquals",value:function(e){return!this.equals(e)}},{key:"lessThan",value:function(e){return this.compare(e)<0}},{key:"lessThanOrEqual",value:function(e){return this.compare(e)<=0}},{key:"greaterThan",value:function(e){return this.compare(e)>0}},{key:"greaterThanOrEqual",value:function(e){return this.compare(e)>=0}},{key:"compare",value:function(t){if(e.isInteger(t)||(t=e.fromValue(t)),this.equals(t))return 0;var r=this.isNegative(),n=t.isNegative();return r&&!n?-1:!r&&n?1:this.subtract(t).isNegative()?-1:1}},{key:"negate",value:function(){return this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)}},{key:"add",value:function(t){e.isInteger(t)||(t=e.fromValue(t));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,a=t.high>>>16,s=65535&t.high,u=t.low>>>16,l=65535&t.low,c=0,h=0,f=0,d=0;return f+=(d+=o+l)>>>16,d&=65535,h+=(f+=i+u)>>>16,f&=65535,c+=(h+=n+s)>>>16,h&=65535,c+=r+a,c&=65535,e.fromBits(f<<16|d,c<<16|h)}},{key:"subtract",value:function(t){return e.isInteger(t)||(t=e.fromValue(t)),this.add(t.negate())}},{key:"multiply",value:function(t){if(this.isZero())return e.ZERO;if(e.isInteger(t)||(t=e.fromValue(t)),t.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(f)&&t.lessThan(f))return e.fromNumber(this.toNumber()*t.toNumber());var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,a=t.high>>>16,s=65535&t.high,u=t.low>>>16,l=65535&t.low,c=0,h=0,d=0,p=0;return d+=(p+=o*l)>>>16,p&=65535,h+=(d+=i*l)>>>16,d&=65535,h+=(d+=o*u)>>>16,d&=65535,c+=(h+=n*l)>>>16,h&=65535,c+=(h+=i*u)>>>16,h&=65535,c+=(h+=o*s)>>>16,h&=65535,c+=r*l+n*u+i*s+o*a,c&=65535,e.fromBits(d<<16|p,c<<16|h)}},{key:"div",value:function(t){if(e.isInteger(t)||(t=e.fromValue(t)),t.isZero())throw(0,a.newError)("division by zero");if(this.isZero())return e.ZERO;var r,n,i;if(this.equals(e.MIN_VALUE)){if(t.equals(e.ONE)||t.equals(e.NEG_ONE))return e.MIN_VALUE;if(t.equals(e.MIN_VALUE))return e.ONE;var o=this.shiftRight(1);return(r=o.div(t).shiftLeft(1)).equals(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(n=this.subtract(t.multiply(r)),i=r.add(n.div(t)))}if(t.equals(e.MIN_VALUE))return e.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();for(i=e.ZERO,n=this;n.greaterThanOrEqual(t);){r=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(r)/Math.LN2),u=s<=48?1:Math.pow(2,s-48),l=e.fromNumber(r),c=l.multiply(t);c.isNegative()||c.greaterThan(n);)r-=u,l=e.fromNumber(r),c=l.multiply(t);l.isZero()&&(l=e.ONE),i=i.add(l),n=n.subtract(c)}return i}},{key:"modulo",value:function(t){return e.isInteger(t)||(t=e.fromValue(t)),this.subtract(this.div(t).multiply(t))}},{key:"not",value:function(){return e.fromBits(~this.low,~this.high)}},{key:"and",value:function(t){return e.isInteger(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high)}},{key:"or",value:function(t){return e.isInteger(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high)}},{key:"xor",value:function(t){return e.isInteger(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high)}},{key:"shiftLeft",value:function(t){return e.isInteger(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t):e.fromBits(0,this.low<<t-32)}},{key:"shiftRight",value:function(t){return e.isInteger(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t):e.fromBits(this.high>>t-32,this.high>=0?0:-1)}}]),e}();s.__isInteger__=!0,Object.defineProperty(s.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1}),s.isInteger=function(e){return!0===(e&&e.__isInteger__)};var u={};s.fromInt=function(e){var t,r;return(e|=0)>=-128&&e<128&&(r=u[e])?r:(t=new s(e,e<0?-1:0,!1),e>=-128&&e<128&&(u[e]=t),t)},s.fromNumber=function(e){return isNaN(e)||!isFinite(e)?s.ZERO:e<=-h?s.MIN_VALUE:e+1>=h?s.MAX_VALUE:e<0?s.fromNumber(-e).negate():new s(e%l|0,e/l|0)},s.fromBits=function(e,t){return new s(e,t)},s.fromString=function(e,t){if(0===e.length)throw(0,a.newError)("number format error: empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return s.ZERO;if((t=t||10)<2||t>36)throw(0,a.newError)("radix out of range: "+t);var r;if((r=e.indexOf("-"))>0)throw(0,a.newError)('number format error: interior "-" character: '+e);if(0===r)return s.fromString(e.substring(1),t).negate();for(var n=s.fromNumber(Math.pow(t,8)),i=s.ZERO,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+u),t);if(u<8){var c=s.fromNumber(Math.pow(t,u));i=i.multiply(c).add(s.fromNumber(l))}else i=(i=i.multiply(n)).add(s.fromNumber(l))}return i},s.fromValue=function(e){return e instanceof s?e:"number"===typeof e?s.fromNumber(e):"string"===typeof e?s.fromString(e):new s(e.low,e.high)},s.toNumber=function(e){return s.fromValue(e).toNumber()},s.toString=function(e,t){return s.fromValue(e).toString(t)},s.inSafeRange=function(e){return s.fromValue(e).inSafeRange()};var l=4294967296,c=l*l,h=c/2,f=s.fromInt(1<<24);s.ZERO=s.fromInt(0),s.ONE=s.fromInt(1),s.NEG_ONE=s.fromInt(-1),s.MAX_VALUE=s.fromBits(-1,2147483647,!1),s.MIN_VALUE=s.fromBits(0,-2147483648,!1),s.MIN_SAFE_VALUE=s.fromBits(1,-2097152),s.MAX_SAFE_VALUE=s.fromBits(-1,2097151);var d=s.fromValue;r.int=d;var p=s.isInteger;r.isInt=p;var v=s.inSafeRange;r.inSafeRange=v;var _=s.toNumber;r.toNumber=_;var b=s.toString;r.toString=b;var m=s;r.default=m},{"./error":29,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],33:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/createClass")),s=i(e("./request-message")),u=n(e("./packstream-v1")),l=e("../error"),c=i(e("./bookmark")),h=i(e("./tx-config")),f=e("./constants"),d=function(){function e(t,r,n){(0,o.default)(this,e),this._connection=t,this._packer=this._createPacker(r),this._unpacker=this._createUnpacker(n)}return(0,a.default)(e,[{key:"packer",value:function(){return this._packer}},{key:"unpacker",value:function(){return this._unpacker}},{key:"transformMetadata",value:function(e){return e}},{key:"initialize",value:function(e,t,r){var n=s.default.init(e,t);this._connection.write(n,r,!0)}},{key:"prepareToClose",value:function(e){}},{key:"beginTransaction",value:function(e,t,r,n){p(t,this._connection,n);var i=s.default.run("BEGIN",e.asBeginTransactionParameters()),o=s.default.pullAll();this._connection.write(i,n,!1),this._connection.write(o,n,!1)}},{key:"commitTransaction",value:function(e){this.run("COMMIT",{},c.default.empty(),h.default.empty(),f.ACCESS_MODE_WRITE,e)}},{key:"rollbackTransaction",value:function(e){this.run("ROLLBACK",{},c.default.empty(),h.default.empty(),f.ACCESS_MODE_WRITE,e)}},{key:"run",value:function(e,t,r,n,i,o){p(n,this._connection,o);var a=s.default.run(e,t),u=s.default.pullAll();this._connection.write(a,o,!1),this._connection.write(u,o,!0)}},{key:"reset",value:function(e){var t=s.default.reset();this._connection.write(t,e,!0)}},{key:"_createPacker",value:function(e){return new u.Packer(e)}},{key:"_createUnpacker",value:function(e){return new u.Unpacker(e)}}]),e}();function p(e,t,r){if(!e.isEmpty()){var n=(0,l.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw t._handleFatalError(n),r.onError(n),n}}r.default=d},{"../error":29,"./bookmark":36,"./constants":51,"./packstream-v1":60,"./request-message":66,"./tx-config":78,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12}],34:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/createClass")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),u=i(e("@babel/runtime/helpers/getPrototypeOf")),l=i(e("@babel/runtime/helpers/inherits")),c=i(e("./bolt-protocol-v1")),h=n(e("./packstream-v2")),f=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"_createPacker",value:function(e){return new h.Packer(e)}},{key:"_createUnpacker",value:function(e){return new h.Unpacker(e)}}]),t}(c.default);r.default=f},{"./bolt-protocol-v1":33,"./packstream-v2":61,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],35:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/inherits")),l=n(e("./bolt-protocol-v2")),c=n(e("./request-message")),h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"transformMetadata",value:function(e){return e.t_first&&(e.result_available_after=e.t_first,delete e.t_first),e.t_last&&(e.result_consumed_after=e.t_last,delete e.t_last),e}},{key:"initialize",value:function(e,t,r){f(r);var n=c.default.hello(e,t);this._connection.write(n,r,!0)}},{key:"prepareToClose",value:function(e){var t=c.default.goodbye();this._connection.write(t,e,!0)}},{key:"beginTransaction",value:function(e,t,r,n){f(n);var i=c.default.begin(e,t,r);this._connection.write(i,n,!0)}},{key:"commitTransaction",value:function(e){f(e);var t=c.default.commit();this._connection.write(t,e,!0)}},{key:"rollbackTransaction",value:function(e){f(e);var t=c.default.rollback();this._connection.write(t,e,!0)}},{key:"run",value:function(e,t,r,n,i,o){var a=c.default.runWithMetadata(e,t,r,n,i),s=c.default.pullAll();this._connection.write(a,o,!1),this._connection.write(s,o,!0)}}]),t}(l.default);function f(e){e&&"function"===typeof e.prepareToHandleSingleResponse&&e.prepareToHandleSingleResponse()}r.default=h},{"./bolt-protocol-v2":34,"./request-message":66,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],36:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),a=i(e("@babel/runtime/helpers/classCallCheck")),s=i(e("@babel/runtime/helpers/createClass")),u=n(e("./util")),l="neo4j:bookmark:v1:tx",c=-1,h=function(){function e(t){(0,a.default)(this,e),this._values=function(e){if(!e)return[];if(u.isString(e))return[e];if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(void 0!==n&&null!==n){if(!u.isString(n))throw new TypeError("Bookmark should be a string, given: '".concat(n,"'"));t.push(n)}}return t}throw new TypeError("Bookmark should either be a string or a string array, given: '".concat(e,"'"))}(t),this._maxValue=function(e){if(!e||0===e.length)return null;for(var t=e[0],r=d(t),n=1;n<e.length;n++){var i=e[n],o=d(i);o>r&&(t=i,r=o)}return t}(this._values)}return(0,s.default)(e,[{key:"isEmpty",value:function(){return null===this._maxValue}},{key:"maxBookmarkAsString",value:function(){return this._maxValue}},{key:"values",value:function(){return this._values}},{key:"asBeginTransactionParameters",value:function(){var e;return this.isEmpty()?{}:(e={},(0,o.default)(e,"bookmark",this._maxValue),(0,o.default)(e,"bookmarks",this._values),e)}}],[{key:"empty",value:function(){return f}}]),e}();r.default=h;var f=new h(null);function d(e){if(e&&0===e.indexOf(l)){var t=parseInt(e.substring(l.length));return t||c}return c}},{"./util":80,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12}],37:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/inherits")),l=n(e("../buf/base-buf")),c=function(e){function t(e){var r;(0,i.default)(this,t);var n=e instanceof ArrayBuffer?e:new ArrayBuffer(e);return(r=(0,a.default)(this,(0,s.default)(t).call(this,n.byteLength)))._buffer=n,r._view=new DataView(r._buffer),r}return(0,u.default)(t,e),(0,o.default)(t,[{key:"putUInt8",value:function(e,t){this._view.setUint8(e,t)}},{key:"getUInt8",value:function(e){return this._view.getUint8(e)}},{key:"putInt8",value:function(e,t){this._view.setInt8(e,t)}},{key:"getInt8",value:function(e){return this._view.getInt8(e)}},{key:"getFloat64",value:function(e){return this._view.getFloat64(e)}},{key:"putFloat64",value:function(e,t){this._view.setFloat64(e,t)}},{key:"getSlice",value:function(e,r){if(this._buffer.slice)return new t(this._buffer.slice(e,e+r));for(var n=new t(r),i=0;i<r;i++)n.putUInt8(i,this.getUInt8(i+e));return n}},{key:"readView",value:function(e){return new DataView(this._buffer,this._updatePos(e),e)}}]),t}(l.default);r.default=c},{"../buf/base-buf":42,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],38:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("./browser-buf")),s=e("../../error"),u=e("../util"),l=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;(0,i.default)(this,e),this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=t;var n=function(e,t){var r=function(e){return!0===e.encrypted||e.encrypted===u.ENCRYPTION_ON}(e),n=function(e){return!1===e.encrypted||e.encrypted===u.ENCRYPTION_OFF}(e),i=e.trust,o=function(e){var t="function"===typeof e?e():"";return t&&t.toLowerCase().indexOf("https")>=0}(t);if(function(e,t,r){e&&!r?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):t&&r&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption.")}(r,n,o),n)return{scheme:"ws",error:null};if(o)return{scheme:"wss",error:null};if(r){if(i&&"TRUST_CUSTOM_CA_SIGNED_CERTIFICATES"!==i){var a=(0,s.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES'. "+i+' is not supported. Please either use TRUST_CUSTOM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+u.ENCRYPTION_OFF+'"` in the driver configuration.');return{scheme:null,error:a}}return{scheme:"wss",error:null}}return{scheme:"ws",error:null}}(t,r),o=n.scheme,l=n.error;if(l)this._error=l;else{this._ws=function(e,t){var r=e+"://"+t.asHostPort();try{return new WebSocket(r)}catch(l){if(function(e,t){return"SyntaxError"===e.name&&"["===(r=t.asHostPort()).charAt(0)&&-1!==r.indexOf("]");var r}(l,t)){var n=function(e,t){var r=t.host().replace(new RegExp(":","g"),"-").replace("%","s")+".ipv6-literal.net";return"".concat(e,"://").concat(r,":").concat(t.port())}(e,t);return new WebSocket(n)}throw l}}(o,t.address),this._ws.binaryType="arraybuffer";var h=this;this._ws.onclose=function(e){e.wasClean||h._handleConnectionError()},this._ws.onopen=function(){h._clearConnectionTimeout();var e=h._pending;h._pending=null;for(var t=0;t<e.length;t++)h.write(e[t])},this._ws.onmessage=function(e){if(h.onmessage){var t=new a.default(e.data);h.onmessage(t)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}}return(0,o.default)(e,[{key:"_handleConnectionError",value:function(){if(this._connectionTimeoutFired)return this._error=(0,s.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),void(this.onerror&&this.onerror(this._error));this._open&&(this._error=(0,s.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))}},{key:"write",value:function(e){if(null!==this._pending)this._pending.push(e);else{if(!(e instanceof a.default))throw(0,s.newError)("Don't know how to send buffer: "+e);this._ws.send(e._buffer)}}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null};this._open=!1,this._clearConnectionTimeout(),this._ws.close(),this._ws.onclose=e}},{key:"_setupConnectionTimeout",value:function(){var e=this,t=this._config.connectionTimeout;if(t){var r=this._ws;return setTimeout(function(){r.readyState!==WebSocket.OPEN&&(e._connectionTimeoutFired=!0,r.close())},t)}return null}},{key:"_clearConnectionTimeout",value:function(){var e=this._connectionTimeoutId;(e||0===e)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(e))}}]),e}();function c(){return"undefined"!==typeof window&&window.location?window.location.protocol:null}r.default=l},{"../../error":29,"../util":80,"./browser-buf":37,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],39:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/inherits")),l=n(e("../resolver/base-host-name-resolver")),c=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"resolve",value:function(e){return this._resolveToItself(e)}}]),t}(l.default);r.default=c},{"../resolver/base-host-name-resolver":67,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],40:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("../browser/browser-buf")),o=e("text-encoding-utf-8"),a=new o.TextEncoder("utf-8"),s=new o.TextDecoder("utf-8"),u={encode:function(e){return new i.default(a.encode(e).buffer)},decode:function(e,t){if(e instanceof i.default)return s.decode(e.readView(Math.min(t,e.length-e.position)));for(var r=new i.default(t),n=0;n<t;n++)r.writeUInt8(e.readUInt8());return r.reset(),s.decode(r.readView(t))}};r.default=u},{"../browser/browser-buf":37,"@babel/runtime/helpers/interopRequireDefault":11,"text-encoding-utf-8":25}],41:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.utf8=r.HostNameResolver=r.Channel=r.alloc=void 0;var i=n(e("./browser-buf")),o=n(e("./browser-channel")),a=n(e("./browser-host-name-resolver")),s=n(e("./browser-utf8"));r.alloc=function(e){return new i.default(e)};var u=o.default;r.Channel=u;var l=a.default;r.HostNameResolver=l;var c=s.default;r.utf8=c},{"./browser-buf":37,"./browser-channel":38,"./browser-host-name-resolver":39,"./browser-utf8":40,"@babel/runtime/helpers/interopRequireDefault":11}],42:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),a=n(e("@babel/runtime/helpers/inherits")),s=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass")),l=function(){function e(t){(0,s.default)(this,e),this.position=0,this.length=t}return(0,u.default)(e,[{key:"getUInt8",value:function(e){throw new Error("Not implemented")}},{key:"getInt8",value:function(e){throw new Error("Not implemented")}},{key:"getFloat64",value:function(e){throw new Error("Not implemented")}},{key:"putUInt8",value:function(e,t){throw new Error("Not implemented")}},{key:"putInt8",value:function(e,t){throw new Error("Not implemented")}},{key:"putFloat64",value:function(e,t){throw new Error("Not implemented")}},{key:"getInt16",value:function(e){return this.getInt8(e)<<8|this.getUInt8(e+1)}},{key:"getUInt16",value:function(e){return this.getUInt8(e)<<8|this.getUInt8(e+1)}},{key:"getInt32",value:function(e){return this.getInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)}},{key:"getUInt32",value:function(e){return this.getUInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)}},{key:"getInt64",value:function(e){return this.getInt8(e)<<56|this.getUInt8(e+1)<<48|this.getUInt8(e+2)<<40|this.getUInt8(e+3)<<32|this.getUInt8(e+4)<<24|this.getUInt8(e+5)<<16|this.getUInt8(e+6)<<8|this.getUInt8(e+7)}},{key:"getSlice",value:function(e,t){return new c(e,t,this)}},{key:"putInt16",value:function(e,t){this.putInt8(e,t>>8),this.putUInt8(e+1,255&t)}},{key:"putUInt16",value:function(e,t){this.putUInt8(e,t>>8&255),this.putUInt8(e+1,255&t)}},{key:"putInt32",value:function(e,t){this.putInt8(e,t>>24),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)}},{key:"putUInt32",value:function(e,t){this.putUInt8(e,t>>24&255),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)}},{key:"putInt64",value:function(e,t){this.putInt8(e,t>>48),this.putUInt8(e+1,t>>42&255),this.putUInt8(e+2,t>>36&255),this.putUInt8(e+3,t>>30&255),this.putUInt8(e+4,t>>24&255),this.putUInt8(e+5,t>>16&255),this.putUInt8(e+6,t>>8&255),this.putUInt8(e+7,255&t)}},{key:"putBytes",value:function(e,t){for(var r=0,n=t.remaining();r<n;r++)this.putUInt8(e+r,t.readUInt8())}},{key:"readUInt8",value:function(){return this.getUInt8(this._updatePos(1))}},{key:"readInt8",value:function(){return this.getInt8(this._updatePos(1))}},{key:"readUInt16",value:function(){return this.getUInt16(this._updatePos(2))}},{key:"readUInt32",value:function(){return this.getUInt32(this._updatePos(4))}},{key:"readInt16",value:function(){return this.getInt16(this._updatePos(2))}},{key:"readInt32",value:function(){return this.getInt32(this._updatePos(4))}},{key:"readInt64",value:function(){return this.getInt32(this._updatePos(8))}},{key:"readFloat64",value:function(){return this.getFloat64(this._updatePos(8))}},{key:"writeUInt8",value:function(e){this.putUInt8(this._updatePos(1),e)}},{key:"writeInt8",value:function(e){this.putInt8(this._updatePos(1),e)}},{key:"writeInt16",value:function(e){this.putInt16(this._updatePos(2),e)}},{key:"writeInt32",value:function(e){this.putInt32(this._updatePos(4),e)}},{key:"writeUInt32",value:function(e){this.putUInt32(this._updatePos(4),e)}},{key:"writeInt64",value:function(e){this.putInt64(this._updatePos(8),e)}},{key:"writeFloat64",value:function(e){this.putFloat64(this._updatePos(8),e)}},{key:"writeBytes",value:function(e){this.putBytes(this._updatePos(e.remaining()),e)}},{key:"readSlice",value:function(e){return this.getSlice(this._updatePos(e),e)}},{key:"_updatePos",value:function(e){var t=this.position;return this.position+=e,t}},{key:"remaining",value:function(){return this.length-this.position}},{key:"hasRemaining",value:function(){return this.remaining()>0}},{key:"reset",value:function(){this.position=0}},{key:"toString",value:function(){return this.constructor.name+"( position="+this.position+" )\n  "+this.toHex()}},{key:"toHex",value:function(){for(var e="",t=0;t<this.length;t++){var r=this.getUInt8(t).toString(16);1===r.length&&(r="0"+r),e+=r,t!==this.length-1&&(e+=" ")}return e}}]),e}();r.default=l;var c=function(e){function t(e,r,n){var a;return(0,s.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this,r)))._start=e,a._inner=n,a}return(0,a.default)(t,e),(0,u.default)(t,[{key:"putUInt8",value:function(e,t){this._inner.putUInt8(this._start+e,t)}},{key:"getUInt8",value:function(e){return this._inner.getUInt8(this._start+e)}},{key:"putInt8",value:function(e,t){this._inner.putInt8(this._start+e,t)}},{key:"putFloat64",value:function(e,t){this._inner.putFloat64(this._start+e,t)}},{key:"getInt8",value:function(e){return this._inner.getInt8(this._start+e)}},{key:"getFloat64",value:function(e){return this._inner.getFloat64(this._start+e)}}]),t}(l)},{"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],43:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/inherits")),l=n(e("./base-buf")),c=e("../browser"),h=function(e){function t(e){var r;(0,i.default)(this,t);for(var n=0,o=0;o<e.length;o++)n+=e[o].length;return(r=(0,a.default)(this,(0,s.default)(t).call(this,n)))._buffers=e,r}return(0,u.default)(t,e),(0,o.default)(t,[{key:"getUInt8",value:function(e){for(var t=0;t<this._buffers.length;t++){var r=this._buffers[t];if(!(e>=r.length))return r.getUInt8(e);e-=r.length}}},{key:"getInt8",value:function(e){for(var t=0;t<this._buffers.length;t++){var r=this._buffers[t];if(!(e>=r.length))return r.getInt8(e);e-=r.length}}},{key:"getFloat64",value:function(e){for(var t=(0,c.alloc)(8),r=0;r<8;r++)t.putUInt8(r,this.getUInt8(e+r));return t.getFloat64(0)}}]),t}(l.default);r.default=h},{"../browser":41,"./base-buf":42,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],44:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=e("../error"),a=e("./util"),s=5e3,u=[null,void 0,!0,!1,a.ENCRYPTION_ON,a.ENCRYPTION_OFF],l=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_ON_FIRST_USE","TRUST_SIGNED_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];r.default=function e(t,r,n){(0,i.default)(this,e),this.address=t,this.encrypted=function(e){var t=e.encrypted;if(-1===u.indexOf(t))throw(0,o.newError)("Illegal value of the encrypted setting ".concat(t,". Expected one of ").concat(u));return t}(r),this.trust=function(e){var t=e.trust;if(-1===l.indexOf(t))throw(0,o.newError)("Illegal value of the trust setting ".concat(t,". Expected one of ").concat(l));return t}(r),this.trustedCertificates=function(e){return e.trustedCertificates||[]}(r),this.knownHostsPath=function(e){return e.knownHosts||null}(r),this.connectionErrorCode=n||o.SERVICE_UNAVAILABLE,this.connectionTimeout=function(e){var t=parseInt(e.connectionTimeout,10);return 0===t?null:t&&t<0?null:t||s}(r)}},{"../error":29,"./util":80,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/interopRequireDefault":11}],45:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Dechunker=r.Chunker=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/inherits")),l=n(e("./buf/base-buf")),c=e("./browser"),h=n(e("./buf/combined-buf")),f=1400,d=function(e){function t(e,r){var n;return(0,i.default)(this,t),(n=(0,a.default)(this,(0,s.default)(t).call(this,0)))._bufferSize=r||f,n._ch=e,n._buffer=(0,c.alloc)(n._bufferSize),n._currentChunkStart=0,n._chunkOpen=!1,n}return(0,u.default)(t,e),(0,o.default)(t,[{key:"putUInt8",value:function(e,t){this._ensure(1),this._buffer.writeUInt8(t)}},{key:"putInt8",value:function(e,t){this._ensure(1),this._buffer.writeInt8(t)}},{key:"putFloat64",value:function(e,t){this._ensure(8),this._buffer.writeFloat64(t)}},{key:"putBytes",value:function(e,t){for(;t.remaining()>0;)this._ensure(1),this._buffer.remaining()>t.remaining()?this._buffer.writeBytes(t):this._buffer.writeBytes(t.readSlice(this._buffer.remaining()));return this}},{key:"flush",value:function(){if(this._buffer.position>0){this._closeChunkIfOpen();var e=this._buffer;this._buffer=null,this._ch.write(e.getSlice(0,e.position)),this._buffer=(0,c.alloc)(this._bufferSize),this._chunkOpen=!1}return this}},{key:"messageBoundary",value:function(){this._closeChunkIfOpen(),this._buffer.remaining()<2&&this.flush(),this._buffer.writeInt16(0)}},{key:"_ensure",value:function(e){var t=this._chunkOpen?e:e+2;this._buffer.remaining()<t&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)}},{key:"_closeChunkIfOpen",value:function(){if(this._chunkOpen){var e=this._buffer.position-(this._currentChunkStart+2);this._buffer.putUInt16(this._currentChunkStart,e),this._chunkOpen=!1}}}]),t}(l.default);r.Chunker=d;var p=function(){function e(){(0,i.default)(this,e),this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return(0,o.default)(e,[{key:"AWAITING_CHUNK",value:function(e){return e.remaining()>=2?this._onHeader(e.readUInt16()):(this._partialChunkHeader=e.readUInt8()<<8,this.IN_HEADER)}},{key:"IN_HEADER",value:function(e){return this._onHeader(65535&(this._partialChunkHeader|e.readUInt8()))}},{key:"IN_CHUNK",value:function(e){return this._chunkSize<=e.remaining()?(this._currentMessage.push(e.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=e.remaining(),this._currentMessage.push(e.readSlice(e.remaining())),this.IN_CHUNK)}},{key:"CLOSED",value:function(e){}},{key:"_onHeader",value:function(e){var t;return 0===e?(t=1===this._currentMessage.length?this._currentMessage[0]:new h.default(this._currentMessage),this._currentMessage=[],this.onmessage(t),this.AWAITING_CHUNK):(this._chunkSize=e,this.IN_CHUNK)}},{key:"write",value:function(e){for(;e.hasRemaining();)this._state=this._state(e)}}]),e}();r.Dechunker=p},{"./browser":41,"./buf/base-buf":42,"./buf/combined-buf":43,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],46:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=e("../error"),s=function(){function e(t,r,n){(0,i.default)(this,e),this._errorCode=t,this._handleUnavailability=r||u,this._handleWriteFailure=n||u}return(0,o.default)(e,[{key:"errorCode",value:function(){return this._errorCode}},{key:"handleAndTransformError",value:function(e,t){return function(e){return!!e&&(e.code===a.SESSION_EXPIRED||e.code===a.SERVICE_UNAVAILABLE||"Neo.TransientError.General.DatabaseUnavailable"===e.code)}(e)?this._handleUnavailability(e,t):function(e){return!!e&&("Neo.ClientError.Cluster.NotALeader"===e.code||"Neo.ClientError.General.ForbiddenOnReadOnlyDatabase"===e.code)}(e)?this._handleWriteFailure(e,t):e}}]),e}();function u(e){return e}r.default=s},{"../error":29,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],47:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.EMPTY_CONNECTION_HOLDER=r.default=void 0;var i=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),a=n(e("@babel/runtime/helpers/inherits")),s=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass")),l=e("../error"),c=function(){function e(t,r){(0,s.default)(this,e),this._mode=t,this._connectionProvider=r,this._referenceCount=0,this._connectionPromise=Promise.resolve(null)}return(0,u.default)(e,[{key:"mode",value:function(){return this._mode}},{key:"initializeConnection",value:function(){0===this._referenceCount&&(this._connectionPromise=this._connectionProvider.acquireConnection(this._mode)),this._referenceCount++}},{key:"getConnection",value:function(e){return this._connectionPromise.then(function(t){return e.resolveConnection(t),t})}},{key:"releaseConnection",value:function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount--,0===this._referenceCount?this._releaseConnection():this._connectionPromise)}},{key:"close",value:function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount=0,this._releaseConnection())}},{key:"_releaseConnection",value:function(){return this._connectionPromise=this._connectionPromise.then(function(e){return e?e.resetAndFlush().catch(f).then(function(){return e._release()}):Promise.resolve()}).catch(f),this._connectionPromise}}]),e}();r.default=c;var h=function(e){function t(){return(0,s.default)(this,t),(0,i.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,a.default)(t,e),(0,u.default)(t,[{key:"initializeConnection",value:function(){}},{key:"getConnection",value:function(e){return Promise.reject((0,l.newError)("This connection holder does not serve connections"))}},{key:"releaseConnection",value:function(){return Promise.resolve()}},{key:"close",value:function(){return Promise.resolve()}}]),t}(c);function f(){}var d=new h;r.EMPTY_CONNECTION_HOLDER=d},{"../error":29,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],48:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.SingleConnectionProvider=r.LoadBalancer=r.DirectConnectionProvider=void 0;var i=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),a=n(e("@babel/runtime/helpers/inherits")),s=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass")),l=e("../error"),c=e("../driver"),h=n(e("../session")),f=n(e("./routing-table")),d=n(e("./rediscovery")),p=n(e("./routing-util")),v=e("./browser"),_=function(){function e(){(0,s.default)(this,e)}return(0,u.default)(e,[{key:"acquireConnection",value:function(e){throw new Error("Abstract function")}},{key:"_withAdditionalOnErrorCallback",value:function(e,t){return e.catch(function(e){t(e)}),e}}]),e}(),b=function(e){function t(e,r,n){var a;return(0,s.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this)))._address=e,a._connectionPool=r,a._driverOnErrorCallback=n,a}return(0,a.default)(t,e),(0,u.default)(t,[{key:"acquireConnection",value:function(e){var t=this._connectionPool.acquire(this._address);return this._withAdditionalOnErrorCallback(t,this._driverOnErrorCallback)}}]),t}(_);r.DirectConnectionProvider=b;var m=function(e){function t(e,r,n,a,u,l,c){var h;return(0,s.default)(this,t),(h=(0,i.default)(this,(0,o.default)(t).call(this)))._seedRouter=e,h._routingTable=new f.default,h._rediscovery=new d.default(new p.default(r)),h._connectionPool=n,h._driverOnErrorCallback=l,h._loadBalancingStrategy=a,h._hostNameResolver=u,h._dnsResolver=new v.HostNameResolver,h._log=c,h._useSeedRouter=!0,h}return(0,a.default)(t,e),(0,u.default)(t,[{key:"acquireConnection",value:function(e){var t=this,r=this._freshRoutingTable(e).then(function(r){if(e===c.READ){var n=t._loadBalancingStrategy.selectReader(r.readers);return t._acquireConnectionToServer(n,"read")}if(e===c.WRITE){var i=t._loadBalancingStrategy.selectWriter(r.writers);return t._acquireConnectionToServer(i,"write")}throw(0,l.newError)("Illegal mode "+e)});return this._withAdditionalOnErrorCallback(r,this._driverOnErrorCallback)}},{key:"forget",value:function(e){this._routingTable.forget(e),this._connectionPool.purge(e)}},{key:"forgetWriter",value:function(e){this._routingTable.forgetWriter(e)}},{key:"_acquireConnectionToServer",value:function(e,t){return e?this._connectionPool.acquire(e):Promise.reject((0,l.newError)("Failed to obtain connection towards ".concat(t," server. Known routing table is: ").concat(this._routingTable),l.SESSION_EXPIRED))}},{key:"_freshRoutingTable",value:function(e){var t=this._routingTable;return t.isStaleFor(e)?(this._log.info("Routing table is stale for ".concat(e,": ").concat(t)),this._refreshRoutingTable(t)):Promise.resolve(t)}},{key:"_refreshRoutingTable",value:function(e){var t=e.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(t,e):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(t,e)}},{key:"_fetchRoutingTableFromSeedRouterFallbackToKnownRouters",value:function(e,t){var r=this;return this._fetchRoutingTableUsingSeedRouter([],this._seedRouter).then(function(n){return n?(r._useSeedRouter=!1,n):r._fetchRoutingTableUsingKnownRouters(e,t)}).then(function(e){return r._applyRoutingTableIfPossible(e),e})}},{key:"_fetchRoutingTableFromKnownRoutersFallbackToSeedRouter",value:function(e,t){var r=this;return this._fetchRoutingTableUsingKnownRouters(e,t).then(function(t){return t||r._fetchRoutingTableUsingSeedRouter(e,r._seedRouter)}).then(function(e){return r._applyRoutingTableIfPossible(e),e})}},{key:"_fetchRoutingTableUsingKnownRouters",value:function(e,r){return this._fetchRoutingTable(e,r).then(function(n){if(n)return n;var i=e.length-1;return t._forgetRouter(r,e,i),null})}},{key:"_fetchRoutingTableUsingSeedRouter",value:function(e,t){var r=this,n=this._resolveSeedRouter(t);return n.then(function(t){var n=t.filter(function(t){return e.indexOf(t)<0});return r._fetchRoutingTable(n,null)})}},{key:"_resolveSeedRouter",value:function(e){var t=this,r=this._hostNameResolver.resolve(e),n=r.then(function(e){return Promise.all(e.map(function(e){return t._dnsResolver.resolve(e)}))});return n.then(function(e){return[].concat.apply([],e)})}},{key:"_fetchRoutingTable",value:function(e,r){var n=this;return e.reduce(function(i,o,a){return i.then(function(i){if(i)return i;var s=a-1;return t._forgetRouter(r,e,s),n._createSessionForRediscovery(o).then(function(e){return e?n._rediscovery.lookupRoutingTableOnRouter(e,o).catch(function(e){return n._log.warn("unable to fetch routing table because of an error ".concat(e)),null}):null})})},Promise.resolve(null))}},{key:"_createSessionForRediscovery",value:function(e){return this._connectionPool.acquire(e).then(function(e){var t=new y(e);return new h.default(c.READ,t)}).catch(function(e){if(e&&"Neo.ClientError.Security.Unauthorized"===e.code)throw e;return null})}},{key:"_applyRoutingTableIfPossible",value:function(e){if(!e)throw(0,l.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(this._routingTable),l.SERVICE_UNAVAILABLE);0===e.writers.length&&(this._useSeedRouter=!0),this._updateRoutingTable(e)}},{key:"_updateRoutingTable",value:function(e){this._connectionPool.keepAll(e.allServers()),this._routingTable=e,this._log.info("Updated routing table ".concat(e))}}],[{key:"_forgetRouter",value:function(e,t,r){var n=t[r];e&&n&&e.forgetRouter(n)}}]),t}(_);r.LoadBalancer=m;var y=function(e){function t(e){var r;return(0,s.default)(this,t),(r=(0,i.default)(this,(0,o.default)(t).call(this)))._connection=e,r}return(0,a.default)(t,e),(0,u.default)(t,[{key:"acquireConnection",value:function(e){var t=this._connection;return this._connection=null,Promise.resolve(t)}}]),t}(_);r.SingleConnectionProvider=y},{"../driver":28,"../error":29,"../session":85,"./browser":41,"./rediscovery":65,"./routing-table":71,"./routing-util":72,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],49:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=e("./browser"),s=e("./chunking"),u=e("./../error"),l=n(e("./channel-config")),c=e("./server-version"),h=n(e("./protocol-handshaker"));function f(){}var d={onNext:f,onCompleted:f,onError:f},p=0,v=function(){function e(t,r,n,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,i.default)(this,e),this.id=p++,this.address=n,this.server={address:n.asHostPort()},this.creationTimestamp=Date.now(),this._errorHandler=r,this._disableLosslessIntegers=a,this._pendingObservers=[],this._currentObserver=void 0,this._ch=t,this._dechunker=new s.Dechunker,this._chunker=new s.Chunker(t),this._log=o,this._dbConnectionId=null,this._protocol=null,this._currentFailure=null,this._isBroken=!1,this._log.isDebugEnabled()&&this._log.debug("".concat(this," created towards ").concat(n))}return(0,o.default)(e,[{key:"connect",value:function(e,t){var r=this;return this._negotiateProtocol().then(function(){return r._initialize(e,t)})}},{key:"_negotiateProtocol",value:function(){var e=this,t=new h.default(this,this._ch,this._chunker,this._disableLosslessIntegers,this._log);return new Promise(function(r,n){var i=function(t){e._handleFatalError(t),n(t)};e._ch.onerror=i.bind(e),e._ch._error&&i(e._ch._error),e._ch.onmessage=function(i){try{e._protocol=t.createNegotiatedProtocol(i),e._ch.onerror=e._handleFatalError.bind(e),e._ch.onmessage=function(t){return e._dechunker.write(t)},e._dechunker.onmessage=function(t){e._handleMessage(e._protocol.unpacker().unpack(t))},i.hasRemaining()&&e._dechunker.write(i.readSlice(i.remaining())),r(e)}catch(o){e._handleFatalError(o),n(o)}},t.writeHandshakeRequest()})}},{key:"_initialize",value:function(e,t){var r=this;return new Promise(function(n,i){var o=new _(r,n,i);r._protocol.initialize(e,t,o)})}},{key:"protocol",value:function(){return this._protocol}},{key:"write",value:function(e,t,r){var n=this,i=this._queueObserver(t);i&&(this._log.isDebugEnabled()&&this._log.debug("".concat(this," C: ").concat(e)),this._protocol.packer().packStruct(e.signature,e.fields.map(function(e){return n._packable(e)}),function(e){return n._handleFatalError(e)}),this._chunker.messageBoundary(),r&&this._chunker.flush())}},{key:"_handleFatalError",value:function(e){for(this._isBroken=!0,this._error=this._errorHandler.handleAndTransformError(e,this.address),this._log.isErrorEnabled()&&this._log.error("".concat(this," experienced a fatal error ").concat(JSON.stringify(this._error))),this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(this._error);this._pendingObservers.length>0;){var t=this._pendingObservers.shift();t&&t.onError&&t.onError(this._error)}}},{key:"_handleMessage",value:function(e){if(!this._isBroken){var t=e.fields[0];switch(e.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("".concat(this," S: RECORD ").concat(JSON.stringify(e))),this._currentObserver.onNext(t);break;case 112:this._log.isDebugEnabled()&&this._log.debug("".concat(this," S: SUCCESS ").concat(JSON.stringify(e)));try{var r=this._protocol.transformMetadata(t);this._currentObserver.onCompleted(r)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("".concat(this," S: FAILURE ").concat(JSON.stringify(e)));try{var n=(0,u.newError)(t.message,t.code);this._currentFailure=this._errorHandler.handleAndTransformError(n,this.address),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._resetOnFailure()}break;case 126:this._log.isDebugEnabled()&&this._log.debug("".concat(this," S: IGNORED ").concat(JSON.stringify(e)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,u.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._handleFatalError((0,u.newError)("Unknown Bolt protocol message: "+e))}}}},{key:"resetAndFlush",value:function(){var e=this;return new Promise(function(t,r){e._protocol.reset({onNext:function(t){var n=e._handleProtocolError("Received RECORD as a response for RESET: "+JSON.stringify(t));r(n)},onError:function(t){if(e._isBroken)r(t);else{var n=e._handleProtocolError("Received FAILURE as a response for RESET: "+t);r(n)}},onCompleted:function(){t()}})})}},{key:"_resetOnFailure",value:function(){var e=this;this._protocol.reset({onNext:function(t){e._handleProtocolError("Received RECORD as a response for RESET: "+JSON.stringify(t))},onError:function(){e._currentFailure=null},onCompleted:function(){e._currentFailure=null}})}},{key:"_queueObserver",value:function(e){return this._isBroken?(e&&e.onError&&e.onError(this._error),!1):((e=e||d).onCompleted=e.onCompleted||f,e.onError=e.onError||f,e.onNext=e.onNext||f,void 0===this._currentObserver?this._currentObserver=e:this._pendingObservers.push(e),!0)}},{key:"_updateCurrentObserver",value:function(){this._currentObserver=this._pendingObservers.shift()}},{key:"isOpen",value:function(){return!this._isBroken&&this._ch._open}},{key:"close",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null};this._log.isDebugEnabled()&&this._log.debug("".concat(this," closing")),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(d),this._ch.close(function(){e._log.isDebugEnabled()&&e._log.debug("".concat(e," closed")),t()})}},{key:"toString",value:function(){var e=this._dbConnectionId||"";return"Connection [".concat(this.id,"][").concat(e,"]")}},{key:"_packable",value:function(e){var t=this;return this._protocol.packer().packable(e,function(e){return t._handleFatalError(e)})}},{key:"_handleProtocolError",value:function(e){this._currentFailure=null,this._updateCurrentObserver();var t=(0,u.newError)(e,u.PROTOCOL_ERROR);return this._handleFatalError(t),t}}],[{key:"create",value:function(t,r,n,i){var o=new l.default(t,r,n.errorCode());return new e(new a.Channel(o),n,t,i,r.disableLosslessIntegers)}}]),e}();r.default=v;var _=function(){function e(t,r,n){(0,i.default)(this,e),this._connection=t,this._onSuccess=r,this._onError=n}return(0,o.default)(e,[{key:"onNext",value:function(e){this.onError((0,u.newError)("Received RECORD when initializing "+JSON.stringify(e)))}},{key:"onError",value:function(e){this._connection._updateCurrentObserver(),this._connection._handleFatalError(e),this._onError(e)}},{key:"onCompleted",value:function(e){if(e){var t=e.server;if(!this._connection.server.version){this._connection.server.version=t;var r=c.ServerVersion.fromString(t);r.compareTo(c.VERSION_3_2_0)<0&&this._connection.protocol().packer().disableByteArrays()}var n=e.connection_id;this._connection._dbConnectionId||(this._connection._dbConnectionId=n)}this._onSuccess(this._connection)}}]),e}()},{"./../error":29,"./browser":41,"./channel-config":44,"./chunking":45,"./protocol-handshaker":64,"./server-version":74,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],50:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("./connection-holder")),s=e("../driver"),u=n(e("./stream-observer")),l=function(){function e(t,r){(0,i.default)(this,e),this._connectionProvider=t,this._successCallback=r}return(0,o.default)(e,[{key:"verify",value:function(){var e=this;(function(e){var t=new a.default(s.READ,e);t.initializeConnection();var r=new u.default;return t.getConnection(r).then(function(e){return t.close().then(function(){return e.server})}).catch(function(e){return t.close().catch(function(e){}).then(function(){return Promise.reject(e)})})})(this._connectionProvider).then(function(t){e._successCallback&&e._successCallback(t)}).catch(function(e){})}}]),e}();r.default=l},{"../driver":28,"./connection-holder":47,"./stream-observer":75,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],51:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ACCESS_MODE_WRITE=r.ACCESS_MODE_READ=void 0,r.ACCESS_MODE_READ="READ",r.ACCESS_MODE_WRITE="WRITE"},{}],52:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/inherits")),l=n(e("../../driver")),c=n(e("./http-session")),h=n(e("./http-session-tracker")),f=n(e("../server-address")),d=function(e){function t(e,r,n,o){var u;return(0,i.default)(this,t),(u=(0,a.default)(this,(0,s.default)(t).call(this,f.default.fromUrl(e.hostAndPort),r,n,o)))._url=e,u._sessionTracker=new h.default,u}return(0,u.default)(t,e),(0,o.default)(t,[{key:"session",value:function(){return new c.default(this._url,this._authToken,this._config,this._sessionTracker)}},{key:"close",value:function(){return this._sessionTracker.close()}}]),t}(l.default);r.default=d},{"../../driver":28,"../server-address":73,"./http-session":56,"./http-session-tracker":55,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],53:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("../stream-observer")),s=n(e("./http-response-converter")),u=e("../../error"),l=function(){function e(t,r){(0,i.default)(this,e),this._url=t,this._authToken=r,this._converter=new s.default}return(0,o.default)(e,[{key:"beginTransaction",value:function(){var e=this,t=f(this._url);return c("POST",t,null,this._authToken).then(function(t){var r=e._converter.extractError(t);if(r)throw r;return e._converter.extractTransactionId(t)})}},{key:"commitTransaction",value:function(e){var t=this,r=function(e,t){return d(e,t)+"/commit"}(this._url,e);return c("POST",r,null,this._authToken).then(function(e){var r=t._converter.extractError(e);if(r)throw r})}},{key:"rollbackTransaction",value:function(e){var t=this,r=d(this._url,e);return c("DELETE",r,null,this._authToken).then(function(e){var r=t._converter.extractError(e);if(r)throw r})}},{key:"runQuery",value:function(e,t,r){var n=this,i=new a.default,o=d(this._url,e),s=function(e,t,r,n){try{return function(e,t,r){var n=r.encodeStatementParameters(t);return JSON.stringify({statements:[{statement:e,parameters:n,resultDataContents:["row","graph"],includeStats:!0}]})}(e,t,r)}catch(i){return n.onError(i),null}}(t,r,this._converter,i);return s?c("POST",o,s,this._authToken).then(function(e){!function(e,t,r){if(e)try{!function(e,t,r){var n=t.extractError(e);if(n)r.onError(n);else{var i=t.extractRecordMetadata(e);r.onCompleted(i);var o=t.extractRawRecords(e);o.forEach(function(e){return r.onNext(e)});var a=t.extractStatementMetadata(e);r.onCompleted(a)}}(e,t,r)}catch(n){r.onError(n)}}(e,n._converter,i)}).catch(function(e){i.onError(e)}).then(function(){return i}):Promise.resolve(i)}}]),e}();function c(e,t,r,n){try{var i={method:e,headers:h(n),body:r};return new Promise(function(e,r){fetch(t,i).then(function(e){return e.json()}).then(function(t){return e(t)}).catch(function(e){return r(new u.Neo4jError(e.message,u.SERVICE_UNAVAILABLE))})})}catch(o){return Promise.reject(o)}}function h(e){var t=new Headers;return t.append("Accept","application/json; charset=UTF-8"),t.append("Content-Type","application/json"),t.append("Authorization","Basic "+btoa(e.principal+":"+e.credentials)),t}function f(e){return function(e,t){return"".concat(e.scheme,"://").concat(e.host,":").concat(e.port).concat(t)}(e,"/db/data/transaction")}function d(e,t){return f(e)+"/"+t}r.default=l},{"../../error":29,"../stream-observer":75,"./http-response-converter":54,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],54:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/construct")),o=n(e("@babel/runtime/helpers/toConsumableArray")),a=n(e("@babel/runtime/helpers/typeof")),s=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass")),l=e("../../integer"),c=e("../../graph-types"),h=e("../../error"),f=e("../../spatial-types"),d=e("../../temporal-types"),p=function(){function e(){(0,s.default)(this,e)}return(0,u.default)(e,[{key:"encodeStatementParameters",value:function(e){return v(e)}},{key:"extractError",value:function(e){var t=e.errors;if(t){var r=t[0];if(r){var n=e.password_change?"Neo.ClientError.Security.CredentialsExpired":r.code,i=r.message;return new h.Neo4jError(i,n)}}return null}},{key:"extractTransactionId",value:function(e){var t=e.commit;if(t){var r=t.replace("/commit",""),n=r.substring(r.lastIndexOf("/")+1),i=parseInt(n,10);if(i||0===i)return i}throw new h.Neo4jError("Unable to extract transaction id from the response JSON: ".concat(JSON.stringify(e)))}},{key:"extractRecordMetadata",value:function(e){var t=b(e),r=t?t.columns:[];return{fields:r}}},{key:"extractRawRecords",value:function(e){var t=b(e);if(t){var r=t.data;if(r)return r.map(function(e){return function(e){var t=e.row,r=function(e){var t=e.graph;if(t){var r=t.nodes;if(r)return r.reduce(function(e,t){var r=y(t.id),n=t.labels,i=m(t.properties);return e[t.id]=new c.Node(r,n,i),e},{})}return{}}(e),n=function(e){var t=e.graph;if(t){var r=t.relationships;if(r)return r.reduce(function(e,t){var r=y(t.id),n=y(t.startNode),i=y(t.endNode),o=t.type,a=m(t.properties);return e[t.id]=new c.Relationship(r,n,i,o,a),e},{})}return{}}(e);return t?t.map(function(t,a){return function(e,t,r,n){var a=t.row?t.row[e]:null,s=t.meta?t.meta[e]:null;return s?function(e,t,r,n){return g("node",t)?r[t.id]:function(e){return g("relationship",e)}(t)?n[t.id]:function(e){return Array.isArray(e)}(t)?function(e,t,r){for(var n=null,i=null,o=[],a=0;a<e.length;a++){var s=e[a],u=s.id,l=s.type,f=null===n&&null===i||null!==n&&null!==i;if(f&&"node"!==l)throw new h.Neo4jError("Unable to parse path, node expected but got: ".concat(JSON.stringify(s)," in ").concat(JSON.stringify(e)));if(!f&&"node"===l)throw new h.Neo4jError("Unable to parse path, relationship expected but got: ".concat(JSON.stringify(s)," in ").concat(JSON.stringify(e)));if(f){var d=t[u];if(null===n)n=d;else{if(null===n||null===i)throw new h.Neo4jError("Unable to parse path, illegal node configuration: ".concat(JSON.stringify(e)));var p=new c.PathSegment(n,i,d);o.push(p),n=d,i=null}}else{if(null!==i)throw new h.Neo4jError("Unable to parse path, illegal relationship configuration: ".concat(JSON.stringify(e)));i=r[u]}}var v=o[o.length-1];if(v&&v.end!==n||null!==i)throw new h.Neo4jError("Unable to parse path: ".concat(JSON.stringify(e)));return function(e){var t=e[0].start,r=e[e.length-1].end;return new c.Path(t,r,e)}(o)}(t,r,n):function(e){return g("point",e)}(t)?function(e){if("Point"!==e.type)throw new h.Neo4jError("Unexpected Point type received: ".concat(JSON.stringify(e)));var t=e.coordinates;if(!Array.isArray(t)&&(2!==t.length||3!==t.length))throw new h.Neo4jError("Unexpected Point coordinates received: ".concat(JSON.stringify(e)));var r=function(e){var t=e.crs;if(!t||!t.name)throw new h.Neo4jError("Unexpected Point crs received: ".concat(JSON.stringify(e)));var r=t.name.toLowerCase();if("wgs-84"===r)return 4326;if("wgs-84-3d"===r)return 4979;if("cartesian"===r)return 7203;if("cartesian-3d"===r)return 9157;throw new h.Neo4jError("Unexpected Point crs received: ".concat(JSON.stringify(e)))}(e);return(0,i.default)(f.Point,[r].concat((0,o.default)(t)))}(e):e}(a,s,r,n):m(a)}(a,e,r,n)}):[]}(e)})}return[]}},{key:"extractStatementMetadata",value:function(e){var t=b(e);if(t){var r=t.stats;if(r){var n=Object.keys(r).reduce(function(e,t){if("contains_updates"===t)return e;var n=("relationship_deleted"===t?"relationships_deleted":t).replace("_","-");return e[n]=r[t],e},{});return{stats:n}}}return{}}}]),e}();function v(e){return e&&"object"===(0,a.default)(e)?Object.keys(e).reduce(function(t,r){return t[r]=function e(t){if(t instanceof c.Node)throw new h.Neo4jError("It is not allowed to pass nodes in query parameters",h.PROTOCOL_ERROR);if(t instanceof c.Relationship)throw new h.Neo4jError("It is not allowed to pass relationships in query parameters",h.PROTOCOL_ERROR);if(t instanceof c.Path)throw new h.Neo4jError("It is not allowed to pass paths in query parameters",h.PROTOCOL_ERROR);if((0,f.isPoint)(t))throw _("points");if((0,d.isDate)(t))throw _("dates");if((0,d.isDateTime)(t))throw _("date-time");if((0,d.isDuration)(t))throw _("durations");if((0,d.isLocalDateTime)(t))throw _("local date-time");if((0,d.isLocalTime)(t))throw _("local time");if((0,d.isTime)(t))throw _("time");return(0,l.isInt)(t)?t.toNumber():Array.isArray(t)?t.map(function(t){return e(t)}):"object"===(0,a.default)(t)?v(t):t}(e[r]),t},{}):e}function _(e){return new h.Neo4jError("It is not allowed to pass ".concat(e," in query parameters when using HTTP endpoint. ")+"Please consider using Cypher functions to create ".concat(e," so that query parameters are plain objects."),h.PROTOCOL_ERROR)}function b(e){var t=e.results;if(t){var r=t[0];if(r)return r}return null}function m(e){return null==e||void 0===e?null:"number"===typeof e?y(e):Array.isArray(e)?e.map(function(e){return m(e)}):"object"===(0,a.default)(e)?Object.keys(e).reduce(function(t,r){return t[r]=m(e[r]),t},{}):e}function y(e){return"number"===typeof e?e:Number(e)}function g(e,t){return!Array.isArray(t)&&"object"===(0,a.default)(t)&&t.type===e}r.default=p},{"../../error":29,"../../graph-types":30,"../../integer":32,"../../spatial-types":86,"../../temporal-types":87,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":22,"@babel/runtime/helpers/typeof":23}],55:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=function(){function e(){(0,i.default)(this,e),this._openSessions=new Set}return(0,o.default)(e,[{key:"sessionOpened",value:function(e){this._openSessions.add(e)}},{key:"sessionClosed",value:function(e){this._openSessions.delete(e)}},{key:"close",value:function(){var e=Array.from(this._openSessions);return this._openSessions.clear(),Promise.all(e.map(function(e){return function(e){return new Promise(function(t){e.close(function(){t()})})}(e)}))}}]),e}();r.default=a},{"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],56:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/assertThisInitialized")),l=n(e("@babel/runtime/helpers/inherits")),c=e("../../driver"),h=n(e("../../session")),f=e("../util"),d=e("../../error"),p=n(e("./http-request-runner")),v=e("../connection-holder"),_=n(e("../../result")),b=function(e){function t(e,r,n,o){var l;return(0,i.default)(this,t),(l=(0,a.default)(this,(0,s.default)(t).call(this,c.WRITE,null,null,n)))._ongoingTransactionIds=[],l._serverInfoSupplier=function(e){return function(){return{server:{address:e.hostAndPort}}}}(e),l._requestRunner=new p.default(e,r),l._sessionTracker=o,l._sessionTracker.sessionOpened((0,u.default)(l)),l}return(0,l.default)(t,e),(0,o.default)(t,[{key:"run",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,f.validateStatementAndParameters)(e,r),i=n.query,o=n.params;return this._requestRunner.beginTransaction().then(function(e){t._ongoingTransactionIds.push(e);var r=t._requestRunner.runQuery(e,i,o);return r.then(function(r){return r.hasFailed()?function(e,t,r){return m(e,r).then(function(){return t})}(e,r,t._requestRunner):function(e,t,r){return r.commitTransaction(e).catch(function(e){t.onError(e)}).then(function(){return t})}(e,r,t._requestRunner)}).then(function(r){return t._ongoingTransactionIds=t._ongoingTransactionIds.filter(function(t){return t!==e}),new _.default(r,i,o,t._serverInfoSupplier,v.EMPTY_CONNECTION_HOLDER)})})}},{key:"beginTransaction",value:function(){y()}},{key:"readTransaction",value:function(){y()}},{key:"writeTransaction",value:function(){y()}},{key:"lastBookmark",value:function(){throw new d.Neo4jError("Experimental HTTP driver does not support bookmarks and routing")}},{key:"close",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null},r=this._ongoingTransactionIds.map(function(t){return m(t,e._requestRunner)});Promise.all(r).then(function(){e._sessionTracker.sessionClosed(e),t()})}}]),t}(h.default);function m(e,t){return t.rollbackTransaction(e).catch(function(){})}function y(){throw new d.Neo4jError("Experimental HTTP driver does not support transactions")}r.default=b},{"../../driver":28,"../../error":29,"../../result":83,"../../session":85,"../connection-holder":47,"../util":80,"./http-request-runner":53,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],57:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.LEAST_CONNECTED_STRATEGY_NAME=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/inherits")),l=n(e("./round-robin-array-index")),c=n(e("./load-balancing-strategy"));r.LEAST_CONNECTED_STRATEGY_NAME="least_connected";var h=function(e){function t(e){var r;return(0,i.default)(this,t),(r=(0,a.default)(this,(0,s.default)(t).call(this)))._readersIndex=new l.default,r._writersIndex=new l.default,r._connectionPool=e,r}return(0,u.default)(t,e),(0,o.default)(t,[{key:"selectReader",value:function(e){return this._select(e,this._readersIndex)}},{key:"selectWriter",value:function(e){return this._select(e,this._writersIndex)}},{key:"_select",value:function(e,t){var r=e.length;if(0===r)return null;var n=t.next(r),i=n,o=null,a=Number.MAX_SAFE_INTEGER;do{var s=e[i],u=this._connectionPool.activeResourceCount(s);u<a&&(o=s,a=u),i===r-1?i=0:i++}while(i!==n);return o}}]),t}(c.default);r.default=h},{"./load-balancing-strategy":58,"./round-robin-array-index":69,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],58:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"selectReader",value:function(e){throw new Error("Abstract function")}},{key:"selectWriter",value:function(e){throw new Error("Abstract function")}}]),e}();r.default=a},{"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],59:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),a=n(e("@babel/runtime/helpers/getPrototypeOf")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/classCallCheck")),l=n(e("@babel/runtime/helpers/createClass")),c=n(e("@babel/runtime/helpers/defineProperty")),h=e("../error"),f="info",d=(i={},(0,c.default)(i,"error",0),(0,c.default)(i,"warn",1),(0,c.default)(i,"info",2),(0,c.default)(i,"debug",3),i),p=function(){function e(t,r){(0,u.default)(this,e),this._level=t,this._loggerFunction=r}return(0,l.default)(e,[{key:"isErrorEnabled",value:function(){return b(this._level,"error")}},{key:"error",value:function(e){this.isErrorEnabled()&&this._loggerFunction("error",e)}},{key:"isWarnEnabled",value:function(){return b(this._level,"warn")}},{key:"warn",value:function(e){this.isWarnEnabled()&&this._loggerFunction("warn",e)}},{key:"isInfoEnabled",value:function(){return b(this._level,"info")}},{key:"info",value:function(e){this.isInfoEnabled()&&this._loggerFunction("info",e)}},{key:"isDebugEnabled",value:function(){return b(this._level,"debug")}},{key:"debug",value:function(e){this.isDebugEnabled()&&this._loggerFunction("debug",e)}}],[{key:"create",value:function(t){if(t&&t.logging){var r=t.logging,n=function(e){if(e&&e.level){var t=e.level,r=d[t];if(!r&&0!==r)throw(0,h.newError)("Illegal logging level: ".concat(t,". Supported levels are: ").concat(Object.keys(d)));return t}return f}(r),i=function(e){if(e&&e.logger){var t=e.logger;if(t&&"function"===typeof t)return t}throw(0,h.newError)("Illegal logger function: ".concat(e.logger))}(r);return new e(n,i)}return this.noOp()}},{key:"noOp",value:function(){return _}}]),e}(),v=function(e){function t(){return(0,u.default)(this,t),(0,o.default)(this,(0,a.default)(t).call(this,null,null))}return(0,s.default)(t,e),(0,l.default)(t,[{key:"isErrorEnabled",value:function(){return!1}},{key:"error",value:function(e){}},{key:"isWarnEnabled",value:function(){return!1}},{key:"warn",value:function(e){}},{key:"isInfoEnabled",value:function(){return!1}},{key:"info",value:function(e){}},{key:"isDebugEnabled",value:function(){return!1}},{key:"debug",value:function(e){}}]),t}(p),_=new v;function b(e,t){return d[e]>=d[t]}var m=p;r.default=m},{"../error":29,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],60:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Structure=r.Unpacker=r.Packer=void 0;var o=i(e("@babel/runtime/helpers/typeof")),a=i(e("@babel/runtime/helpers/classCallCheck")),s=i(e("@babel/runtime/helpers/createClass")),u=e("./browser"),l=n(e("../integer")),c=e("./../error"),h=e("../graph-types"),f=function(){function e(t,r){(0,a.default)(this,e),this.signature=t,this.fields=r}return(0,s.default)(e,[{key:"toString",value:function(){for(var e="",t=0;t<this.fields.length;t++)t>0&&(e+=", "),e+=this.fields[t];return"Structure("+this.signature+", ["+e+"])"}}]),e}();r.Structure=f;var d=function(){function e(t){(0,a.default)(this,e),this._ch=t,this._byteArraysSupported=!0}return(0,s.default)(e,[{key:"packable",value:function(e,t){var r,n=this;if(null===e)return function(){return n._ch.writeUInt8(192)};if(!0===e)return function(){return n._ch.writeUInt8(195)};if(!1===e)return function(){return n._ch.writeUInt8(194)};if("number"===typeof e)return function(){return n.packFloat(e)};if("string"===typeof e)return function(){return n.packString(e,t)};if((0,l.isInt)(e))return function(){return n.packInteger(e)};if(e instanceof Int8Array)return function(){return n.packBytes(e,t)};if(e instanceof Array)return function(){n.packListHeader(e.length,t);for(var r=0;r<e.length;r++)n.packable(void 0===e[r]?null:e[r],t)()};if(null!=(r=e)&&"function"===typeof r[Symbol.iterator])return this.packableIterable(e,t);if(e instanceof h.Node)return this._nonPackableValue("It is not allowed to pass nodes in query parameters, given: ".concat(e),t);if(e instanceof h.Relationship)return this._nonPackableValue("It is not allowed to pass relationships in query parameters, given: ".concat(e),t);if(e instanceof h.Path)return this._nonPackableValue("It is not allowed to pass paths in query parameters, given: ".concat(e),t);if(e instanceof f){for(var i=[],a=0;a<e.fields.length;a++)i[a]=this.packable(e.fields[a],t);return function(){return n.packStruct(e.signature,i)}}return"object"===(0,o.default)(e)?function(){for(var r=Object.keys(e),i=0,o=0;o<r.length;o++)void 0!==e[r[o]]&&i++;n.packMapHeader(i,t);for(var a=0;a<r.length;a++){var s=r[a];void 0!==e[s]&&(n.packString(s),n.packable(e[s],t)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(e),t)}},{key:"packableIterable",value:function(e,t){try{var r=Array.from(e);return this.packable(r,t)}catch(n){t((0,c.newError)("Cannot pack given iterable, ".concat(n.message,": ").concat(e)))}}},{key:"packStruct",value:function(e,t,r){t=t||[],this.packStructHeader(t.length,e,r);for(var n=0;n<t.length;n++)t[n]()}},{key:"packInteger",value:function(e){var t=e.high,r=e.low;e.greaterThanOrEqual(-16)&&e.lessThan(128)?this._ch.writeInt8(r):e.greaterThanOrEqual(-128)&&e.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(r)):e.greaterThanOrEqual(-32768)&&e.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(r)):e.greaterThanOrEqual(-2147483648)&&e.lessThan(2147483648)?(this._ch.writeUInt8(202),this._ch.writeInt32(r)):(this._ch.writeUInt8(203),this._ch.writeInt32(t),this._ch.writeInt32(r))}},{key:"packFloat",value:function(e){this._ch.writeUInt8(193),this._ch.writeFloat64(e)}},{key:"packString",value:function(e,t){var r=u.utf8.encode(e),n=r.length;n<16?(this._ch.writeUInt8(128|n),this._ch.writeBytes(r)):n<256?(this._ch.writeUInt8(208),this._ch.writeUInt8(n),this._ch.writeBytes(r)):n<65536?(this._ch.writeUInt8(209),this._ch.writeUInt8(n/256>>0),this._ch.writeUInt8(n%256),this._ch.writeBytes(r)):n<4294967296?(this._ch.writeUInt8(210),this._ch.writeUInt8((n/16777216>>0)%256),this._ch.writeUInt8((n/65536>>0)%256),this._ch.writeUInt8((n/256>>0)%256),this._ch.writeUInt8(n%256),this._ch.writeBytes(r)):t((0,c.newError)("UTF-8 strings of size "+n+" are not supported"))}},{key:"packListHeader",value:function(e,t){e<16?this._ch.writeUInt8(144|e):e<256?(this._ch.writeUInt8(212),this._ch.writeUInt8(e)):e<65536?(this._ch.writeUInt8(213),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)):e<4294967296?(this._ch.writeUInt8(214),this._ch.writeUInt8((e/16777216>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)):t((0,c.newError)("Lists of size "+e+" are not supported"))}},{key:"packBytes",value:function(e,t){if(this._byteArraysSupported){this.packBytesHeader(e.length,t);for(var r=0;r<e.length;r++)this._ch.writeInt8(e[r])}else t((0,c.newError)("Byte arrays are not supported by the database this driver is connected to"))}},{key:"packBytesHeader",value:function(e,t){e<256?(this._ch.writeUInt8(204),this._ch.writeUInt8(e)):e<65536?(this._ch.writeUInt8(205),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)):e<4294967296?(this._ch.writeUInt8(206),this._ch.writeUInt8((e/16777216>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)):t((0,c.newError)("Byte arrays of size "+e+" are not supported"))}},{key:"packMapHeader",value:function(e,t){e<16?this._ch.writeUInt8(160|e):e<256?(this._ch.writeUInt8(216),this._ch.writeUInt8(e)):e<65536?(this._ch.writeUInt8(217),this._ch.writeUInt8(e/256>>0),this._ch.writeUInt8(e%256)):e<4294967296?(this._ch.writeUInt8(218),this._ch.writeUInt8((e/16777216>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)):t((0,c.newError)("Maps of size "+e+" are not supported"))}},{key:"packStructHeader",value:function(e,t,r){e<16?(this._ch.writeUInt8(176|e),this._ch.writeUInt8(t)):e<256?(this._ch.writeUInt8(220),this._ch.writeUInt8(e),this._ch.writeUInt8(t)):e<65536?(this._ch.writeUInt8(221),this._ch.writeUInt8(e/256>>0),this._ch.writeUInt8(e%256)):r((0,c.newError)("Structures of size "+e+" are not supported"))}},{key:"disableByteArrays",value:function(){this._byteArraysSupported=!1}},{key:"_nonPackableValue",value:function(e,t){return t&&t((0,c.newError)(e,c.PROTOCOL_ERROR)),function(){}}}]),e}();r.Packer=d;var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,a.default)(this,e),this._disableLosslessIntegers=t}return(0,s.default)(e,[{key:"unpack",value:function(e){var t=e.readUInt8(),r=240&t,n=15&t;if(192===t)return null;var i=this._unpackBoolean(t);if(null!==i)return i;var o=this._unpackNumberOrInteger(t,e);if(null!==o)return this._disableLosslessIntegers&&(0,l.isInt)(o)?o.toNumberOrInfinity():o;var a=this._unpackString(t,r,n,e);if(null!==a)return a;var s=this._unpackList(t,r,n,e);if(null!==s)return s;var u=this._unpackByteArray(t,e);if(null!==u)return u;var h=this._unpackMap(t,r,n,e);if(null!==h)return h;var f=this._unpackStruct(t,r,n,e);if(null!==f)return f;throw(0,c.newError)("Unknown packed value with marker "+t.toString(16))}},{key:"unpackInteger",value:function(e){var t=e.readUInt8(),r=this._unpackInteger(t,e);if(null==r)throw(0,c.newError)("Unable to unpack integer value with marker "+t.toString(16));return r}},{key:"_unpackBoolean",value:function(e){return 195===e||194!==e&&null}},{key:"_unpackNumberOrInteger",value:function(e,t){return 193===e?t.readFloat64():this._unpackInteger(e,t)}},{key:"_unpackInteger",value:function(e,t){if(e>=0&&e<128)return(0,l.int)(e);if(e>=240&&e<256)return(0,l.int)(e-256);if(200===e)return(0,l.int)(t.readInt8());if(201===e)return(0,l.int)(t.readInt16());if(202===e){var r=t.readInt32();return(0,l.int)(r)}if(203===e){var n=t.readInt32(),i=t.readInt32();return new l.default(i,n)}return null}},{key:"_unpackString",value:function(e,t,r,n){return 128===t?u.utf8.decode(n,r):208===e?u.utf8.decode(n,n.readUInt8()):209===e?u.utf8.decode(n,n.readUInt16()):210===e?u.utf8.decode(n,n.readUInt32()):null}},{key:"_unpackList",value:function(e,t,r,n){return 144===t?this._unpackListWithSize(r,n):212===e?this._unpackListWithSize(n.readUInt8(),n):213===e?this._unpackListWithSize(n.readUInt16(),n):214===e?this._unpackListWithSize(n.readUInt32(),n):null}},{key:"_unpackListWithSize",value:function(e,t){for(var r=[],n=0;n<e;n++)r.push(this.unpack(t));return r}},{key:"_unpackByteArray",value:function(e,t){return 204===e?this._unpackByteArrayWithSize(t.readUInt8(),t):205===e?this._unpackByteArrayWithSize(t.readUInt16(),t):206===e?this._unpackByteArrayWithSize(t.readUInt32(),t):null}},{key:"_unpackByteArrayWithSize",value:function(e,t){for(var r=new Int8Array(e),n=0;n<e;n++)r[n]=t.readInt8();return r}},{key:"_unpackMap",value:function(e,t,r,n){return 160===t?this._unpackMapWithSize(r,n):216===e?this._unpackMapWithSize(n.readUInt8(),n):217===e?this._unpackMapWithSize(n.readUInt16(),n):218===e?this._unpackMapWithSize(n.readUInt32(),n):null}},{key:"_unpackMapWithSize",value:function(e,t){for(var r={},n=0;n<e;n++){var i=this.unpack(t);r[i]=this.unpack(t)}return r}},{key:"_unpackStruct",value:function(e,t,r,n){return 176===t?this._unpackStructWithSize(r,n):220===e?this._unpackStructWithSize(n.readUInt8(),n):221===e?this._unpackStructWithSize(n.readUInt16(),n):null}},{key:"_unpackStructWithSize",value:function(e,t){var r=t.readUInt8();return 78===r?this._unpackNode(e,t):82===r?this._unpackRelationship(e,t):114===r?this._unpackUnboundRelationship(e,t):80===r?this._unpackPath(e,t):this._unpackUnknownStruct(r,e,t)}},{key:"_unpackNode",value:function(e,t){return this._verifyStructSize("Node",3,e),new h.Node(this.unpack(t),this.unpack(t),this.unpack(t))}},{key:"_unpackRelationship",value:function(e,t){return this._verifyStructSize("Relationship",5,e),new h.Relationship(this.unpack(t),this.unpack(t),this.unpack(t),this.unpack(t),this.unpack(t))}},{key:"_unpackUnboundRelationship",value:function(e,t){return this._verifyStructSize("UnboundRelationship",3,e),new h.UnboundRelationship(this.unpack(t),this.unpack(t),this.unpack(t))}},{key:"_unpackPath",value:function(e,t){this._verifyStructSize("Path",3,e);for(var r=this.unpack(t),n=this.unpack(t),i=this.unpack(t),o=[],a=r[0],s=0;s<i.length;s+=2){var u=r[i[s+1]],l=i[s],c=void 0;l>0?(c=n[l-1])instanceof h.UnboundRelationship&&(n[l-1]=c=c.bind(a.identity,u.identity)):(c=n[-l-1])instanceof h.UnboundRelationship&&(n[-l-1]=c=c.bind(u.identity,a.identity)),o.push(new h.PathSegment(a,c,u)),a=u}return new h.Path(r[0],r[r.length-1],o)}},{key:"_unpackUnknownStruct",value:function(e,t,r){for(var n=new f(e,[]),i=0;i<t;i++)n.fields.push(this.unpack(r));return n}},{key:"_verifyStructSize",value:function(e,t,r){if(t!==r)throw(0,c.newError)("Wrong struct size for ".concat(e,", expected ").concat(t," but was ").concat(r),c.PROTOCOL_ERROR)}}]),e}();r.Unpacker=p},{"../graph-types":30,"../integer":32,"./../error":29,"./browser":41,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/typeof":23}],61:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.Unpacker=r.Packer=void 0;var o=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/createClass")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),u=i(e("@babel/runtime/helpers/getPrototypeOf")),l=i(e("@babel/runtime/helpers/get")),c=i(e("@babel/runtime/helpers/inherits")),h=n(e("./packstream-v1")),f=e("../spatial-types"),d=e("../temporal-types"),p=e("../integer"),v=e("../internal/temporal-util"),_=88,b=3,m=89,y=4,g=69,k=4,w=116,E=1,O=84,C=2,I=68,S=1,T=100,R=2,N=70,P=3,D=102,A=3,U=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"disableByteArrays",value:function(){throw new Error("Bolt V2 should always support byte arrays")}},{key:"packable",value:function(e,r){var n=this;return(0,f.isPoint)(e)?function(){return function(e,t,r){null===e.z||void 0===e.z?function(e,t,r){var n=[t.packable((0,p.int)(e.srid),r),t.packable(e.x,r),t.packable(e.y,r)];t.packStruct(_,n,r)}(e,t,r):function(e,t,r){var n=[t.packable((0,p.int)(e.srid),r),t.packable(e.x,r),t.packable(e.y,r),t.packable(e.z,r)];t.packStruct(m,n,r)}(e,t,r)}(e,n,r)}:(0,d.isDuration)(e)?function(){return function(e,t,r){var n=(0,p.int)(e.months),i=(0,p.int)(e.days),o=(0,p.int)(e.seconds),a=(0,p.int)(e.nanoseconds),s=[t.packable(n,r),t.packable(i,r),t.packable(o,r),t.packable(a,r)];t.packStruct(g,s,r)}(e,n,r)}:(0,d.isLocalTime)(e)?function(){return function(e,t,r){var n=(0,v.localTimeToNanoOfDay)(e.hour,e.minute,e.second,e.nanosecond),i=[t.packable(n,r)];t.packStruct(w,i,r)}(e,n,r)}:(0,d.isTime)(e)?function(){return function(e,t,r){var n=(0,v.localTimeToNanoOfDay)(e.hour,e.minute,e.second,e.nanosecond),i=(0,p.int)(e.timeZoneOffsetSeconds),o=[t.packable(n,r),t.packable(i,r)];t.packStruct(O,o,r)}(e,n,r)}:(0,d.isDate)(e)?function(){return function(e,t,r){var n=(0,v.dateToEpochDay)(e.year,e.month,e.day),i=[t.packable(n,r)];t.packStruct(I,i,r)}(e,n,r)}:(0,d.isLocalDateTime)(e)?function(){return function(e,t,r){var n=(0,v.localDateTimeToEpochSecond)(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),i=(0,p.int)(e.nanosecond),o=[t.packable(n,r),t.packable(i,r)];t.packStruct(T,o,r)}(e,n,r)}:(0,d.isDateTime)(e)?function(){return function(e,t,r){e.timeZoneId?function(e,t,r){var n=(0,v.localDateTimeToEpochSecond)(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),i=(0,p.int)(e.nanosecond),o=e.timeZoneId,a=[t.packable(n,r),t.packable(i,r),t.packable(o,r)];t.packStruct(D,a,r)}(e,t,r):function(e,t,r){var n=(0,v.localDateTimeToEpochSecond)(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),i=(0,p.int)(e.nanosecond),o=(0,p.int)(e.timeZoneOffsetSeconds),a=[t.packable(n,r),t.packable(i,r),t.packable(o,r)];t.packStruct(N,a,r)}(e,t,r)}(e,n,r)}:(0,l.default)((0,u.default)(t.prototype),"packable",this).call(this,e,r)}}]),t}(h.Packer);r.Packer=U;var j=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,o.default)(this,t),(0,s.default)(this,(0,u.default)(t).call(this,e))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"_unpackUnknownStruct",value:function(e,r,n){return e===_?function(e,t,r){return e._verifyStructSize("Point2D",b,t),new f.Point(e.unpack(r),e.unpack(r),e.unpack(r),void 0)}(this,r,n):e===m?function(e,t,r){return e._verifyStructSize("Point3D",y,t),new f.Point(e.unpack(r),e.unpack(r),e.unpack(r),e.unpack(r))}(this,r,n):e===g?function(e,t,r){e._verifyStructSize("Duration",k,t);var n=e.unpack(r),i=e.unpack(r),o=e.unpack(r),a=e.unpack(r);return new d.Duration(n,i,o,a)}(this,r,n):e===w?function(e,t,r,n){e._verifyStructSize("LocalTime",E,t);var i=e.unpackInteger(r);return x((0,v.nanoOfDayToLocalTime)(i),n)}(this,r,n,this._disableLosslessIntegers):e===O?function(e,t,r,n){e._verifyStructSize("Time",C,t);var i=e.unpackInteger(r),o=e.unpackInteger(r),a=(0,v.nanoOfDayToLocalTime)(i);return x(new d.Time(a.hour,a.minute,a.second,a.nanosecond,o),n)}(this,r,n,this._disableLosslessIntegers):e===I?function(e,t,r,n){e._verifyStructSize("Date",S,t);var i=e.unpackInteger(r);return x((0,v.epochDayToDate)(i),n)}(this,r,n,this._disableLosslessIntegers):e===T?function(e,t,r,n){e._verifyStructSize("LocalDateTime",R,t);var i=e.unpackInteger(r),o=e.unpackInteger(r);return x((0,v.epochSecondAndNanoToLocalDateTime)(i,o),n)}(this,r,n,this._disableLosslessIntegers):e===N?function(e,t,r,n){e._verifyStructSize("DateTimeWithZoneOffset",P,t);var i=e.unpackInteger(r),o=e.unpackInteger(r),a=e.unpackInteger(r),s=(0,v.epochSecondAndNanoToLocalDateTime)(i,o);return x(new d.DateTime(s.year,s.month,s.day,s.hour,s.minute,s.second,s.nanosecond,a,null),n)}(this,r,n,this._disableLosslessIntegers):e===D?function(e,t,r,n){e._verifyStructSize("DateTimeWithZoneId",A,t);var i=e.unpackInteger(r),o=e.unpackInteger(r),a=e.unpack(r),s=(0,v.epochSecondAndNanoToLocalDateTime)(i,o);return x(new d.DateTime(s.year,s.month,s.day,s.hour,s.minute,s.second,s.nanosecond,null,a),n)}(this,r,n,this._disableLosslessIntegers):(0,l.default)((0,u.default)(t.prototype),"_unpackUnknownStruct",this).call(this,e,r,n,this._disableLosslessIntegers)}}]),t}(h.Unpacker);function x(e,t){if(!t)return e;var r=Object.create(Object.getPrototypeOf(e));for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];r[n]=(0,p.isInt)(i)?i.toNumberOrInfinity():i}return Object.freeze(r),r}r.Unpacker=j},{"../integer":32,"../internal/temporal-util":76,"../spatial-types":86,"../temporal-types":87,"./packstream-v1":60,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],62:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_ACQUISITION_TIMEOUT=r.DEFAULT_MAX_SIZE=r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=100;r.DEFAULT_MAX_SIZE=a;var s=6e4;r.DEFAULT_ACQUISITION_TIMEOUT=s;var u=function(){function e(t,r){(0,i.default)(this,e),this.maxSize=l(t,a),this.acquisitionTimeout=l(r,s)}return(0,o.default)(e,null,[{key:"defaultConfig",value:function(){return new e(a,s)}},{key:"fromDriverConfig",value:function(t){var r,n=c(t.connectionPoolSize),i=c(t.maxConnectionPoolSize);i?r=t.maxConnectionPoolSize:n?(console.warn('WARNING: neo4j-driver setting "connectionPoolSize" is deprecated, please use "maxConnectionPoolSize" instead'),r=t.connectionPoolSize):r=a;var o=c(t.connectionAcquisitionTimeout),u=o?t.connectionAcquisitionTimeout:s;return new e(r,u)}}]),e}();function l(e,t){return 0===e||e?e:t}function c(e){return 0===e||e}r.default=u},{"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],63:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("./pool-config")),s=e("../error"),u=n(e("./logger")),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.create,n=void 0===r?function(e,t){}:r,o=t.destroy,s=void 0===o?function(e){return!0}:o,l=t.validate,c=void 0===l?function(e){return!0}:l,h=t.installIdleObserver,f=void 0===h?function(e,t){}:h,d=t.removeIdleObserver,p=void 0===d?function(e){}:d,v=t.config,_=void 0===v?a.default.defaultConfig():v,b=t.log,m=void 0===b?u.default.noOp():b;(0,i.default)(this,e),this._create=n,this._destroy=s,this._validate=c,this._installIdleObserver=f,this._removeIdleObserver=p,this._maxSize=_.maxSize,this._acquisitionTimeout=_.acquisitionTimeout,this._pools={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=m}return(0,o.default)(e,[{key:"acquire",value:function(e){var t=this;return this._acquire(e).then(function(r){var n=e.asKey();if(r)return c(n,t._activeResourceCounts),t._log.isDebugEnabled()&&t._log.debug("".concat(r," acquired from the pool ").concat(n)),r;var i=t._acquireRequests,o=i[n];return o||(i[n]=[]),new Promise(function(e,r){var o,a=setTimeout(function(){var e=i[n];e&&(i[n]=e.filter(function(e){return e!==o})),o.isCompleted()||o.reject((0,s.newError)("Connection acquisition timed out in ".concat(t._acquisitionTimeout," ms.")))},t._acquisitionTimeout);o=new h(n,e,r,a,t._log),i[n].push(o)})})}},{key:"purge",value:function(e){this._purgeKey(e.asKey())}},{key:"purgeAll",value:function(){var e=this;Object.keys(this._pools).forEach(function(t){return e._purgeKey(t)})}},{key:"keepAll",value:function(e){var t=this,r=e.map(function(e){return e.asKey()}),n=Object.keys(this._pools),i=n.filter(function(e){return-1===r.indexOf(e)});i.forEach(function(e){return t._purgeKey(e)})}},{key:"has",value:function(e){return e.asKey()in this._pools}},{key:"activeResourceCount",value:function(e){return this._activeResourceCounts[e.asKey()]||0}},{key:"_acquire",value:function(e){var t=e.asKey(),r=this._pools[t];for(r||(r=[],this._pools[t]=r);r.length;){var n=r.pop();if(this._validate(n))return this._removeIdleObserver&&this._removeIdleObserver(n),Promise.resolve(n);this._destroy(n)}return this._maxSize&&this.activeResourceCount(e)>=this._maxSize?Promise.resolve(null):this._create(e,this._release)}},{key:"_release",value:function(e,t){var r=this,n=e.asKey(),i=this._pools[n];i?this._validate(t)?(this._log.isDebugEnabled()&&this._log.debug("".concat(t," released to the pool ").concat(n)),this._installIdleObserver&&this._installIdleObserver(t,{onError:function(){var e=r._pools[n];e&&(r._pools[n]=e.filter(function(e){return e!==t})),r._destroy(t)}}),i.push(t)):(this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(n," because it is not functional")),this._destroy(t)):(this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(n," because pool has been purged")),this._destroy(t)),function(e,t){var r=(t[e]||0)-1;r>0?t[e]=r:delete t[e]}(n,this._activeResourceCounts),this._processPendingAcquireRequests(e)}},{key:"_purgeKey",value:function(e){for(var t=this._pools[e]||[];t.length;){var r=t.pop();this._removeIdleObserver&&this._removeIdleObserver(r),this._destroy(r)}delete this._pools[e]}},{key:"_processPendingAcquireRequests",value:function(e){var t=this,r=e.asKey(),n=this._acquireRequests[r];if(n){var i=n.shift();i?this._acquire(e).catch(function(e){return i.reject(e),null}).then(function(n){n&&(i.isCompleted()?t._release(e,n):(c(r,t._activeResourceCounts),i.resolve(n)))}):delete this._acquireRequests[r]}}}]),e}();function c(e,t){var r=t[e]||0;t[e]=r+1}var h=function(){function e(t,r,n,o,a){(0,i.default)(this,e),this._key=t,this._resolve=r,this._reject=n,this._timeoutId=o,this._log=a,this._completed=!1}return(0,o.default)(e,[{key:"isCompleted",value:function(){return this._completed}},{key:"resolve",value:function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(e," acquired from the pool ").concat(this._key)),this._resolve(e))}},{key:"reject",value:function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(e))}}]),e}(),f=l;r.default=f},{"../error":29,"./logger":59,"./pool-config":62,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],64:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=e("./browser"),s=e("../error"),u=n(e("./bolt-protocol-v1")),l=n(e("./bolt-protocol-v2")),c=n(e("./bolt-protocol-v3")),h=1616949271,f=function(){function e(t,r,n,o,a){(0,i.default)(this,e),this._connection=t,this._channel=r,this._chunker=n,this._disableLosslessIntegers=o,this._log=a}return(0,o.default)(e,[{key:"writeHandshakeRequest",value:function(){this._channel.write(function(){var e=(0,a.alloc)(20);return e.writeInt32(h),e.writeInt32(3),e.writeInt32(2),e.writeInt32(1),e.writeInt32(0),e.reset(),e}())}},{key:"createNegotiatedProtocol",value:function(e){var t=e.readInt32();return this._log.isDebugEnabled()&&this._log.debug("".concat(this._connection," negotiated protocol version ").concat(t)),this._createProtocolWithVersion(t)}},{key:"_createProtocolWithVersion",value:function(e){switch(e){case 1:return new u.default(this._connection,this._chunker,this._disableLosslessIntegers);case 2:return new l.default(this._connection,this._chunker,this._disableLosslessIntegers);case 3:return new c.default(this._connection,this._chunker,this._disableLosslessIntegers);case 1213486160:throw(0,s.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");default:throw(0,s.newError)("Unknown Bolt protocol version: "+e)}}}]),e}();r.default=f},{"../error":29,"./bolt-protocol-v1":33,"./bolt-protocol-v2":34,"./bolt-protocol-v3":35,"./browser":41,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],65:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("./routing-table")),s=e("../error"),u=function(){function e(t){(0,i.default)(this,e),this._routingUtil=t}return(0,o.default)(e,[{key:"lookupRoutingTableOnRouter",value:function(t,r){var n=this;return this._routingUtil.callRoutingProcedure(t,r).then(function(t){if(null===t)return null;if(1!==t.length)throw(0,s.newError)('Illegal response from router "'+r+'". Received '+t.length+" records but expected only one.\n"+JSON.stringify(t),s.PROTOCOL_ERROR);var i=t[0],o=n._routingUtil.parseTtl(i,r),u=n._routingUtil.parseServers(i,r),l=u.routers,c=u.readers,h=u.writers;return e._assertNonEmpty(l,"routers",r),e._assertNonEmpty(c,"readers",r),new a.default(l,c,h,o)})}}],[{key:"_assertNonEmpty",value:function(e,t,r){if(0===e.length)throw(0,s.newError)("Received no "+t+" from router "+r,s.PROTOCOL_ERROR)}}]),e}();r.default=u},{"../error":29,"./routing-table":71,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],66:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=e("./constants"),s="r",u=function(){function e(t,r,n){(0,i.default)(this,e),this.signature=t,this.fields=r,this.toString=n}return(0,o.default)(e,null,[{key:"init",value:function(t,r){return new e(1,[t,r],function(){return"INIT ".concat(t," {...}")})}},{key:"run",value:function(t,r){return new e(16,[t,r],function(){return"RUN ".concat(t," ").concat(JSON.stringify(r))})}},{key:"pullAll",value:function(){return c}},{key:"reset",value:function(){return h}},{key:"hello",value:function(t,r){var n=Object.assign({user_agent:t},r);return new e(1,[n],function(){return"HELLO {user_agent: '".concat(t,"', ...}")})}},{key:"begin",value:function(t,r,n){var i=l(t,r,n);return new e(17,[i],function(){return"BEGIN ".concat(JSON.stringify(i))})}},{key:"commit",value:function(){return f}},{key:"rollback",value:function(){return d}},{key:"runWithMetadata",value:function(t,r,n,i,o){var a=l(n,i,o);return new e(16,[t,r,a],function(){return"RUN ".concat(t," ").concat(JSON.stringify(r)," ").concat(JSON.stringify(a))})}},{key:"goodbye",value:function(){return p}}]),e}();function l(e,t,r){var n={};return e.isEmpty()||(n.bookmarks=e.values()),t.timeout&&(n.tx_timeout=t.timeout),t.metadata&&(n.tx_metadata=t.metadata),r===a.ACCESS_MODE_READ&&(n.mode=s),n}r.default=u;var c=new u(63,[],function(){return"PULL_ALL"}),h=new u(15,[],function(){return"RESET"}),f=new u(18,[],function(){return"COMMIT"}),d=new u(19,[],function(){return"ROLLBACK"}),p=new u(2,[],function(){return"GOODBYE"})},{"./constants":51,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],67:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"resolve",value:function(){throw new Error("Abstract function")}},{key:"_resolveToItself",value:function(e){return Promise.resolve([e])}}]),e}();r.default=a},{"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],68:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("../server-address"));function s(e){return Promise.resolve([e])}var u=function(){function e(t){(0,i.default)(this,e),this._resolverFunction=t||s}return(0,o.default)(e,[{key:"resolve",value:function(e){var t=this;return new Promise(function(r){return r(t._resolverFunction(e.asHostPort()))}).then(function(e){if(!Array.isArray(e))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(e));return e.map(function(e){return a.default.fromUrl(e)})})}}]),e}();r.default=u},{"../server-address":73,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],69:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=function(){function e(t){(0,i.default)(this,e),this._offset=t||0}return(0,o.default)(e,[{key:"next",value:function(e){if(0===e)return-1;var t=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),t%e}}]),e}();r.default=a},{"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],70:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ROUND_ROBIN_STRATEGY_NAME=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),u=n(e("@babel/runtime/helpers/inherits")),l=n(e("./round-robin-array-index")),c=n(e("./load-balancing-strategy"));r.ROUND_ROBIN_STRATEGY_NAME="round_robin";var h=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,a.default)(this,(0,s.default)(t).call(this)))._readersIndex=new l.default,e._writersIndex=new l.default,e}return(0,u.default)(t,e),(0,o.default)(t,[{key:"selectReader",value:function(e){return this._select(e,this._readersIndex)}},{key:"selectWriter",value:function(e){return this._select(e,this._writersIndex)}},{key:"_select",value:function(e,t){var r=e.length;if(0===r)return null;var n=t.next(r);return e[n]}}]),t}(c.default);r.default=h},{"./load-balancing-strategy":58,"./round-robin-array-index":69,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],71:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/toConsumableArray")),o=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),s=e("../integer"),u=e("../driver"),l=function(){function e(t,r,n,i){(0,o.default)(this,e),this.routers=t||[],this.readers=r||[],this.writers=n||[],this.expirationTime=i||(0,s.int)(0)}return(0,a.default)(e,[{key:"forget",value:function(e){this.readers=c(this.readers,e),this.writers=c(this.writers,e)}},{key:"forgetRouter",value:function(e){this.routers=c(this.routers,e)}},{key:"forgetWriter",value:function(e){this.writers=c(this.writers,e)}},{key:"isStaleFor",value:function(e){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||e===u.READ&&0===this.readers.length||e===u.WRITE&&0===this.writers.length}},{key:"allServers",value:function(){return[].concat((0,i.default)(this.routers),(0,i.default)(this.readers),(0,i.default)(this.writers))}},{key:"toString",value:function(){return"RoutingTable["+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")}}]),e}();function c(e,t){return e.filter(function(e){return e.asKey()!==t.asKey()})}r.default=l},{"../driver":28,"../integer":32,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":22}],72:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/createClass")),s=e("../error"),u=n(e("../integer")),l=e("./server-version"),c=i(e("./bookmark")),h=i(e("./tx-config")),f=e("./constants"),d=i(e("./server-address")),p=function(){function e(t){(0,o.default)(this,e),this._routingContext=t}return(0,a.default)(e,[{key:"callRoutingProcedure",value:function(e,t){return this._callAvailableRoutingProcedure(e).then(function(t){return e.close(),t.records}).catch(function(e){if("Neo.ClientError.Procedure.ProcedureNotFound"===e.code)throw(0,s.newError)("Server at ".concat(t.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),s.SERVICE_UNAVAILABLE);return null})}},{key:"parseTtl",value:function(e,t){try{var r=(0,u.int)(Date.now()),n=(0,u.int)(e.get("ttl")).multiply(1e3).add(r);return n.lessThan(r)?u.default.MAX_VALUE:n}catch(i){throw(0,s.newError)("Unable to parse TTL entry from router ".concat(t," from record:\n").concat(JSON.stringify(e),"\nError message: ").concat(i.message),s.PROTOCOL_ERROR)}}},{key:"parseServers",value:function(e,t){try{var r=e.get("servers"),n=[],i=[],o=[];return r.forEach(function(e){var t=e.role,r=e.addresses;if("ROUTE"===t)n=v(r).map(function(e){return d.default.fromUrl(e)});else if("WRITE"===t)o=v(r).map(function(e){return d.default.fromUrl(e)});else{if("READ"!==t)throw(0,s.newError)('Unknown server role "'+t+'"',s.PROTOCOL_ERROR);i=v(r).map(function(e){return d.default.fromUrl(e)})}}),{routers:n,readers:i,writers:o}}catch(a){throw(0,s.newError)("Unable to parse servers entry from router ".concat(t," from record:\n").concat(JSON.stringify(e),"\nError message: ").concat(a.message),s.PROTOCOL_ERROR)}}},{key:"_callAvailableRoutingProcedure",value:function(e){var t=this;return e._run(null,null,function(e,r){var n,i,o=e.server.version,a=l.ServerVersion.fromString(o);a.compareTo(l.VERSION_3_2_0)>=0?(n="CALL dbms.cluster.routing.getRoutingTable($context)",i={context:t._routingContext}):(n="CALL dbms.cluster.routing.getServers",i={}),e.protocol().run(n,i,c.default.empty(),h.default.empty(),f.ACCESS_MODE_WRITE,r)})}}]),e}();function v(e){if(!Array.isArray(e))throw new TypeError("Array expected but got: "+e);return Array.from(e)}r.default=p},{"../error":29,"../integer":32,"./bookmark":36,"./constants":51,"./server-address":73,"./server-version":74,"./tx-config":78,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12}],73:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=e("./util"),s=n(e("./url-util")),u=function(){function e(t,r,n,o){(0,i.default)(this,e),this._host=(0,a.assertString)(t,"host"),this._resolved=r?(0,a.assertString)(r,"resolved"):null,this._port=(0,a.assertNumber)(n,"port"),this._hostPort=o,this._stringValue=r?"".concat(o,"(").concat(r,")"):"".concat(o)}return(0,o.default)(e,[{key:"host",value:function(){return this._host}},{key:"resolvedHost",value:function(){return this._resolved?this._resolved:this._host}},{key:"port",value:function(){return this._port}},{key:"resolveWith",value:function(t){return new e(this._host,t,this._port,this._hostPort)}},{key:"asHostPort",value:function(){return this._hostPort}},{key:"asKey",value:function(){return this._hostPort}},{key:"toString",value:function(){return this._stringValue}}],[{key:"fromUrl",value:function(t){var r=s.default.parseDatabaseUrl(t);return new e(r.host,null,r.port,r.hostAndPort)}}]),e}();r.default=u},{"./url-util":79,"./util":80,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],74:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.VERSION_IN_DEV=r.VERSION_4_0_0=r.VERSION_3_5_0=r.VERSION_3_4_0=r.VERSION_3_2_0=r.VERSION_3_1_0=r.ServerVersion=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=e("./util"),s=new RegExp("^(Neo4j/)?(\\d+)\\.(\\d+)(?:\\.)?(\\d*)(\\.|-|\\+)?([0-9A-Za-z-.]*)?$"),u=function(){function e(t,r,n){(0,i.default)(this,e),this.major=t,this.minor=r,this.patch=n}return(0,o.default)(e,[{key:"compareTo",value:function(e){var t=c(this.major,e.major);return 0===t&&0===(t=c(this.minor,e.minor))&&(t=c(this.patch,e.patch)),t}}],[{key:"fromDriver",value:function(t){var r=t.session();return r.run("RETURN 1").then(function(t){return r.close(),e.fromString(t.summary.server.version)})}},{key:"fromString",value:function(t){if(!t)return new e(3,0,0);if((0,a.assertString)(t,"Neo4j version string"),t.toLowerCase()==="Neo4j/dev".toLowerCase())return b;var r=t.match(s);if(!r)throw new Error("Unparsable Neo4j version: ".concat(t));var n=l(r[2]),i=l(r[3]),o=l(r[4]||0);return new e(n,i,o)}}]),e}();function l(e,t){var r=parseInt(e,10);if(!r&&0!==r)throw new Error("Unparsable number ".concat(t,": '").concat(e,"'"));return r}function c(e,t){return e<t?-1:e===t?0:1}r.ServerVersion=u;var h=new u(3,1,0);r.VERSION_3_1_0=h;var f=new u(3,2,0);r.VERSION_3_2_0=f;var d=new u(3,4,0);r.VERSION_3_4_0=d;var p=new u(3,5,0);r.VERSION_3_5_0=p;var v=new u(4,0,0);r.VERSION_4_0_0=v;var _=Number.MAX_SAFE_INTEGER,b=new u(_,_,_);r.VERSION_IN_DEV=b},{"./util":80,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],75:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("../record")),s=function(){function e(){(0,i.default)(this,e),this._fieldKeys=null,this._fieldLookup=null,this._queuedRecords=[],this._tail=null,this._error=null,this._hasFailed=!1,this._observer=null,this._conn=null,this._meta={}}return(0,o.default)(e,[{key:"onNext",value:function(e){var t=new a.default(this._fieldKeys,e,this._fieldLookup);this._observer?this._observer.onNext(t):this._queuedRecords.push(t)}},{key:"onCompleted",value:function(e){if(null===this._fieldKeys){if(this._fieldKeys=[],this._fieldLookup={},e.fields&&e.fields.length>0){this._fieldKeys=e.fields;for(var t=0;t<e.fields.length;t++)this._fieldLookup[e.fields[t]]=t}}else this._observer?this._observer.onCompleted(e):this._tail=e;this._copyMetadataOnCompletion(e)}},{key:"_copyMetadataOnCompletion",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this._meta[t]=e[t])}},{key:"serverMetadata",value:function(){var e={server:this._conn.server};return Object.assign({},this._meta,e)}},{key:"resolveConnection",value:function(e){this._conn=e}},{key:"prepareToHandleSingleResponse",value:function(){this._fieldKeys=[]}},{key:"markCompleted",value:function(){this._fieldKeys=[],this._tail={}}},{key:"onError",value:function(e){this._hasFailed||(this._hasFailed=!0,this._observer?this._observer.onError?this._observer.onError(e):console.log(e):this._error=e)}},{key:"subscribe",value:function(e){if(this._error)e.onError(this._error);else{if(this._queuedRecords.length>0)for(var t=0;t<this._queuedRecords.length;t++)e.onNext(this._queuedRecords[t]);this._tail&&e.onCompleted(this._tail),this._observer=e}}},{key:"hasFailed",value:function(){return this._hasFailed}}]),e}(),u=s;r.default=u},{"../record":81,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],76:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeSecondsForDuration=function(e,t){return(0,a.int)(e).add(D(t,k))},r.normalizeNanosecondsForDuration=function(e){return A(e,k)},r.localTimeToNanoOfDay=function(e,t,r,n){e=(0,a.int)(e),t=(0,a.int)(t),r=(0,a.int)(r),n=(0,a.int)(n);var i=e.multiply(O);return(i=(i=i.add(t.multiply(E))).add(r.multiply(k))).add(n)},r.nanoOfDayToLocalTime=T,r.localDateTimeToEpochSecond=function(e,t,r,n,i,o,s){var u=R(e,t,r),l=function(e,t,r){e=(0,a.int)(e),t=(0,a.int)(t),r=(0,a.int)(r);var n=e.multiply(g);return(n=n.add(t.multiply(y))).add(r)}(n,i,o);return u.multiply(S).add(l)},r.epochSecondAndNanoToLocalDateTime=function(e,t){var r=D(e,S),n=A(e,S).multiply(k).add(t),i=N(r),o=T(n);return new s.LocalDateTime(i.year,i.month,i.day,o.hour,o.minute,o.second,o.nanosecond)},r.dateToEpochDay=R,r.epochDayToDate=N,r.durationToIsoString=function(e,t,r,n){var i=j(e),o=j(t),s=function(e,t){var r,n;e=(0,a.int)(e),t=(0,a.int)(t);var i=e.isNegative(),o=t.greaterThan(0);return r=i&&o?e.equals(-1)?"-0":e.add(1).toString():e.toString(),o&&(n=U(i?t.negate().add(2*k).modulo(k):t.add(k).modulo(k))),n?r+n:r}(r,n);return"P".concat(i,"M").concat(o,"DT").concat(s,"S")},r.timeToIsoString=function(e,t,r,n){var i=j(e,2),o=j(t,2),a=j(r,2),s=U(n);return"".concat(i,":").concat(o,":").concat(a).concat(s)},r.timeZoneOffsetToIsoString=function(e){if((e=(0,a.int)(e)).equals(0))return"Z";var t=e.isNegative();t&&(e=e.multiply(-1));var r=t?"-":"+",n=j(e.div(g),2),i=j(e.div(y).modulo(m),2),o=e.modulo(y),s=o.equals(0)?null:j(o,2);return s?"".concat(r).concat(n,":").concat(i,":").concat(s):"".concat(r).concat(n,":").concat(i)},r.dateToIsoString=function(e,t,r){var n=(e=(0,a.int)(e)).isNegative();n&&(e=e.multiply(-1));var i=j(e,4);n&&(i="-"+i);var o=j(t,2),s=j(r,2);return"".concat(i,"-").concat(o,"-").concat(s)},r.totalNanoseconds=function(e,t){t=t||0;var r=e.getMilliseconds()*w;return(0,a.isInt)(t)?t.add(r):t+r},r.timeZoneOffsetInSeconds=function(e){var t=e.getTimezoneOffset();return 0===t?0:-1*t*y},r.assertValidYear=function(e){return P(e,h,"Year")},r.assertValidMonth=function(e){return P(e,f,"Month")},r.assertValidDay=function(e){return P(e,d,"Day")},r.assertValidHour=function(e){return P(e,p,"Hour")},r.assertValidMinute=function(e){return P(e,v,"Minute")},r.assertValidSecond=function(e){return P(e,_,"Second")},r.assertValidNanosecond=function(e){return P(e,b,"Nanosecond")};var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=e("../integer"),s=e("../temporal-types"),u=e("./util"),l=e("../error"),c=function(){function e(t,r){(0,i.default)(this,e),this._minNumber=t,this._maxNumber=r,this._minInteger=(0,a.int)(t),this._maxInteger=(0,a.int)(r)}return(0,o.default)(e,[{key:"contains",value:function(e){return(0,a.isInt)(e)?e.greaterThanOrEqual(this._minInteger)&&e.lessThanOrEqual(this._maxInteger):e>=this._minNumber&&e<=this._maxNumber}},{key:"toString",value:function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")}}]),e}(),h=new c(-999999999,999999999),f=new c(1,12),d=new c(1,31),p=new c(0,23),v=new c(0,59),_=new c(0,59),b=new c(0,999999999),m=60,y=60,g=y*m,k=1e9,w=1e6,E=k*y,O=E*m,C=719528,I=146097,S=86400;function T(e){var t=(e=(0,a.int)(e)).div(O),r=(e=e.subtract(t.multiply(O))).div(E),n=(e=e.subtract(r.multiply(E))).div(k),i=e.subtract(n.multiply(k));return new s.LocalTime(t,r,n,i)}function R(e,t,r){e=(0,a.int)(e),t=(0,a.int)(t),r=(0,a.int)(r);var n=e.multiply(365);return n=(n=(n=e.greaterThanOrEqual(0)?n.add(e.add(3).div(4).subtract(e.add(99).div(100)).add(e.add(399).div(400))):n.subtract(e.div(-4).subtract(e.div(-100)).add(e.div(-400)))).add(t.multiply(367).subtract(362).div(12))).add(r.subtract(1)),t.greaterThan(2)&&(n=n.subtract(1),function(e){return!!(e=(0,a.int)(e)).modulo(4).equals(0)&&(!e.modulo(100).equals(0)||!!e.modulo(400).equals(0))}(e)||(n=n.subtract(1))),n.subtract(C)}function N(e){var t=(e=(0,a.int)(e)).add(C).subtract(60),r=(0,a.int)(0);if(t.lessThan(0)){var n=t.add(1).div(I).subtract(1);r=n.multiply(400),t=t.add(n.multiply(-I))}var i=t.multiply(400).add(591).div(I),o=t.subtract(i.multiply(365).add(i.div(4)).subtract(i.div(100)).add(i.div(400)));o.lessThan(0)&&(i=i.subtract(1),o=t.subtract(i.multiply(365).add(i.div(4)).subtract(i.div(100)).add(i.div(400)))),i=i.add(r);var u=o,l=u.multiply(5).add(2).div(153),c=l.add(2).modulo(12).add(1),h=u.subtract(l.multiply(306).add(5).div(10)).add(1);return i=i.add(l.div(10)),new s.Date(i,c,h)}function P(e,t,r){if((0,u.assertNumberOrInteger)(e,r),!t.contains(e))throw(0,l.newError)("".concat(r," is expected to be in range ").concat(t," but was: ").concat(e));return e}function D(e,t){e=(0,a.int)(e),t=(0,a.int)(t);var r=e.div(t);return e.isPositive()!==t.isPositive()&&r.multiply(t).notEquals(e)&&(r=r.subtract(1)),r}function A(e,t){return e=(0,a.int)(e),t=(0,a.int)(t),e.subtract(D(e,t).multiply(t))}function U(e){return(e=(0,a.int)(e)).equals(0)?"":"."+j(e,9)}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=(e=(0,a.int)(e)).isNegative();r&&(e=e.negate());var n=e.toString();if(t)for(;n.length<t;)n="0"+n;return r?"-"+n:n}},{"../error":29,"../integer":32,"../temporal-types":87,"./util":80,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],77:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=e("../error"),s=3e4,u=1e3,l=2,c=.2,h=function(){function e(t,r,n,o){(0,i.default)(this,e),this._maxRetryTimeMs=f(t,s),this._initialRetryDelayMs=f(r,u),this._multiplier=f(n,l),this._jitterFactor=f(o,c),this._inFlightTimeoutIds=[],this._verifyAfterConstruction()}return(0,o.default)(e,[{key:"execute",value:function(e,t){var r=this;return new Promise(function(n,i){r._executeTransactionInsidePromise(e,t,n,i)}).catch(function(n){var i=Date.now(),o=r._initialRetryDelayMs;return r._retryTransactionPromise(e,t,n,i,o)})}},{key:"close",value:function(){this._inFlightTimeoutIds.forEach(function(e){return clearTimeout(e)}),this._inFlightTimeoutIds=[]}},{key:"_retryTransactionPromise",value:function(t,r,n,i,o){var a=this,s=Date.now()-i;return s>this._maxRetryTimeMs||!e._canRetryOn(n)?Promise.reject(n):new Promise(function(e,n){var i=a._computeDelayWithJitter(o),s=setTimeout(function(){a._inFlightTimeoutIds=a._inFlightTimeoutIds.filter(function(e){return e!==s}),a._executeTransactionInsidePromise(t,r,e,n)},i);a._inFlightTimeoutIds.push(s)}).catch(function(e){var n=o*a._multiplier;return a._retryTransactionPromise(t,r,e,i,n)})}},{key:"_executeTransactionInsidePromise",value:function(e,t,r,n){var i,o=this;try{i=e()}catch(s){return void n(s)}var a=this._safeExecuteTransactionWork(i,t);a.then(function(e){return o._handleTransactionWorkSuccess(e,i,r,n)}).catch(function(e){return o._handleTransactionWorkFailure(e,i,n)})}},{key:"_safeExecuteTransactionWork",value:function(e,t){try{var r=t(e);return Promise.resolve(r)}catch(n){return Promise.reject(n)}}},{key:"_handleTransactionWorkSuccess",value:function(e,t,r,n){t.isOpen()?t.commit().then(function(){r(e)}).catch(function(e){n(e)}):r(e)}},{key:"_handleTransactionWorkFailure",value:function(e,t,r){t.isOpen()?t.rollback().catch(function(e){}).then(function(){return r(e)}):r(e)}},{key:"_computeDelayWithJitter",value:function(e){var t=e*this._jitterFactor,r=e-t,n=e+t;return Math.random()*(n-r)+r}},{key:"_verifyAfterConstruction",value:function(){if(this._maxRetryTimeMs<0)throw(0,a.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs);if(this._initialRetryDelayMs<0)throw(0,a.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs);if(this._multiplier<1)throw(0,a.newError)("Multiplier should be >= 1.0: "+this._multiplier);if(this._jitterFactor<0||this._jitterFactor>1)throw(0,a.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor)}}],[{key:"_canRetryOn",value:function(e){return e&&e.code&&(e.code===a.SERVICE_UNAVAILABLE||e.code===a.SESSION_EXPIRED||this._isTransientError(e))}},{key:"_isTransientError",value:function(e){var t=e.code;return t.indexOf("TransientError")>=0&&"Neo.TransientError.Transaction.Terminated"!==t&&"Neo.TransientError.Transaction.LockClientStopped"!==t}}]),e}();function f(e,t){return e||0===e?e:t}r.default=h},{"../error":29,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],78:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/createClass")),s=n(e("./util")),u=e("../integer"),l=e("../error"),c=function(){function e(t){(0,o.default)(this,e),function(e){e&&s.assertObject(e,"Transaction config")}(t),this.timeout=function(e){if(s.isObject(e)&&(e.timeout||0===e.timeout)){s.assertNumberOrInteger(e.timeout,"Transaction timeout");var t=(0,u.int)(e.timeout);if(t.isZero())throw(0,l.newError)("Transaction timeout should not be zero");if(t.isNegative())throw(0,l.newError)("Transaction timeout should not be negative");return t}return null}(t),this.metadata=function(e){if(s.isObject(e)&&e.metadata){var t=e.metadata;if(s.assertObject(t),0!==Object.keys(t).length)return t}return null}(t)}return(0,a.default)(e,[{key:"isEmpty",value:function(){return Object.values(this).every(function(e){return null==e})}}],[{key:"empty",value:function(){return h}}]),e}();r.default=c;var h=new c({})},{"../error":29,"../integer":32,"./util":80,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12}],79:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=e("uri-js"),a=e("./util"),s=7687,u=7474,l=7473,c=function e(t,r,n,o,a){(0,i.default)(this,e),this.scheme=t,this.host=r,this.port=n,this.hostAndPort=o,this.query=a};function h(e,t,r){if(!(e=(e||"").trim()))throw new Error("Illegal empty ".concat(t," in URL query '").concat(r,"'"));return e}function f(e){var t="["===e.charAt(0),r="]"===e.charAt(e.length-1);if(t||r){if(t&&r)return e;throw new Error("Illegal IPv6 address ".concat(e))}return"[".concat(e,"]")}function d(e){return"http"===e?u:"https"===e?l:s}var p={parseDatabaseUrl:function(e){(0,a.assertString)(e,"URL");var t=function(e){return-1===(e=e.trim()).indexOf("://")?{schemeMissing:!0,url:"none://".concat(e)}:{schemeMissing:!1,url:e}}(e),r=(0,o.parse)(t.url),n=t.schemeMissing?null:function(e){return e?(":"===(e=e.trim()).charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e):null}(r.scheme),i=function(e,t){if(!e)throw new Error("Unable to extract host from ".concat(t));return e.trim()}(r.host),s=function(e){if(!e)throw new Error("Illegal host ".concat(e));return e.indexOf(":")>=0?f(e):e}(i),u=function(e,t){var r=parseInt(e,10);return 0===r||r?r:d(t)}(r.port,n),l="".concat(s,":").concat(u),p=function(e,t){var r=function(e){return(e=(e||"").trim())&&"?"===e.charAt(0)&&(e=e.substring(1,e.length)),e}(e),n={};return r&&r.split("&").forEach(function(e){var r=e.split("=");if(2!==r.length)throw new Error("Invalid parameters: '".concat(r,"' in URL '").concat(t,"'."));var i=h(r[0],"key",t),o=h(r[1],"value",t);if(n[i])throw new Error("Duplicated query parameters with key '".concat(i,"' in URL '").concat(t,"'"));n[i]=o}),n}(r.query,e);return new c(n,i,u,l,p)},defaultPortForScheme:d,formatIPv4Address:function(e,t){return"".concat(e,":").concat(t)},formatIPv6Address:function(e,t){var r=f(e);return"".concat(r,":").concat(t)}};r.default=p},{"./util":80,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/interopRequireDefault":11,"uri-js":26}],80:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isEmptyObjectOrNull=function(e){if(null===e)return!0;if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},r.isObject=a,r.isString=u,r.assertObject=function(e,t){if(!a(e))throw new TypeError(t+" expected to be an object but was: "+JSON.stringify(e));return e},r.assertString=s,r.assertNumber=function(e,t){if("number"!==typeof e)throw new TypeError(t+" expected to be a number but was: "+JSON.stringify(e));return e},r.assertNumberOrInteger=function(e,t){if("number"!==typeof e&&!(0,o.isInt)(e))throw new TypeError(t+" expected to be either a number or an Integer object but was: "+JSON.stringify(e));return e},r.assertValidDate=function(e,t){if("[object Date]"!==Object.prototype.toString.call(e))throw new TypeError(t+" expected to be a standard JavaScript Date but was: "+JSON.stringify(e));if(Number.isNaN(e.getTime()))throw new TypeError(t+" expected to be valid JavaScript Date but its time was NaN: "+JSON.stringify(e));return e},r.validateStatementAndParameters=function(e,t){var r=e,n=t||{};return"object"===(0,i.default)(e)&&e.text&&(r=e.text,n=e.parameters||{}),function(e){if(s(e,"Cypher statement"),0===e.trim().length)throw new TypeError("Cypher statement is expected to be a non-empty string.")}(r),function(e){if(!a(e)){var t=e.constructor?" "+e.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(t," ").concat(e))}}(n),{query:r,params:n}},r.ENCRYPTION_OFF=r.ENCRYPTION_ON=void 0;var i=n(e("@babel/runtime/helpers/typeof")),o=e("../integer");function a(e){return"object"===(0,i.default)(e)&&!Array.isArray(e)&&null!==e}function s(e,t){if(!u(e))throw new TypeError(t+" expected to be string but was: "+JSON.stringify(e));return e}function u(e){return"[object String]"===Object.prototype.toString.call(e)}r.ENCRYPTION_ON="ENCRYPTION_ON",r.ENCRYPTION_OFF="ENCRYPTION_OFF"},{"../integer":32,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":23}],81:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=e("./error"),s=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,i.default)(this,e),this.keys=t,this.length=t.length,this._fields=r,this._fieldLookup=n||function(e){var t={};return e.forEach(function(e,r){t[e]=r}),t}(t)}return(0,o.default)(e,[{key:"forEach",value:function(e){for(var t=0;t<this.keys.length;t++)e(this._fields[t],this.keys[t],this)}},{key:"toObject",value:function(){var e={};return this.forEach(function(t,r){e[r]=t}),e}},{key:"get",value:function(e){var t;if("number"!==typeof e){if(void 0===(t=this._fieldLookup[e]))throw(0,a.newError)("This record has no field with key '"+e+"', available key are: ["+this.keys+"].")}else t=e;if(t>this._fields.length-1||t<0)throw(0,a.newError)("This record has no field with index '"+t+"'. Remember that indexes start at `0`, and make sure your statement returns records in the shape you meant it to.");return this._fields[t]}},{key:"has",value:function(e){return"number"===typeof e?e>=0&&e<this._fields.length:void 0!==this._fieldLookup[e]}}]),e}(),u=s;r.default=u},{"./error":29,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],82:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.statementType=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=e("./integer"),s=function(){function e(t,r,n){(0,i.default)(this,e),this.statement={text:t,parameters:r},this.statementType=n.type,this.counters=new c(n.stats||{}),this.updateStatistics=this.counters,this.plan=!(!n.plan&&!n.profile)&&new u(n.plan||n.profile),this.profile=!!n.profile&&new l(n.profile),this.notifications=this._buildNotifications(n.notifications),this.server=new f(n.server),this.resultConsumedAfter=n.result_consumed_after,this.resultAvailableAfter=n.result_available_after}return(0,o.default)(e,[{key:"_buildNotifications",value:function(e){return e?e.map(function(e){return new h(e)}):[]}},{key:"hasPlan",value:function(){return this.plan instanceof u}},{key:"hasProfile",value:function(){return this.profile instanceof l}}]),e}(),u=function e(t){(0,i.default)(this,e),this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.children=t.children?t.children.map(function(t){return new e(t)}):[]},l=function e(t){(0,i.default)(this,e),this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.dbHits=t.args.DbHits.toInt(),this.rows=t.args.Rows.toInt(),this.children=t.children?t.children.map(function(t){return new e(t)}):[]},c=function(){function e(t){var r=this;(0,i.default)(this,e),this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},Object.keys(t).forEach(function(e){r._stats[e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})]=(0,a.isInt)(t[e])?t[e].toInt():t[e]})}return(0,o.default)(e,[{key:"containsUpdates",value:function(){var e=this;return Object.keys(this._stats).reduce(function(t,r){return t+e._stats[r]},0)>0}},{key:"nodesCreated",value:function(){return this._stats.nodesCreated}},{key:"nodesDeleted",value:function(){return this._stats.nodesDeleted}},{key:"relationshipsCreated",value:function(){return this._stats.relationshipsCreated}},{key:"relationshipsDeleted",value:function(){return this._stats.relationshipsDeleted}},{key:"propertiesSet",value:function(){return this._stats.propertiesSet}},{key:"labelsAdded",value:function(){return this._stats.labelsAdded}},{key:"labelsRemoved",value:function(){return this._stats.labelsRemoved}},{key:"indexesAdded",value:function(){return this._stats.indexesAdded}},{key:"indexesRemoved",value:function(){return this._stats.indexesRemoved}},{key:"constraintsAdded",value:function(){return this._stats.constraintsAdded}},{key:"constraintsRemoved",value:function(){return this._stats.constraintsRemoved}}]),e}(),h=function(){function e(t){(0,i.default)(this,e),this.code=t.code,this.title=t.title,this.description=t.description,this.severity=t.severity,this.position=e._constructPosition(t.position)}return(0,o.default)(e,null,[{key:"_constructPosition",value:function(e){return e?{offset:e.offset.toInt(),line:e.line.toInt(),column:e.column.toInt()}:{}}}]),e}(),f=function e(t){(0,i.default)(this,e),t&&(this.address=t.address,this.version=t.version)};r.statementType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"};var d=s;r.default=d},{"./integer":32,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],83:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=n(e("./result-summary")),s=e("./internal/connection-holder"),u=function(e){console.log("Uncaught error when processing result: "+e)},l=function(e){},c=function(){function e(t,r,n,o,a){(0,i.default)(this,e),this._stack=function(){var e=new Error("");return e.stack?e.stack.replace(/^Error(\n\r)*/,""):null}(),this._streamObserver=t,this._p=null,this._statement=r,this._parameters=n||{},this._metaSupplier=o||function(){return{}},this._connectionHolder=a||s.EMPTY_CONNECTION_HOLDER}return(0,o.default)(e,[{key:"_createPromise",value:function(){if(!this._p){var e=this;this._p=new Promise(function(t,r){var n=[],i={onNext:function(e){n.push(e)},onCompleted:function(e){t({records:n,summary:e})},onError:function(e){r(e)}};e.subscribe(i)})}}},{key:"then",value:function(e,t){return this._createPromise(),this._p.then(e,t)}},{key:"catch",value:function(e){return this._createPromise(),this._p.catch(e)}},{key:"subscribe",value:function(e){var t=this,r=this,n=e.onCompleted||l;e.onCompleted=function(i){var o=r._metaSupplier();for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s]);var u=new a.default(t._statement,t._parameters,i);r._connectionHolder.releaseConnection().then(function(){n.call(e,u)})};var i=e.onError||u;e.onError=function(n){r._connectionHolder.releaseConnection().then(function(){!function(e,t){t&&(e.stack=e.toString()+"\n"+t)}(n,t._stack),i.call(e,n)})},this._streamObserver.subscribe(e)}}]),e}(),h=c;r.default=h},{"./internal/connection-holder":47,"./result-summary":82,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],84:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=i(e("@babel/runtime/helpers/classCallCheck")),a=i(e("@babel/runtime/helpers/createClass")),s=i(e("@babel/runtime/helpers/possibleConstructorReturn")),u=i(e("@babel/runtime/helpers/getPrototypeOf")),l=i(e("@babel/runtime/helpers/inherits")),c=e("./driver"),h=e("./error"),f=e("./internal/connection-providers"),d=n(e("./internal/least-connected-load-balancing-strategy")),p=n(e("./internal/round-robin-load-balancing-strategy")),v=i(e("./internal/connection-error-handler")),_=i(e("./internal/resolver/configured-custom-resolver")),b=function(e){function t(e,r,n){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,o.default)(this,t),(i=(0,s.default)(this,(0,u.default)(t).call(this,e,n,a,function(e){if("TRUST_ON_FIRST_USE"===e.trust)throw(0,h.newError)("The chosen trust mode is not compatible with a routing driver");var t=e.resolver;if(t&&"function"!==typeof t)throw new TypeError("Configured resolver should be a function. Got: ".concat(t));return e}(l))))._routingContext=r,i}return(0,l.default)(t,e),(0,a.default)(t,[{key:"_afterConstruction",value:function(){this._log.info("Routing driver ".concat(this._id," created for server address ").concat(this._address))}},{key:"_createConnectionProvider",value:function(e,r,n){var i,o=t._createLoadBalancingStrategy(this._config,r),a=(i=this._config,new _.default(i.resolver));return new f.LoadBalancer(e,this._routingContext,r,o,a,n,this._log)}},{key:"_createConnectionErrorHandler",value:function(){var e=this;return new v.default(h.SESSION_EXPIRED,function(t,r){return e._handleUnavailability(t,r)},function(t,r){return e._handleWriteFailure(t,r)})}},{key:"_handleUnavailability",value:function(e,t){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(t," because of an error ").concat(e.code," '").concat(e.message,"'")),this._connectionProvider.forget(t),e}},{key:"_handleWriteFailure",value:function(e,t){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(t," because of an error ").concat(e.code," '").concat(e.message,"'")),this._connectionProvider.forgetWriter(t),(0,h.newError)("No longer possible to write to server at "+t,h.SESSION_EXPIRED)}}],[{key:"_createLoadBalancingStrategy",value:function(e,t){var r=e.loadBalancingStrategy;if(r&&r!==d.LEAST_CONNECTED_STRATEGY_NAME){if(r===p.ROUND_ROBIN_STRATEGY_NAME)return new p.default;throw(0,h.newError)("Unknown load balancing strategy: "+r)}return new d.default(t)}}]),t}(c.Driver),m=b;r.default=m},{"./driver":28,"./error":29,"./internal/connection-error-handler":46,"./internal/connection-providers":48,"./internal/least-connected-load-balancing-strategy":57,"./internal/resolver/configured-custom-resolver":68,"./internal/round-robin-load-balancing-strategy":70,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":18}],85:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),a=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/classCallCheck")),l=n(e("@babel/runtime/helpers/createClass")),c=n(e("./internal/stream-observer")),h=n(e("./result")),f=n(e("./transaction")),d=e("./error"),p=e("./internal/util"),v=n(e("./internal/connection-holder")),_=n(e("./driver")),b=e("./internal/constants"),m=n(e("./internal/transaction-executor")),y=n(e("./internal/bookmark")),g=n(e("./internal/tx-config")),k=function(){function e(t,r,n,i){(0,u.default)(this,e),this._mode=t,this._readConnectionHolder=new v.default(b.ACCESS_MODE_READ,r),this._writeConnectionHolder=new v.default(b.ACCESS_MODE_WRITE,r),this._open=!0,this._hasTx=!1,this._lastBookmark=n,this._transactionExecutor=function(e){var t=e&&e.maxTransactionRetryTime?e.maxTransactionRetryTime:null;return new m.default(t)}(i)}return(0,l.default)(e,[{key:"run",value:function(e,t,r){var n=this,i=(0,p.validateStatementAndParameters)(e,t),o=i.query,a=i.params,s=r?new g.default(r):g.default.empty();return this._run(o,a,function(e,t){return e.protocol().run(o,a,n._lastBookmark,s,n._mode,t)})}},{key:"_run",value:function(e,t,r){var n=new w(this),i=this._connectionHolderWithMode(this._mode);return this._hasTx?n.onError((0,d.newError)("Statements cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):(i.initializeConnection(),i.getConnection(n).then(function(e){return r(e,n)}).catch(function(e){return n.onError(e)})),new h.default(n,e,t,function(){return n.serverMetadata()},i)}},{key:"beginTransaction",value:function(e){var t=e,r=g.default.empty();return"string"===typeof t||t instanceof String||Array.isArray(t)?this._updateBookmark(new y.default(t)):t&&(r=new g.default(t)),this._beginTransaction(this._mode,r)}},{key:"_beginTransaction",value:function(e,t){if(this._hasTx)throw(0,d.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var r=_.default._validateSessionMode(e),n=this._connectionHolderWithMode(r);n.initializeConnection(),this._hasTx=!0;var i=new f.default(n,this._transactionClosed.bind(this),this._updateBookmark.bind(this));return i._begin(this._lastBookmark,t),i}},{key:"_transactionClosed",value:function(){this._hasTx=!1}},{key:"lastBookmark",value:function(){return this._lastBookmark.maxBookmarkAsString()}},{key:"readTransaction",value:function(e,t){var r=new g.default(t);return this._runTransaction(b.ACCESS_MODE_READ,r,e)}},{key:"writeTransaction",value:function(e,t){var r=new g.default(t);return this._runTransaction(b.ACCESS_MODE_WRITE,r,e)}},{key:"_runTransaction",value:function(e,t,r){var n=this;return this._transactionExecutor.execute(function(){return n._beginTransaction(e,t)},r)}},{key:"_updateBookmark",value:function(e){e&&!e.isEmpty()&&(this._lastBookmark=e)}},{key:"close",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null};this._open?(this._open=!1,this._transactionExecutor.close(),this._readConnectionHolder.close().then(function(){e._writeConnectionHolder.close().then(function(){t()})})):t()}},{key:"_connectionHolderWithMode",value:function(e){if(e===b.ACCESS_MODE_READ)return this._readConnectionHolder;if(e===b.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,d.newError)("Unknown access mode: "+e)}}]),e}(),w=function(e){function t(e){var r;return(0,u.default)(this,t),(r=(0,i.default)(this,(0,o.default)(t).call(this)))._session=e,r}return(0,s.default)(t,e),(0,l.default)(t,[{key:"onCompleted",value:function(e){(0,a.default)((0,o.default)(t.prototype),"onCompleted",this).call(this,e);var r=new y.default(e.bookmark);this._session._updateBookmark(r)}}]),t}(c.default),E=k;r.default=E},{"./driver":28,"./error":29,"./internal/bookmark":36,"./internal/connection-holder":47,"./internal/constants":51,"./internal/stream-observer":75,"./internal/transaction-executor":77,"./internal/tx-config":78,"./internal/util":80,"./result":83,"./transaction":88,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],86:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isPoint=function(e){return!0===(e&&e[s])},r.Point=void 0;var i=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),a=e("./internal/util"),s="__isPoint__",u=function(){function e(t,r,n,o){(0,i.default)(this,e),this.srid=(0,a.assertNumberOrInteger)(t,"SRID"),this.x=(0,a.assertNumber)(r,"X coordinate"),this.y=(0,a.assertNumber)(n,"Y coordinate"),this.z=null===o||void 0===o?o:(0,a.assertNumber)(o,"Z coordinate"),Object.freeze(this)}return(0,o.default)(e,[{key:"toString",value:function(){return this.z||0===this.z?"Point{srid=".concat(l(this.srid),", x=").concat(l(this.x),", y=").concat(l(this.y),", z=").concat(l(this.z),"}"):"Point{srid=".concat(l(this.srid),", x=").concat(l(this.x),", y=").concat(l(this.y),"}")}}]),e}();function l(e){return Number.isInteger(e)?e+".0":e.toString()}r.Point=u,Object.defineProperty(u.prototype,s,{value:!0,enumerable:!1,configurable:!1})},{"./internal/util":80,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11}],87:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isDuration=function(e){return O(e,f)},r.isLocalTime=function(e){return O(e,d)},r.isTime=function(e){return O(e,p)},r.isDate=function(e){return O(e,v)},r.isLocalDateTime=function(e){return O(e,_)},r.isDateTime=function(e){return O(e,b)},r.DateTime=r.LocalDateTime=r.Date=r.Time=r.LocalTime=r.Duration=void 0;var o=i(e("@babel/runtime/helpers/slicedToArray")),a=i(e("@babel/runtime/helpers/classCallCheck")),s=i(e("@babel/runtime/helpers/createClass")),u=n(e("./internal/temporal-util")),l=e("./internal/util"),c=e("./error"),h={value:!0,enumerable:!1,configurable:!1},f="__isDuration__",d="__isLocalTime__",p="__isTime__",v="__isDate__",_="__isLocalDateTime__",b="__isDateTime__",m=function(){function e(t,r,n,i){(0,a.default)(this,e),this.months=(0,l.assertNumberOrInteger)(t,"Months"),this.days=(0,l.assertNumberOrInteger)(r,"Days"),(0,l.assertNumberOrInteger)(n,"Seconds"),(0,l.assertNumberOrInteger)(i,"Nanoseconds"),this.seconds=u.normalizeSecondsForDuration(n,i),this.nanoseconds=u.normalizeNanosecondsForDuration(i),Object.freeze(this)}return(0,s.default)(e,[{key:"toString",value:function(){return u.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)}}]),e}();r.Duration=m,Object.defineProperty(m.prototype,f,h);var y=function(){function e(t,r,n,i){(0,a.default)(this,e),this.hour=u.assertValidHour(t),this.minute=u.assertValidMinute(r),this.second=u.assertValidSecond(n),this.nanosecond=u.assertValidNanosecond(i),Object.freeze(this)}return(0,s.default)(e,[{key:"toString",value:function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)}}],[{key:"fromStandardDate",value:function(t,r){return I(t,r),new e(t.getHours(),t.getMinutes(),t.getSeconds(),u.totalNanoseconds(t,r))}}]),e}();r.LocalTime=y,Object.defineProperty(y.prototype,d,h);var g=function(){function e(t,r,n,i,o){(0,a.default)(this,e),this.hour=u.assertValidHour(t),this.minute=u.assertValidMinute(r),this.second=u.assertValidSecond(n),this.nanosecond=u.assertValidNanosecond(i),this.timeZoneOffsetSeconds=(0,l.assertNumberOrInteger)(o,"Time zone offset in seconds"),Object.freeze(this)}return(0,s.default)(e,[{key:"toString",value:function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+u.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)}}],[{key:"fromStandardDate",value:function(t,r){return I(t,r),new e(t.getHours(),t.getMinutes(),t.getSeconds(),u.totalNanoseconds(t,r),u.timeZoneOffsetInSeconds(t))}}]),e}();r.Time=g,Object.defineProperty(g.prototype,p,h);var k=function(){function e(t,r,n){(0,a.default)(this,e),this.year=u.assertValidYear(t),this.month=u.assertValidMonth(r),this.day=u.assertValidDay(n),Object.freeze(this)}return(0,s.default)(e,[{key:"toString",value:function(){return u.dateToIsoString(this.year,this.month,this.day)}}],[{key:"fromStandardDate",value:function(t){return I(t,null),new e(t.getFullYear(),t.getMonth()+1,t.getDate())}}]),e}();r.Date=k,Object.defineProperty(k.prototype,v,h);var w=function(){function e(t,r,n,i,o,s,l){(0,a.default)(this,e),this.year=u.assertValidYear(t),this.month=u.assertValidMonth(r),this.day=u.assertValidDay(n),this.hour=u.assertValidHour(i),this.minute=u.assertValidMinute(o),this.second=u.assertValidSecond(s),this.nanosecond=u.assertValidNanosecond(l),Object.freeze(this)}return(0,s.default)(e,[{key:"toString",value:function(){return C(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)}}],[{key:"fromStandardDate",value:function(t,r){return I(t,r),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),u.totalNanoseconds(t,r))}}]),e}();r.LocalDateTime=w,Object.defineProperty(w.prototype,_,h);var E=function(){function e(t,r,n,i,s,h,f,d,p){(0,a.default)(this,e),this.year=u.assertValidYear(t),this.month=u.assertValidMonth(r),this.day=u.assertValidDay(n),this.hour=u.assertValidHour(i),this.minute=u.assertValidMinute(s),this.second=u.assertValidSecond(h),this.nanosecond=u.assertValidNanosecond(f);var v=function(e,t){var r=e||0===e,n=t&&""!==t;if(r&&!n)return(0,l.assertNumberOrInteger)(e,"Time zone offset in seconds"),[e,null];if(!r&&n)return(0,l.assertString)(t,"Time zone ID"),[null,t];throw r&&n?(0,c.newError)("Unable to create DateTime with both time zone offset and id. Please specify either of them. Given offset: ".concat(e," and id: ").concat(t)):(0,c.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(e," and id: ").concat(t))}(d,p),_=(0,o.default)(v,2),b=_[0],m=_[1];this.timeZoneOffsetSeconds=b,this.timeZoneId=m,Object.freeze(this)}return(0,s.default)(e,[{key:"toString",value:function(){var e=C(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond),t=this.timeZoneId?"[".concat(this.timeZoneId,"]"):u.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds);return e+t}}],[{key:"fromStandardDate",value:function(t,r){return I(t,r),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),u.totalNanoseconds(t,r),u.timeZoneOffsetInSeconds(t),null)}}]),e}();function O(e,t){return!0===(e&&e[t])}function C(e,t,r,n,i,o,a){return u.dateToIsoString(e,t,r)+"T"+u.timeToIsoString(n,i,o,a)}function I(e,t){(0,l.assertValidDate)(e,"Standard date"),null!==t&&void 0!==t&&(0,l.assertNumberOrInteger)(t,"Nanosecond")}r.DateTime=E,Object.defineProperty(E.prototype,b,h)},{"./error":29,"./internal/temporal-util":76,"./internal/util":80,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":20}],88:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf")),a=n(e("@babel/runtime/helpers/get")),s=n(e("@babel/runtime/helpers/inherits")),u=n(e("@babel/runtime/helpers/classCallCheck")),l=n(e("@babel/runtime/helpers/createClass")),c=n(e("./internal/stream-observer")),h=n(e("./result")),f=e("./internal/util"),d=e("./internal/connection-holder"),p=n(e("./internal/bookmark")),v=n(e("./internal/tx-config")),_=function(){function e(t,r,n){(0,u.default)(this,e),this._connectionHolder=t,this._state=m.ACTIVE,this._onClose=r,this._onBookmark=n}return(0,l.default)(e,[{key:"_begin",value:function(e,t){var r=this,n=new b(this);this._connectionHolder.getConnection(n).then(function(i){return i.protocol().beginTransaction(e,t,r._connectionHolder.mode(),n)}).catch(function(e){return n.onError(e)})}},{key:"run",value:function(e,t){var r=(0,f.validateStatementAndParameters)(e,t),n=r.query,i=r.params;return this._state.run(this._connectionHolder,new b(this),n,i)}},{key:"commit",value:function(){var e=this._state.commit(this._connectionHolder,new b(this));return this._state=e.state,this._onClose(),e.result}},{key:"rollback",value:function(){var e=this._state.rollback(this._connectionHolder,new b(this));return this._state=e.state,this._onClose(),e.result}},{key:"isOpen",value:function(){return this._state===m.ACTIVE}},{key:"_onError",value:function(){return this._state=m.FAILED,this._onClose(),this._connectionHolder.releaseConnection()}}]),e}(),b=function(e){function t(e){var r;return(0,u.default)(this,t),(r=(0,i.default)(this,(0,o.default)(t).call(this)))._tx=e,r}return(0,s.default)(t,e),(0,l.default)(t,[{key:"onError",value:function(e){var r=this;this._hasFailed||this._tx._onError().then(function(){(0,a.default)((0,o.default)(t.prototype),"onError",r).call(r,e)})}},{key:"onCompleted",value:function(e){(0,a.default)((0,o.default)(t.prototype),"onCompleted",this).call(this,e);var r=new p.default(e.bookmark);this._tx._onBookmark(r)}}]),t}(c.default),m={ACTIVE:{commit:function(e,t){return{result:y(!0,e,t),state:m.SUCCEEDED}},rollback:function(e,t){return{result:y(!1,e,t),state:m.ROLLED_BACK}},run:function(e,t,r,n){var i=p.default.empty(),o=v.default.empty();return e.getConnection(t).then(function(a){return a.protocol().run(r,n,i,o,e.mode(),t)}).catch(function(e){return t.onError(e)}),function(e,t,r,n){return new h.default(e,t,r,n,d.EMPTY_CONNECTION_HOLDER)}(t,r,n,function(){return t.serverMetadata()})}},FAILED:{commit:function(e,t){return t.onError({error:"Cannot commit statements in this transaction, because previous statements in the transaction has failed and the transaction has been rolled back. Please start a new transaction to run another statement."}),{result:g(t,"COMMIT",{}),state:m.FAILED}},rollback:function(e,t){return t.markCompleted(),{result:g(t,"ROLLBACK",{}),state:m.FAILED}},run:function(e,t,r,n){return t.onError({error:"Cannot run statement, because previous statements in the transaction has failed and the transaction has already been rolled back."}),g(t,r,n)}},SUCCEEDED:{commit:function(e,t){return t.onError({error:"Cannot commit statements in this transaction, because commit has already been successfully called on the transaction and transaction has been closed. Please start a new transaction to run another statement."}),{result:g(t,"COMMIT",{}),state:m.SUCCEEDED}},rollback:function(e,t){return t.onError({error:"Cannot rollback transaction, because transaction has already been successfully closed."}),{result:g(t,"ROLLBACK",{}),state:m.SUCCEEDED}},run:function(e,t,r,n){return t.onError({error:"Cannot run statement, because transaction has already been successfully closed."}),g(t,r,n)}},ROLLED_BACK:{commit:function(e,t){return t.onError({error:"Cannot commit this transaction, because it has already been rolled back."}),{result:g(t,"COMMIT",{}),state:m.ROLLED_BACK}},rollback:function(e,t){return t.onError({error:"Cannot rollback transaction, because transaction has already been rolled back."}),{result:g(t,"ROLLBACK",{}),state:m.ROLLED_BACK}},run:function(e,t,r,n){return t.onError({error:"Cannot run statement, because transaction has already been rolled back."}),g(t,r,n)}}};function y(e,t,r){return t.getConnection(r).then(function(t){return e?t.protocol().commitTransaction(r):t.protocol().rollbackTransaction(r)}).catch(function(e){return r.onError(e)}),new h.default(r,e?"COMMIT":"ROLLBACK",{},k,t)}function g(e,t,r){return new h.default(e,t,r,k,d.EMPTY_CONNECTION_HOLDER)}function k(){return{}}var w=_;r.default=w},{"./internal/bookmark":36,"./internal/connection-holder":47,"./internal/stream-observer":75,"./internal/tx-config":78,"./internal/util":80,"./result":83,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/get":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":18}],89:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.default="0.0.0-dev"},{}]},{},[27])(27)}).call(this,r(67))},256:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.toString=t.toNumber=t.inSafeRange=t.isInt=t.int=void 0;var i=n(r(186)),o=n(r(187)),a=r(193),s=function(){function e(t,r){(0,i.default)(this,e),this.low=0|t,this.high=0|r}return(0,o.default)(e,[{key:"inSafeRange",value:function(){return this.greaterThanOrEqual(e.MIN_SAFE_VALUE)&&this.lessThanOrEqual(e.MAX_SAFE_VALUE)}},{key:"toInt",value:function(){return this.low}},{key:"toNumber",value:function(){return this.high*l+(this.low>>>0)}},{key:"toNumberOrInfinity",value:function(){return this.lessThan(e.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(e.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()}},{key:"toString",value:function(t){if((t=t||10)<2||t>36)throw RangeError("radix out of range: "+t);if(this.isZero())return"0";var r;if(this.isNegative()){if(this.equals(e.MIN_VALUE)){var n=e.fromNumber(t),i=this.div(n);return r=i.multiply(n).subtract(this),i.toString(t)+r.toInt().toString(t)}return"-"+this.negate().toString(t)}var o=e.fromNumber(Math.pow(t,6));r=this;for(var a="";;){var s=r.div(o),u=(r.subtract(s.multiply(o)).toInt()>>>0).toString(t);if((r=s).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}}},{key:"getHighBits",value:function(){return this.high}},{key:"getLowBits",value:function(){return this.low}},{key:"getNumBitsAbs",value:function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!==this.high?this.high:this.low,r=31;r>0&&0===(t&1<<r);r--);return 0!==this.high?r+33:r+1}},{key:"isZero",value:function(){return 0===this.high&&0===this.low}},{key:"isNegative",value:function(){return this.high<0}},{key:"isPositive",value:function(){return this.high>=0}},{key:"isOdd",value:function(){return 1===(1&this.low)}},{key:"isEven",value:function(){return 0===(1&this.low)}},{key:"equals",value:function(t){return e.isInteger(t)||(t=e.fromValue(t)),this.high===t.high&&this.low===t.low}},{key:"notEquals",value:function(e){return!this.equals(e)}},{key:"lessThan",value:function(e){return this.compare(e)<0}},{key:"lessThanOrEqual",value:function(e){return this.compare(e)<=0}},{key:"greaterThan",value:function(e){return this.compare(e)>0}},{key:"greaterThanOrEqual",value:function(e){return this.compare(e)>=0}},{key:"compare",value:function(t){if(e.isInteger(t)||(t=e.fromValue(t)),this.equals(t))return 0;var r=this.isNegative(),n=t.isNegative();return r&&!n?-1:!r&&n?1:this.subtract(t).isNegative()?-1:1}},{key:"negate",value:function(){return this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)}},{key:"add",value:function(t){e.isInteger(t)||(t=e.fromValue(t));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,a=t.high>>>16,s=65535&t.high,u=t.low>>>16,l=0,c=0,h=0,f=0;return h+=(f+=o+(65535&t.low))>>>16,f&=65535,c+=(h+=i+u)>>>16,h&=65535,l+=(c+=n+s)>>>16,c&=65535,l+=r+a,l&=65535,e.fromBits(h<<16|f,l<<16|c)}},{key:"subtract",value:function(t){return e.isInteger(t)||(t=e.fromValue(t)),this.add(t.negate())}},{key:"multiply",value:function(t){if(this.isZero())return e.ZERO;if(e.isInteger(t)||(t=e.fromValue(t)),t.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(h)&&t.lessThan(h))return e.fromNumber(this.toNumber()*t.toNumber());var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,a=t.high>>>16,s=65535&t.high,u=t.low>>>16,l=65535&t.low,c=0,f=0,d=0,p=0;return d+=(p+=o*l)>>>16,p&=65535,f+=(d+=i*l)>>>16,d&=65535,f+=(d+=o*u)>>>16,d&=65535,c+=(f+=n*l)>>>16,f&=65535,c+=(f+=i*u)>>>16,f&=65535,c+=(f+=o*s)>>>16,f&=65535,c+=r*l+n*u+i*s+o*a,c&=65535,e.fromBits(d<<16|p,c<<16|f)}},{key:"div",value:function(t){if(e.isInteger(t)||(t=e.fromValue(t)),t.isZero())throw(0,a.newError)("division by zero");if(this.isZero())return e.ZERO;var r,n,i;if(this.equals(e.MIN_VALUE))return t.equals(e.ONE)||t.equals(e.NEG_ONE)?e.MIN_VALUE:t.equals(e.MIN_VALUE)?e.ONE:(r=this.shiftRight(1).div(t).shiftLeft(1)).equals(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(n=this.subtract(t.multiply(r)),i=r.add(n.div(t)));if(t.equals(e.MIN_VALUE))return e.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();for(i=e.ZERO,n=this;n.greaterThanOrEqual(t);){r=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),s=o<=48?1:Math.pow(2,o-48),u=e.fromNumber(r),l=u.multiply(t);l.isNegative()||l.greaterThan(n);)r-=s,l=(u=e.fromNumber(r)).multiply(t);u.isZero()&&(u=e.ONE),i=i.add(u),n=n.subtract(l)}return i}},{key:"modulo",value:function(t){return e.isInteger(t)||(t=e.fromValue(t)),this.subtract(this.div(t).multiply(t))}},{key:"not",value:function(){return e.fromBits(~this.low,~this.high)}},{key:"and",value:function(t){return e.isInteger(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high)}},{key:"or",value:function(t){return e.isInteger(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high)}},{key:"xor",value:function(t){return e.isInteger(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high)}},{key:"shiftLeft",value:function(t){return e.isInteger(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t):e.fromBits(0,this.low<<t-32)}},{key:"shiftRight",value:function(t){return e.isInteger(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t):e.fromBits(this.high>>t-32,this.high>=0?0:-1)}}]),e}();s.__isInteger__=!0,Object.defineProperty(s.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1}),s.isInteger=function(e){return!0===(e&&e.__isInteger__)};var u={};s.fromInt=function(e){var t,r;return(e|=0)>=-128&&e<128&&(r=u[e])?r:(t=new s(e,e<0?-1:0,!1),e>=-128&&e<128&&(u[e]=t),t)},s.fromNumber=function(e){return isNaN(e)||!isFinite(e)?s.ZERO:e<=-c?s.MIN_VALUE:e+1>=c?s.MAX_VALUE:e<0?s.fromNumber(-e).negate():new s(e%l|0,e/l|0)},s.fromBits=function(e,t){return new s(e,t)},s.fromString=function(e,t){if(0===e.length)throw(0,a.newError)("number format error: empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return s.ZERO;if((t=t||10)<2||t>36)throw(0,a.newError)("radix out of range: "+t);var r;if((r=e.indexOf("-"))>0)throw(0,a.newError)('number format error: interior "-" character: '+e);if(0===r)return s.fromString(e.substring(1),t).negate();for(var n=s.fromNumber(Math.pow(t,8)),i=s.ZERO,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+u),t);if(u<8){var c=s.fromNumber(Math.pow(t,u));i=i.multiply(c).add(s.fromNumber(l))}else i=(i=i.multiply(n)).add(s.fromNumber(l))}return i},s.fromValue=function(e){return e instanceof s?e:"number"===typeof e?s.fromNumber(e):"string"===typeof e?s.fromString(e):new s(e.low,e.high)},s.toNumber=function(e){return s.fromValue(e).toNumber()},s.toString=function(e,t){return s.fromValue(e).toString(t)},s.inSafeRange=function(e){return s.fromValue(e).inSafeRange()};var l=4294967296,c=l*l/2,h=s.fromInt(1<<24);s.ZERO=s.fromInt(0),s.ONE=s.fromInt(1),s.NEG_ONE=s.fromInt(-1),s.MAX_VALUE=s.fromBits(-1,2147483647,!1),s.MIN_VALUE=s.fromBits(0,-2147483648,!1),s.MIN_SAFE_VALUE=s.fromBits(1,-2097152),s.MAX_SAFE_VALUE=s.fromBits(-1,2097151);var f=s.fromValue;t.int=f;var d=s.isInteger;t.isInt=d;var p=s.inSafeRange;t.inSafeRange=p;var v=s.toNumber;t.toNumber=v;var _=s.toString;t.toString=_;var b=s;t.default=b},283:function(e,t,r){"use strict";var n=r(232),i=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WRITE=t.READ=t.Driver=void 0;var o=i(r(186)),a=i(r(187)),s=i(r(430)),u=i(r(669)),l=i(r(670)),c=r(193),h=r(619),f=i(r(330)),d=i(r(692)),p=n(r(611)),v=i(r(612)),_=i(r(623)),b=r(331),m=36e5,y=b.ACCESS_MODE_READ;t.READ=y;var g=b.ACCESS_MODE_WRITE;t.WRITE=g;var k=0,w=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,o.default)(this,e),function(e){e.maxConnectionLifetime=E(e.maxConnectionLifetime,m),e.maxConnectionPoolSize=E(e.maxConnectionPoolSize,p.DEFAULT_MAX_SIZE),e.connectionAcquisitionTimeout=E(e.connectionAcquisitionTimeout,p.DEFAULT_ACQUISITION_TIMEOUT)}(i),this._id=k++,this._address=t,this._userAgent=r,this._openConnections={},this._authToken=n,this._config=i,this._log=v.default.create(i),this._pool=new u.default({create:this._createConnection.bind(this),destroy:this._destroyConnection.bind(this),validate:this._validateConnection.bind(this),installIdleObserver:this._installIdleObserverOnConnection.bind(this),removeIdleObserver:this._removeIdleObserverOnConnection.bind(this),config:p.default.fromDriverConfig(i),log:this._log}),this._connectionProvider=null,this._onCompleted=null,this._afterConstruction()}return(0,a.default)(e,[{key:"_afterConstruction",value:function(){this._log.info("Direct driver ".concat(this._id," created for server address ").concat(this._address))}},{key:"_createConnection",value:function(e,t){var r=this,n=l.default.create(e,this._config,this._createConnectionErrorHandler(),this._log);return n._release=function(){return t(e,n)},this._openConnections[n.id]=n,n.connect(this._userAgent,this._authToken).catch(function(e){throw r.onError&&r.onError(e),r._destroyConnection(n),e})}},{key:"_validateConnection",value:function(e){if(!e.isOpen())return!1;var t=this._config.maxConnectionLifetime;return Date.now()-e.creationTimestamp<=t}},{key:"_installIdleObserverOnConnection",value:function(e,t){e._queueObserver(t)}},{key:"_removeIdleObserverOnConnection",value:function(e){e._updateCurrentObserver()}},{key:"_destroyConnection",value:function(e){delete this._openConnections[e.id],e.close()}},{key:"session",value:function(t,r){var n=e._validateSessionMode(t),i=this._getOrCreateConnectionProvider(),o=r?new f.default(r):f.default.empty();return new s.default(n,i,o,this._config)}},{key:"_createConnectionProvider",value:function(e,t,r){return new h.DirectConnectionProvider(e,t,r)}},{key:"_createConnectionErrorHandler",value:function(){return new _.default(c.SERVICE_UNAVAILABLE)}},{key:"_getOrCreateConnectionProvider",value:function(){if(!this._connectionProvider){var e=this._driverOnErrorCallback.bind(this);this._connectionProvider=this._createConnectionProvider(this._address,this._pool,e)}return this._connectionProvider}},{key:"_driverOnErrorCallback",value:function(e){var t=this.onError;t&&e.code===c.SERVICE_UNAVAILABLE&&t(e)}},{key:"close",value:function(){this._log.info("Driver ".concat(this._id," closing"));try{this._pool.purgeAll()}finally{for(var e in this._openConnections)this._openConnections.hasOwnProperty(e)&&this._openConnections[e].close()}}},{key:"onCompleted",get:function(){return this._onCompleted},set:function(e){if(this._onCompleted=e,this._onCompleted){var t=this._getOrCreateConnectionProvider();new d.default(t,this._onCompleted).verify()}}}],[{key:"_validateSessionMode",value:function(e){var t=e||g;if(t!==b.ACCESS_MODE_READ&&t!==b.ACCESS_MODE_WRITE)throw(0,c.newError)("Illegal session mode "+t);return t}}]),e}();function E(e,t){var r=parseInt(e,10);return r>0||0===r?r:r<0?Number.MAX_SAFE_INTEGER:t}t.Driver=w;var O=w;t.default=O},321:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.utf8=t.HostNameResolver=t.Channel=t.alloc=void 0;var i=n(r(432)),o=n(r(671)),a=n(r(672)),s=n(r(674));t.alloc=function(e){return new i.default(e)};var u=o.default;t.Channel=u;var l=a.default;t.HostNameResolver=l;var c=s.default;t.utf8=c},329:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_CONNECTION_HOLDER=t.default=void 0;var i=n(r(202)),o=n(r(199)),a=n(r(203)),s=n(r(186)),u=n(r(187)),l=r(193),c=function(){function e(t,r){(0,s.default)(this,e),this._mode=t,this._connectionProvider=r,this._referenceCount=0,this._connectionPromise=Promise.resolve(null)}return(0,u.default)(e,[{key:"mode",value:function(){return this._mode}},{key:"initializeConnection",value:function(){0===this._referenceCount&&(this._connectionPromise=this._connectionProvider.acquireConnection(this._mode)),this._referenceCount++}},{key:"getConnection",value:function(e){return this._connectionPromise.then(function(t){return e.resolveConnection(t),t})}},{key:"releaseConnection",value:function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount--,0===this._referenceCount?this._releaseConnection():this._connectionPromise)}},{key:"close",value:function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount=0,this._releaseConnection())}},{key:"_releaseConnection",value:function(){return this._connectionPromise=this._connectionPromise.then(function(e){return e?e.resetAndFlush().catch(h).then(function(){return e._release()}):Promise.resolve()}).catch(h),this._connectionPromise}}]),e}();function h(){}t.default=c;var f=new(function(e){function t(){return(0,s.default)(this,t),(0,i.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,a.default)(t,e),(0,u.default)(t,[{key:"initializeConnection",value:function(){}},{key:"getConnection",value:function(e){return Promise.reject((0,l.newError)("This connection holder does not serve connections"))}},{key:"releaseConnection",value:function(){return Promise.resolve()}},{key:"close",value:function(){return Promise.resolve()}}]),t}(c));t.EMPTY_CONNECTION_HOLDER=f},330:function(e,t,r){"use strict";var n=r(232),i=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(r(610)),a=i(r(186)),s=i(r(187)),u=n(r(221)),l="neo4j:bookmark:v1:tx",c=-1,h=function(){function e(t){(0,a.default)(this,e),this._values=function(e){if(!e)return[];if(u.isString(e))return[e];if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(void 0!==n&&null!==n){if(!u.isString(n))throw new TypeError("Bookmark should be a string, given: '".concat(n,"'"));t.push(n)}}return t}throw new TypeError("Bookmark should either be a string or a string array, given: '".concat(e,"'"))}(t),this._maxValue=function(e){if(!e||0===e.length)return null;for(var t=e[0],r=d(t),n=1;n<e.length;n++){var i=e[n],o=d(i);o>r&&(t=i,r=o)}return t}(this._values)}return(0,s.default)(e,[{key:"isEmpty",value:function(){return null===this._maxValue}},{key:"maxBookmarkAsString",value:function(){return this._maxValue}},{key:"values",value:function(){return this._values}},{key:"asBeginTransactionParameters",value:function(){var e;return this.isEmpty()?{}:(e={},(0,o.default)(e,"bookmark",this._maxValue),(0,o.default)(e,"bookmarks",this._values),e)}}],[{key:"empty",value:function(){return f}}]),e}();t.default=h;var f=new h(null);function d(e){return e&&0===e.indexOf(l)&&parseInt(e.substring(l.length))||c}},331:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACCESS_MODE_WRITE=t.ACCESS_MODE_READ=void 0;t.ACCESS_MODE_READ="READ";t.ACCESS_MODE_WRITE="WRITE"},393:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}r.d(t,"a",function(){return i})},394:function(e,t){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(e){return r(e)}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},n(t)}e.exports=n},395:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(608)),s=r(329),u=function(e){console.log("Uncaught error when processing result: "+e)},l=function(e){};var c=function(){function e(t,r,n,o,a){(0,i.default)(this,e),this._stack=function(){var e=new Error("");if(e.stack)return e.stack.replace(/^Error(\n\r)*/,"");return null}(),this._streamObserver=t,this._p=null,this._statement=r,this._parameters=n||{},this._metaSupplier=o||function(){return{}},this._connectionHolder=a||s.EMPTY_CONNECTION_HOLDER}return(0,o.default)(e,[{key:"_createPromise",value:function(){if(!this._p){var e=this;this._p=new Promise(function(t,r){var n=[],i={onNext:function(e){n.push(e)},onCompleted:function(e){t({records:n,summary:e})},onError:function(e){r(e)}};e.subscribe(i)})}}},{key:"then",value:function(e,t){return this._createPromise(),this._p.then(e,t)}},{key:"catch",value:function(e){return this._createPromise(),this._p.catch(e)}},{key:"subscribe",value:function(e){var t=this,r=this,n=e.onCompleted||l;e.onCompleted=function(i){var o=r._metaSupplier();for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s]);var u=new a.default(t._statement,t._parameters,i);r._connectionHolder.releaseConnection().then(function(){n.call(e,u)})};var i=e.onError||u;e.onError=function(n){r._connectionHolder.releaseConnection().then(function(){!function(e,t){t&&(e.stack=e.toString()+"\n"+t)}(n,t._stack),i.call(e,n)})},this._streamObserver.subscribe(e)}}]),e}();t.default=c},396:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(609)),s=function(){function e(){(0,i.default)(this,e),this._fieldKeys=null,this._fieldLookup=null,this._queuedRecords=[],this._tail=null,this._error=null,this._hasFailed=!1,this._observer=null,this._conn=null,this._meta={}}return(0,o.default)(e,[{key:"onNext",value:function(e){var t=new a.default(this._fieldKeys,e,this._fieldLookup);this._observer?this._observer.onNext(t):this._queuedRecords.push(t)}},{key:"onCompleted",value:function(e){if(null===this._fieldKeys){if(this._fieldKeys=[],this._fieldLookup={},e.fields&&e.fields.length>0){this._fieldKeys=e.fields;for(var t=0;t<e.fields.length;t++)this._fieldLookup[e.fields[t]]=t}}else this._observer?this._observer.onCompleted(e):this._tail=e;this._copyMetadataOnCompletion(e)}},{key:"_copyMetadataOnCompletion",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this._meta[t]=e[t])}},{key:"serverMetadata",value:function(){var e={server:this._conn.server};return Object.assign({},this._meta,e)}},{key:"resolveConnection",value:function(e){this._conn=e}},{key:"prepareToHandleSingleResponse",value:function(){this._fieldKeys=[]}},{key:"markCompleted",value:function(){this._fieldKeys=[],this._tail={}}},{key:"onError",value:function(e){this._hasFailed||(this._hasFailed=!0,this._observer?this._observer.onError?this._observer.onError(e):console.log(e):this._error=e)}},{key:"subscribe",value:function(e){if(this._error)e.onError(this._error);else{if(this._queuedRecords.length>0)for(var t=0;t<this._queuedRecords.length;t++)e.onNext(this._queuedRecords[t]);this._tail&&e.onCompleted(this._tail),this._observer=e}}},{key:"hasFailed",value:function(){return this._hasFailed}}]),e}();t.default=s},397:function(e,t,r){"use strict";var n=r(232),i=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(r(186)),a=i(r(187)),s=n(r(221)),u=r(256),l=r(193),c=function(){function e(t){(0,o.default)(this,e),function(e){e&&s.assertObject(e,"Transaction config")}(t),this.timeout=function(e){if(s.isObject(e)&&(e.timeout||0===e.timeout)){s.assertNumberOrInteger(e.timeout,"Transaction timeout");var t=(0,u.int)(e.timeout);if(t.isZero())throw(0,l.newError)("Transaction timeout should not be zero");if(t.isNegative())throw(0,l.newError)("Transaction timeout should not be negative");return t}return null}(t),this.metadata=function(e){if(s.isObject(e)&&e.metadata){var t=e.metadata;if(s.assertObject(t),0!==Object.keys(t).length)return t}return null}(t)}return(0,a.default)(e,[{key:"isEmpty",value:function(){return Object.values(this).every(function(e){return null==e})}}],[{key:"empty",value:function(){return h}}]),e}();t.default=c;var h=new c({})},398:function(e,t,r){"use strict";var n=r(232),i=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.isDuration=function(e){return O(e,f)},t.isLocalTime=function(e){return O(e,d)},t.isTime=function(e){return O(e,p)},t.isDate=function(e){return O(e,v)},t.isLocalDateTime=function(e){return O(e,_)},t.isDateTime=function(e){return O(e,b)},t.DateTime=t.LocalDateTime=t.Date=t.Time=t.LocalTime=t.Duration=void 0;var o=i(r(681)),a=i(r(186)),s=i(r(187)),u=n(r(618)),l=r(221),c=r(193),h={value:!0,enumerable:!1,configurable:!1},f="__isDuration__",d="__isLocalTime__",p="__isTime__",v="__isDate__",_="__isLocalDateTime__",b="__isDateTime__",m=function(){function e(t,r,n,i){(0,a.default)(this,e),this.months=(0,l.assertNumberOrInteger)(t,"Months"),this.days=(0,l.assertNumberOrInteger)(r,"Days"),(0,l.assertNumberOrInteger)(n,"Seconds"),(0,l.assertNumberOrInteger)(i,"Nanoseconds"),this.seconds=u.normalizeSecondsForDuration(n,i),this.nanoseconds=u.normalizeNanosecondsForDuration(i),Object.freeze(this)}return(0,s.default)(e,[{key:"toString",value:function(){return u.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)}}]),e}();t.Duration=m,Object.defineProperty(m.prototype,f,h);var y=function(){function e(t,r,n,i){(0,a.default)(this,e),this.hour=u.assertValidHour(t),this.minute=u.assertValidMinute(r),this.second=u.assertValidSecond(n),this.nanosecond=u.assertValidNanosecond(i),Object.freeze(this)}return(0,s.default)(e,[{key:"toString",value:function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)}}],[{key:"fromStandardDate",value:function(t,r){return I(t,r),new e(t.getHours(),t.getMinutes(),t.getSeconds(),u.totalNanoseconds(t,r))}}]),e}();t.LocalTime=y,Object.defineProperty(y.prototype,d,h);var g=function(){function e(t,r,n,i,o){(0,a.default)(this,e),this.hour=u.assertValidHour(t),this.minute=u.assertValidMinute(r),this.second=u.assertValidSecond(n),this.nanosecond=u.assertValidNanosecond(i),this.timeZoneOffsetSeconds=(0,l.assertNumberOrInteger)(o,"Time zone offset in seconds"),Object.freeze(this)}return(0,s.default)(e,[{key:"toString",value:function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+u.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)}}],[{key:"fromStandardDate",value:function(t,r){return I(t,r),new e(t.getHours(),t.getMinutes(),t.getSeconds(),u.totalNanoseconds(t,r),u.timeZoneOffsetInSeconds(t))}}]),e}();t.Time=g,Object.defineProperty(g.prototype,p,h);var k=function(){function e(t,r,n){(0,a.default)(this,e),this.year=u.assertValidYear(t),this.month=u.assertValidMonth(r),this.day=u.assertValidDay(n),Object.freeze(this)}return(0,s.default)(e,[{key:"toString",value:function(){return u.dateToIsoString(this.year,this.month,this.day)}}],[{key:"fromStandardDate",value:function(t){return I(t,null),new e(t.getFullYear(),t.getMonth()+1,t.getDate())}}]),e}();t.Date=k,Object.defineProperty(k.prototype,v,h);var w=function(){function e(t,r,n,i,o,s,l){(0,a.default)(this,e),this.year=u.assertValidYear(t),this.month=u.assertValidMonth(r),this.day=u.assertValidDay(n),this.hour=u.assertValidHour(i),this.minute=u.assertValidMinute(o),this.second=u.assertValidSecond(s),this.nanosecond=u.assertValidNanosecond(l),Object.freeze(this)}return(0,s.default)(e,[{key:"toString",value:function(){return C(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)}}],[{key:"fromStandardDate",value:function(t,r){return I(t,r),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),u.totalNanoseconds(t,r))}}]),e}();t.LocalDateTime=w,Object.defineProperty(w.prototype,_,h);var E=function(){function e(t,r,n,i,s,h,f,d,p){(0,a.default)(this,e),this.year=u.assertValidYear(t),this.month=u.assertValidMonth(r),this.day=u.assertValidDay(n),this.hour=u.assertValidHour(i),this.minute=u.assertValidMinute(s),this.second=u.assertValidSecond(h),this.nanosecond=u.assertValidNanosecond(f);var v=function(e,t){var r=e||0===e,n=t&&""!==t;if(r&&!n)return(0,l.assertNumberOrInteger)(e,"Time zone offset in seconds"),[e,null];if(!r&&n)return(0,l.assertString)(t,"Time zone ID"),[null,t];throw r&&n?(0,c.newError)("Unable to create DateTime with both time zone offset and id. Please specify either of them. Given offset: ".concat(e," and id: ").concat(t)):(0,c.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(e," and id: ").concat(t))}(d,p),_=(0,o.default)(v,2),b=_[0],m=_[1];this.timeZoneOffsetSeconds=b,this.timeZoneId=m,Object.freeze(this)}return(0,s.default)(e,[{key:"toString",value:function(){return C(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(this.timeZoneId?"[".concat(this.timeZoneId,"]"):u.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds))}}],[{key:"fromStandardDate",value:function(t,r){return I(t,r),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),u.totalNanoseconds(t,r),u.timeZoneOffsetInSeconds(t),null)}}]),e}();function O(e,t){return!0===(e&&e[t])}function C(e,t,r,n,i,o,a){return u.dateToIsoString(e,t,r)+"T"+u.timeToIsoString(n,i,o,a)}function I(e,t){(0,l.assertValidDate)(e,"Standard date"),null!==t&&void 0!==t&&(0,l.assertNumberOrInteger)(t,"Nanosecond")}t.DateTime=E,Object.defineProperty(E.prototype,b,h)},399:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=r(221),s=n(r(622)),u=function(){function e(t,r,n,o){(0,i.default)(this,e),this._host=(0,a.assertString)(t,"host"),this._resolved=r?(0,a.assertString)(r,"resolved"):null,this._port=(0,a.assertNumber)(n,"port"),this._hostPort=o,this._stringValue=r?"".concat(o,"(").concat(r,")"):"".concat(o)}return(0,o.default)(e,[{key:"host",value:function(){return this._host}},{key:"resolvedHost",value:function(){return this._resolved?this._resolved:this._host}},{key:"port",value:function(){return this._port}},{key:"resolveWith",value:function(t){return new e(this._host,t,this._port,this._hostPort)}},{key:"asHostPort",value:function(){return this._hostPort}},{key:"asKey",value:function(){return this._hostPort}},{key:"toString",value:function(){return this._stringValue}}],[{key:"fromUrl",value:function(t){var r=s.default.parseDatabaseUrl(t);return new e(r.host,null,r.port,r.hostAndPort)}}]),e}();t.default=u},428:function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},429:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.PathSegment=t.Path=t.UnboundRelationship=t.Relationship=t.Node=void 0;var i=n(r(186)),o=n(r(187)),a=function(){function e(t,r,n){(0,i.default)(this,e),this.identity=t,this.labels=r,this.properties=n}return(0,o.default)(e,[{key:"toString",value:function(){for(var e="("+this.identity,t=0;t<this.labels.length;t++)e+=":"+this.labels[t];var r=Object.keys(this.properties);if(r.length>0){e+=" {";for(var n=0;n<r.length;n++)n>0&&(e+=","),e+=r[n]+":"+JSON.stringify(this.properties[r[n]]);e+="}"}return e+=")"}}]),e}();t.Node=a;var s=function(){function e(t,r,n,o,a){(0,i.default)(this,e),this.identity=t,this.start=r,this.end=n,this.type=o,this.properties=a}return(0,o.default)(e,[{key:"toString",value:function(){var e="("+this.start+")-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var r=0;r<t.length;r++)r>0&&(e+=","),e+=t[r]+":"+JSON.stringify(this.properties[t[r]]);e+="}"}return e+="]->("+this.end+")"}}]),e}();t.Relationship=s;var u=function(){function e(t,r,n){(0,i.default)(this,e),this.identity=t,this.type=r,this.properties=n}return(0,o.default)(e,[{key:"bind",value:function(e,t){return new s(this.identity,e,t,this.type,this.properties)}},{key:"toString",value:function(){var e="-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var r=0;r<t.length;r++)r>0&&(e+=","),e+=t[r]+":"+JSON.stringify(this.properties[t[r]]);e+="}"}return e+="]->"}}]),e}();t.UnboundRelationship=u;t.PathSegment=function e(t,r,n){(0,i.default)(this,e),this.start=t,this.relationship=r,this.end=n};t.Path=function e(t,r,n){(0,i.default)(this,e),this.start=t,this.end=r,this.segments=n,this.length=n.length}},430:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(202)),o=n(r(199)),a=n(r(431)),s=n(r(203)),u=n(r(186)),l=n(r(187)),c=n(r(396)),h=n(r(395)),f=n(r(667)),d=r(193),p=r(221),v=n(r(329)),_=n(r(283)),b=r(331),m=n(r(668)),y=n(r(330)),g=n(r(397)),k=function(){function e(t,r,n,i){(0,u.default)(this,e),this._mode=t,this._readConnectionHolder=new v.default(b.ACCESS_MODE_READ,r),this._writeConnectionHolder=new v.default(b.ACCESS_MODE_WRITE,r),this._open=!0,this._hasTx=!1,this._lastBookmark=n,this._transactionExecutor=function(e){var t=e&&e.maxTransactionRetryTime?e.maxTransactionRetryTime:null;return new m.default(t)}(i)}return(0,l.default)(e,[{key:"run",value:function(e,t,r){var n=this,i=(0,p.validateStatementAndParameters)(e,t),o=i.query,a=i.params,s=r?new g.default(r):g.default.empty();return this._run(o,a,function(e,t){return e.protocol().run(o,a,n._lastBookmark,s,n._mode,t)})}},{key:"_run",value:function(e,t,r){var n=new w(this),i=this._connectionHolderWithMode(this._mode);return this._hasTx?n.onError((0,d.newError)("Statements cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):(i.initializeConnection(),i.getConnection(n).then(function(e){return r(e,n)}).catch(function(e){return n.onError(e)})),new h.default(n,e,t,function(){return n.serverMetadata()},i)}},{key:"beginTransaction",value:function(e){var t=e,r=g.default.empty();return"string"===typeof t||t instanceof String||Array.isArray(t)?this._updateBookmark(new y.default(t)):t&&(r=new g.default(t)),this._beginTransaction(this._mode,r)}},{key:"_beginTransaction",value:function(e,t){if(this._hasTx)throw(0,d.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var r=_.default._validateSessionMode(e),n=this._connectionHolderWithMode(r);n.initializeConnection(),this._hasTx=!0;var i=new f.default(n,this._transactionClosed.bind(this),this._updateBookmark.bind(this));return i._begin(this._lastBookmark,t),i}},{key:"_transactionClosed",value:function(){this._hasTx=!1}},{key:"lastBookmark",value:function(){return this._lastBookmark.maxBookmarkAsString()}},{key:"readTransaction",value:function(e,t){var r=new g.default(t);return this._runTransaction(b.ACCESS_MODE_READ,r,e)}},{key:"writeTransaction",value:function(e,t){var r=new g.default(t);return this._runTransaction(b.ACCESS_MODE_WRITE,r,e)}},{key:"_runTransaction",value:function(e,t,r){var n=this;return this._transactionExecutor.execute(function(){return n._beginTransaction(e,t)},r)}},{key:"_updateBookmark",value:function(e){e&&!e.isEmpty()&&(this._lastBookmark=e)}},{key:"close",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null};this._open?(this._open=!1,this._transactionExecutor.close(),this._readConnectionHolder.close().then(function(){e._writeConnectionHolder.close().then(function(){t()})})):t()}},{key:"_connectionHolderWithMode",value:function(e){if(e===b.ACCESS_MODE_READ)return this._readConnectionHolder;if(e===b.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,d.newError)("Unknown access mode: "+e)}}]),e}(),w=function(e){function t(e){var r;return(0,u.default)(this,t),(r=(0,i.default)(this,(0,o.default)(t).call(this)))._session=e,r}return(0,s.default)(t,e),(0,l.default)(t,[{key:"onCompleted",value:function(e){(0,a.default)((0,o.default)(t.prototype),"onCompleted",this).call(this,e);var r=new y.default(e.bookmark);this._session._updateBookmark(r)}}]),t}(c.default);var E=k;t.default=E},431:function(e,t,r){var n=r(666);function i(t,r,o){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,r){var i=n(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(r):o.value}},i(t,r,o||t)}e.exports=i},432:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(202)),s=n(r(199)),u=n(r(203)),l=function(e){function t(e){var r;(0,i.default)(this,t);var n=e instanceof ArrayBuffer?e:new ArrayBuffer(e);return(r=(0,a.default)(this,(0,s.default)(t).call(this,n.byteLength)))._buffer=n,r._view=new DataView(r._buffer),r}return(0,u.default)(t,e),(0,o.default)(t,[{key:"putUInt8",value:function(e,t){this._view.setUint8(e,t)}},{key:"getUInt8",value:function(e){return this._view.getUint8(e)}},{key:"putInt8",value:function(e,t){this._view.setInt8(e,t)}},{key:"getInt8",value:function(e){return this._view.getInt8(e)}},{key:"getFloat64",value:function(e){return this._view.getFloat64(e)}},{key:"putFloat64",value:function(e,t){this._view.setFloat64(e,t)}},{key:"getSlice",value:function(e,r){if(this._buffer.slice)return new t(this._buffer.slice(e,e+r));for(var n=new t(r),i=0;i<r;i++)n.putUInt8(i,this.getUInt8(i+e));return n}},{key:"readView",value:function(e){return new DataView(this._buffer,this._updatePos(e),e)}}]),t}(n(r(433)).default);t.default=l},433:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(202)),o=n(r(199)),a=n(r(203)),s=n(r(186)),u=n(r(187)),l=function(){function e(t){(0,s.default)(this,e),this.position=0,this.length=t}return(0,u.default)(e,[{key:"getUInt8",value:function(e){throw new Error("Not implemented")}},{key:"getInt8",value:function(e){throw new Error("Not implemented")}},{key:"getFloat64",value:function(e){throw new Error("Not implemented")}},{key:"putUInt8",value:function(e,t){throw new Error("Not implemented")}},{key:"putInt8",value:function(e,t){throw new Error("Not implemented")}},{key:"putFloat64",value:function(e,t){throw new Error("Not implemented")}},{key:"getInt16",value:function(e){return this.getInt8(e)<<8|this.getUInt8(e+1)}},{key:"getUInt16",value:function(e){return this.getUInt8(e)<<8|this.getUInt8(e+1)}},{key:"getInt32",value:function(e){return this.getInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)}},{key:"getUInt32",value:function(e){return this.getUInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)}},{key:"getInt64",value:function(e){return this.getInt8(e)<<56|this.getUInt8(e+1)<<48|this.getUInt8(e+2)<<40|this.getUInt8(e+3)<<32|this.getUInt8(e+4)<<24|this.getUInt8(e+5)<<16|this.getUInt8(e+6)<<8|this.getUInt8(e+7)}},{key:"getSlice",value:function(e,t){return new c(e,t,this)}},{key:"putInt16",value:function(e,t){this.putInt8(e,t>>8),this.putUInt8(e+1,255&t)}},{key:"putUInt16",value:function(e,t){this.putUInt8(e,t>>8&255),this.putUInt8(e+1,255&t)}},{key:"putInt32",value:function(e,t){this.putInt8(e,t>>24),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)}},{key:"putUInt32",value:function(e,t){this.putUInt8(e,t>>24&255),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)}},{key:"putInt64",value:function(e,t){this.putInt8(e,t>>48),this.putUInt8(e+1,t>>42&255),this.putUInt8(e+2,t>>36&255),this.putUInt8(e+3,t>>30&255),this.putUInt8(e+4,t>>24&255),this.putUInt8(e+5,t>>16&255),this.putUInt8(e+6,t>>8&255),this.putUInt8(e+7,255&t)}},{key:"putBytes",value:function(e,t){for(var r=0,n=t.remaining();r<n;r++)this.putUInt8(e+r,t.readUInt8())}},{key:"readUInt8",value:function(){return this.getUInt8(this._updatePos(1))}},{key:"readInt8",value:function(){return this.getInt8(this._updatePos(1))}},{key:"readUInt16",value:function(){return this.getUInt16(this._updatePos(2))}},{key:"readUInt32",value:function(){return this.getUInt32(this._updatePos(4))}},{key:"readInt16",value:function(){return this.getInt16(this._updatePos(2))}},{key:"readInt32",value:function(){return this.getInt32(this._updatePos(4))}},{key:"readInt64",value:function(){return this.getInt32(this._updatePos(8))}},{key:"readFloat64",value:function(){return this.getFloat64(this._updatePos(8))}},{key:"writeUInt8",value:function(e){this.putUInt8(this._updatePos(1),e)}},{key:"writeInt8",value:function(e){this.putInt8(this._updatePos(1),e)}},{key:"writeInt16",value:function(e){this.putInt16(this._updatePos(2),e)}},{key:"writeInt32",value:function(e){this.putInt32(this._updatePos(4),e)}},{key:"writeUInt32",value:function(e){this.putUInt32(this._updatePos(4),e)}},{key:"writeInt64",value:function(e){this.putInt64(this._updatePos(8),e)}},{key:"writeFloat64",value:function(e){this.putFloat64(this._updatePos(8),e)}},{key:"writeBytes",value:function(e){this.putBytes(this._updatePos(e.remaining()),e)}},{key:"readSlice",value:function(e){return this.getSlice(this._updatePos(e),e)}},{key:"_updatePos",value:function(e){var t=this.position;return this.position+=e,t}},{key:"remaining",value:function(){return this.length-this.position}},{key:"hasRemaining",value:function(){return this.remaining()>0}},{key:"reset",value:function(){this.position=0}},{key:"toString",value:function(){return this.constructor.name+"( position="+this.position+" )\n  "+this.toHex()}},{key:"toHex",value:function(){for(var e="",t=0;t<this.length;t++){var r=this.getUInt8(t).toString(16);1===r.length&&(r="0"+r),e+=r,t!==this.length-1&&(e+=" ")}return e}}]),e}();t.default=l;var c=function(e){function t(e,r,n){var a;return(0,s.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this,r)))._start=e,a._inner=n,a}return(0,a.default)(t,e),(0,u.default)(t,[{key:"putUInt8",value:function(e,t){this._inner.putUInt8(this._start+e,t)}},{key:"getUInt8",value:function(e){return this._inner.getUInt8(this._start+e)}},{key:"putInt8",value:function(e,t){this._inner.putInt8(this._start+e,t)}},{key:"putFloat64",value:function(e,t){this._inner.putFloat64(this._start+e,t)}},{key:"getInt8",value:function(e){return this._inner.getInt8(this._start+e)}},{key:"getFloat64",value:function(e){return this._inner.getFloat64(this._start+e)}}]),t}(l)},434:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.isPoint=function(e){return!0===(e&&e[s])},t.Point=void 0;var i=n(r(186)),o=n(r(187)),a=r(221),s="__isPoint__",u=function(){function e(t,r,n,o){(0,i.default)(this,e),this.srid=(0,a.assertNumberOrInteger)(t,"SRID"),this.x=(0,a.assertNumber)(r,"X coordinate"),this.y=(0,a.assertNumber)(n,"Y coordinate"),this.z=null===o||void 0===o?o:(0,a.assertNumber)(o,"Z coordinate"),Object.freeze(this)}return(0,o.default)(e,[{key:"toString",value:function(){return this.z||0===this.z?"Point{srid=".concat(l(this.srid),", x=").concat(l(this.x),", y=").concat(l(this.y),", z=").concat(l(this.z),"}"):"Point{srid=".concat(l(this.srid),", x=").concat(l(this.x),", y=").concat(l(this.y),"}")}}]),e}();function l(e){return Number.isInteger(e)?e+".0":e.toString()}t.Point=u,Object.defineProperty(u.prototype,s,{value:!0,enumerable:!1,configurable:!1})},606:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},607:function(e,t,r){var n=r(428);function i(t,r,o){return!function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=i=function(e,t,r){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return r&&n(o,r.prototype),o}:e.exports=i=Reflect.construct,i.apply(null,arguments)}e.exports=i},608:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.statementType=void 0;var i=n(r(186)),o=n(r(187)),a=r(256),s=function(){function e(t,r,n){(0,i.default)(this,e),this.statement={text:t,parameters:r},this.statementType=n.type,this.counters=new c(n.stats||{}),this.updateStatistics=this.counters,this.plan=!(!n.plan&&!n.profile)&&new u(n.plan||n.profile),this.profile=!!n.profile&&new l(n.profile),this.notifications=this._buildNotifications(n.notifications),this.server=new f(n.server),this.resultConsumedAfter=n.result_consumed_after,this.resultAvailableAfter=n.result_available_after}return(0,o.default)(e,[{key:"_buildNotifications",value:function(e){return e?e.map(function(e){return new h(e)}):[]}},{key:"hasPlan",value:function(){return this.plan instanceof u}},{key:"hasProfile",value:function(){return this.profile instanceof l}}]),e}(),u=function e(t){(0,i.default)(this,e),this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.children=t.children?t.children.map(function(t){return new e(t)}):[]},l=function e(t){(0,i.default)(this,e),this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.dbHits=t.args.DbHits.toInt(),this.rows=t.args.Rows.toInt(),this.children=t.children?t.children.map(function(t){return new e(t)}):[]},c=function(){function e(t){var r=this;(0,i.default)(this,e),this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},Object.keys(t).forEach(function(e){r._stats[e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})]=(0,a.isInt)(t[e])?t[e].toInt():t[e]})}return(0,o.default)(e,[{key:"containsUpdates",value:function(){var e=this;return Object.keys(this._stats).reduce(function(t,r){return t+e._stats[r]},0)>0}},{key:"nodesCreated",value:function(){return this._stats.nodesCreated}},{key:"nodesDeleted",value:function(){return this._stats.nodesDeleted}},{key:"relationshipsCreated",value:function(){return this._stats.relationshipsCreated}},{key:"relationshipsDeleted",value:function(){return this._stats.relationshipsDeleted}},{key:"propertiesSet",value:function(){return this._stats.propertiesSet}},{key:"labelsAdded",value:function(){return this._stats.labelsAdded}},{key:"labelsRemoved",value:function(){return this._stats.labelsRemoved}},{key:"indexesAdded",value:function(){return this._stats.indexesAdded}},{key:"indexesRemoved",value:function(){return this._stats.indexesRemoved}},{key:"constraintsAdded",value:function(){return this._stats.constraintsAdded}},{key:"constraintsRemoved",value:function(){return this._stats.constraintsRemoved}}]),e}(),h=function(){function e(t){(0,i.default)(this,e),this.code=t.code,this.title=t.title,this.description=t.description,this.severity=t.severity,this.position=e._constructPosition(t.position)}return(0,o.default)(e,null,[{key:"_constructPosition",value:function(e){return e?{offset:e.offset.toInt(),line:e.line.toInt(),column:e.column.toInt()}:{}}}]),e}(),f=function e(t){(0,i.default)(this,e),t&&(this.address=t.address,this.version=t.version)};t.statementType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"};var d=s;t.default=d},609:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=r(193);var s=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,i.default)(this,e),this.keys=t,this.length=t.length,this._fields=r,this._fieldLookup=n||function(e){var t={};return e.forEach(function(e,r){t[e]=r}),t}(t)}return(0,o.default)(e,[{key:"forEach",value:function(e){for(var t=0;t<this.keys.length;t++)e(this._fields[t],this.keys[t],this)}},{key:"toObject",value:function(){var e={};return this.forEach(function(t,r){e[r]=t}),e}},{key:"get",value:function(e){var t;if("number"!==typeof e){if(void 0===(t=this._fieldLookup[e]))throw(0,a.newError)("This record has no field with key '"+e+"', available key are: ["+this.keys+"].")}else t=e;if(t>this._fields.length-1||t<0)throw(0,a.newError)("This record has no field with index '"+t+"'. Remember that indexes start at `0`, and make sure your statement returns records in the shape you meant it to.");return this._fields[t]}},{key:"has",value:function(e){return"number"===typeof e?e>=0&&e<this._fields.length:void 0!==this._fieldLookup[e]}}]),e}();t.default=s},610:function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},611:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ACQUISITION_TIMEOUT=t.DEFAULT_MAX_SIZE=t.default=void 0;var i=n(r(186)),o=n(r(187)),a=100;t.DEFAULT_MAX_SIZE=a;var s=6e4;t.DEFAULT_ACQUISITION_TIMEOUT=s;var u=function(){function e(t,r){(0,i.default)(this,e),this.maxSize=l(t,a),this.acquisitionTimeout=l(r,s)}return(0,o.default)(e,null,[{key:"defaultConfig",value:function(){return new e(a,s)}},{key:"fromDriverConfig",value:function(t){var r,n=c(t.connectionPoolSize);return c(t.maxConnectionPoolSize)?r=t.maxConnectionPoolSize:n?(console.warn('WARNING: neo4j-driver setting "connectionPoolSize" is deprecated, please use "maxConnectionPoolSize" instead'),r=t.connectionPoolSize):r=a,new e(r,c(t.connectionAcquisitionTimeout)?t.connectionAcquisitionTimeout:s)}}]),e}();function l(e,t){return 0===e||e?e:t}function c(e){return 0===e||e}t.default=u},612:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(r(202)),a=n(r(199)),s=n(r(203)),u=n(r(186)),l=n(r(187)),c=n(r(610)),h=r(193),f="info",d=(i={},(0,c.default)(i,"error",0),(0,c.default)(i,"warn",1),(0,c.default)(i,"info",2),(0,c.default)(i,"debug",3),i),p=function(){function e(t,r){(0,u.default)(this,e),this._level=t,this._loggerFunction=r}return(0,l.default)(e,[{key:"isErrorEnabled",value:function(){return _(this._level,"error")}},{key:"error",value:function(e){this.isErrorEnabled()&&this._loggerFunction("error",e)}},{key:"isWarnEnabled",value:function(){return _(this._level,"warn")}},{key:"warn",value:function(e){this.isWarnEnabled()&&this._loggerFunction("warn",e)}},{key:"isInfoEnabled",value:function(){return _(this._level,"info")}},{key:"info",value:function(e){this.isInfoEnabled()&&this._loggerFunction("info",e)}},{key:"isDebugEnabled",value:function(){return _(this._level,"debug")}},{key:"debug",value:function(e){this.isDebugEnabled()&&this._loggerFunction("debug",e)}}],[{key:"create",value:function(t){if(t&&t.logging){var r=t.logging;return new e(function(e){if(e&&e.level){var t=e.level,r=d[t];if(!r&&0!==r)throw(0,h.newError)("Illegal logging level: ".concat(t,". Supported levels are: ").concat(Object.keys(d)));return t}return f}(r),function(e){if(e&&e.logger){var t=e.logger;if(t&&"function"===typeof t)return t}throw(0,h.newError)("Illegal logger function: ".concat(e.logger))}(r))}return this.noOp()}},{key:"noOp",value:function(){return v}}]),e}(),v=new(function(e){function t(){return(0,u.default)(this,t),(0,o.default)(this,(0,a.default)(t).call(this,null,null))}return(0,s.default)(t,e),(0,l.default)(t,[{key:"isErrorEnabled",value:function(){return!1}},{key:"error",value:function(e){}},{key:"isWarnEnabled",value:function(){return!1}},{key:"warn",value:function(e){}},{key:"isInfoEnabled",value:function(){return!1}},{key:"info",value:function(e){}},{key:"isDebugEnabled",value:function(){return!1}},{key:"debug",value:function(e){}}]),t}(p));function _(e,t){return d[e]>=d[t]}var b=p;t.default=b},613:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION_IN_DEV=t.VERSION_4_0_0=t.VERSION_3_5_0=t.VERSION_3_4_0=t.VERSION_3_2_0=t.VERSION_3_1_0=t.ServerVersion=void 0;var i=n(r(186)),o=n(r(187)),a=r(221),s=new RegExp("^(Neo4j/)?(\\d+)\\.(\\d+)(?:\\.)?(\\d*)(\\.|-|\\+)?([0-9A-Za-z-.]*)?$"),u=function(){function e(t,r,n){(0,i.default)(this,e),this.major=t,this.minor=r,this.patch=n}return(0,o.default)(e,[{key:"compareTo",value:function(e){var t=c(this.major,e.major);return 0===t&&0===(t=c(this.minor,e.minor))&&(t=c(this.patch,e.patch)),t}}],[{key:"fromDriver",value:function(t){var r=t.session();return r.run("RETURN 1").then(function(t){return r.close(),e.fromString(t.summary.server.version)})}},{key:"fromString",value:function(t){if(!t)return new e(3,0,0);if((0,a.assertString)(t,"Neo4j version string"),t.toLowerCase()==="Neo4j/dev".toLowerCase())return b;var r=t.match(s);if(!r)throw new Error("Unparsable Neo4j version: ".concat(t));return new e(l(r[2]),l(r[3]),l(r[4]||0))}}]),e}();function l(e,t){var r=parseInt(e,10);if(!r&&0!==r)throw new Error("Unparsable number ".concat(t,": '").concat(e,"'"));return r}function c(e,t){return e<t?-1:e===t?0:1}t.ServerVersion=u;var h=new u(3,1,0);t.VERSION_3_1_0=h;var f=new u(3,2,0);t.VERSION_3_2_0=f;var d=new u(3,4,0);t.VERSION_3_4_0=d;var p=new u(3,5,0);t.VERSION_3_5_0=p;var v=new u(4,0,0);t.VERSION_4_0_0=v;var _=Number.MAX_SAFE_INTEGER,b=new u(_,_,_);t.VERSION_IN_DEV=b},614:function(e,t,r){"use strict";var n=r(232),i=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(r(186)),a=i(r(187)),s=i(r(615)),u=n(r(616)),l=r(193),c=i(r(330)),h=i(r(397)),f=r(331),d=function(){function e(t,r,n){(0,o.default)(this,e),this._connection=t,this._packer=this._createPacker(r),this._unpacker=this._createUnpacker(n)}return(0,a.default)(e,[{key:"packer",value:function(){return this._packer}},{key:"unpacker",value:function(){return this._unpacker}},{key:"transformMetadata",value:function(e){return e}},{key:"initialize",value:function(e,t,r){var n=s.default.init(e,t);this._connection.write(n,r,!0)}},{key:"prepareToClose",value:function(e){}},{key:"beginTransaction",value:function(e,t,r,n){p(t,this._connection,n);var i=s.default.run("BEGIN",e.asBeginTransactionParameters()),o=s.default.pullAll();this._connection.write(i,n,!1),this._connection.write(o,n,!1)}},{key:"commitTransaction",value:function(e){this.run("COMMIT",{},c.default.empty(),h.default.empty(),f.ACCESS_MODE_WRITE,e)}},{key:"rollbackTransaction",value:function(e){this.run("ROLLBACK",{},c.default.empty(),h.default.empty(),f.ACCESS_MODE_WRITE,e)}},{key:"run",value:function(e,t,r,n,i,o){p(n,this._connection,o);var a=s.default.run(e,t),u=s.default.pullAll();this._connection.write(a,o,!1),this._connection.write(u,o,!0)}},{key:"reset",value:function(e){var t=s.default.reset();this._connection.write(t,e,!0)}},{key:"_createPacker",value:function(e){return new u.Packer(e)}},{key:"_createUnpacker",value:function(e){return new u.Unpacker(e)}}]),e}();function p(e,t,r){if(!e.isEmpty()){var n=(0,l.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw t._handleFatalError(n),r.onError(n),n}}t.default=d},615:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=r(331),s="r",u=function(){function e(t,r,n){(0,i.default)(this,e),this.signature=t,this.fields=r,this.toString=n}return(0,o.default)(e,null,[{key:"init",value:function(t,r){return new e(1,[t,r],function(){return"INIT ".concat(t," {...}")})}},{key:"run",value:function(t,r){return new e(16,[t,r],function(){return"RUN ".concat(t," ").concat(JSON.stringify(r))})}},{key:"pullAll",value:function(){return c}},{key:"reset",value:function(){return h}},{key:"hello",value:function(t,r){return new e(1,[Object.assign({user_agent:t},r)],function(){return"HELLO {user_agent: '".concat(t,"', ...}")})}},{key:"begin",value:function(t,r,n){var i=l(t,r,n);return new e(17,[i],function(){return"BEGIN ".concat(JSON.stringify(i))})}},{key:"commit",value:function(){return f}},{key:"rollback",value:function(){return d}},{key:"runWithMetadata",value:function(t,r,n,i,o){var a=l(n,i,o);return new e(16,[t,r,a],function(){return"RUN ".concat(t," ").concat(JSON.stringify(r)," ").concat(JSON.stringify(a))})}},{key:"goodbye",value:function(){return p}}]),e}();function l(e,t,r){var n={};return e.isEmpty()||(n.bookmarks=e.values()),t.timeout&&(n.tx_timeout=t.timeout),t.metadata&&(n.tx_metadata=t.metadata),r===a.ACCESS_MODE_READ&&(n.mode=s),n}t.default=u;var c=new u(63,[],function(){return"PULL_ALL"}),h=new u(15,[],function(){return"RESET"}),f=new u(18,[],function(){return"COMMIT"}),d=new u(19,[],function(){return"ROLLBACK"}),p=new u(2,[],function(){return"GOODBYE"})},616:function(e,t,r){"use strict";var n=r(232),i=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.Structure=t.Unpacker=t.Packer=void 0;var o=i(r(394)),a=i(r(186)),s=i(r(187)),u=r(321),l=n(r(256)),c=r(193),h=r(429),f=function(){function e(t,r){(0,a.default)(this,e),this.signature=t,this.fields=r}return(0,s.default)(e,[{key:"toString",value:function(){for(var e="",t=0;t<this.fields.length;t++)t>0&&(e+=", "),e+=this.fields[t];return"Structure("+this.signature+", ["+e+"])"}}]),e}();t.Structure=f;var d=function(){function e(t){(0,a.default)(this,e),this._ch=t,this._byteArraysSupported=!0}return(0,s.default)(e,[{key:"packable",value:function(e,t){var r=this;if(null===e)return function(){return r._ch.writeUInt8(192)};if(!0===e)return function(){return r._ch.writeUInt8(195)};if(!1===e)return function(){return r._ch.writeUInt8(194)};if("number"===typeof e)return function(){return r.packFloat(e)};if("string"===typeof e)return function(){return r.packString(e,t)};if((0,l.isInt)(e))return function(){return r.packInteger(e)};if(e instanceof Int8Array)return function(){return r.packBytes(e,t)};if(e instanceof Array)return function(){r.packListHeader(e.length,t);for(var n=0;n<e.length;n++)r.packable(void 0===e[n]?null:e[n],t)()};if(function(e){if(null==e)return!1;return"function"===typeof e[Symbol.iterator]}(e))return this.packableIterable(e,t);if(e instanceof h.Node)return this._nonPackableValue("It is not allowed to pass nodes in query parameters, given: ".concat(e),t);if(e instanceof h.Relationship)return this._nonPackableValue("It is not allowed to pass relationships in query parameters, given: ".concat(e),t);if(e instanceof h.Path)return this._nonPackableValue("It is not allowed to pass paths in query parameters, given: ".concat(e),t);if(e instanceof f){for(var n=[],i=0;i<e.fields.length;i++)n[i]=this.packable(e.fields[i],t);return function(){return r.packStruct(e.signature,n)}}return"object"===(0,o.default)(e)?function(){for(var n=Object.keys(e),i=0,o=0;o<n.length;o++)void 0!==e[n[o]]&&i++;r.packMapHeader(i,t);for(var a=0;a<n.length;a++){var s=n[a];void 0!==e[s]&&(r.packString(s),r.packable(e[s],t)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(e),t)}},{key:"packableIterable",value:function(e,t){try{var r=Array.from(e);return this.packable(r,t)}catch(n){t((0,c.newError)("Cannot pack given iterable, ".concat(n.message,": ").concat(e)))}}},{key:"packStruct",value:function(e,t,r){t=t||[],this.packStructHeader(t.length,e,r);for(var n=0;n<t.length;n++)t[n]()}},{key:"packInteger",value:function(e){var t=e.high,r=e.low;e.greaterThanOrEqual(-16)&&e.lessThan(128)?this._ch.writeInt8(r):e.greaterThanOrEqual(-128)&&e.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(r)):e.greaterThanOrEqual(-32768)&&e.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(r)):e.greaterThanOrEqual(-2147483648)&&e.lessThan(2147483648)?(this._ch.writeUInt8(202),this._ch.writeInt32(r)):(this._ch.writeUInt8(203),this._ch.writeInt32(t),this._ch.writeInt32(r))}},{key:"packFloat",value:function(e){this._ch.writeUInt8(193),this._ch.writeFloat64(e)}},{key:"packString",value:function(e,t){var r=u.utf8.encode(e),n=r.length;n<16?(this._ch.writeUInt8(128|n),this._ch.writeBytes(r)):n<256?(this._ch.writeUInt8(208),this._ch.writeUInt8(n),this._ch.writeBytes(r)):n<65536?(this._ch.writeUInt8(209),this._ch.writeUInt8(n/256>>0),this._ch.writeUInt8(n%256),this._ch.writeBytes(r)):n<4294967296?(this._ch.writeUInt8(210),this._ch.writeUInt8((n/16777216>>0)%256),this._ch.writeUInt8((n/65536>>0)%256),this._ch.writeUInt8((n/256>>0)%256),this._ch.writeUInt8(n%256),this._ch.writeBytes(r)):t((0,c.newError)("UTF-8 strings of size "+n+" are not supported"))}},{key:"packListHeader",value:function(e,t){e<16?this._ch.writeUInt8(144|e):e<256?(this._ch.writeUInt8(212),this._ch.writeUInt8(e)):e<65536?(this._ch.writeUInt8(213),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)):e<4294967296?(this._ch.writeUInt8(214),this._ch.writeUInt8((e/16777216>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)):t((0,c.newError)("Lists of size "+e+" are not supported"))}},{key:"packBytes",value:function(e,t){if(this._byteArraysSupported){this.packBytesHeader(e.length,t);for(var r=0;r<e.length;r++)this._ch.writeInt8(e[r])}else t((0,c.newError)("Byte arrays are not supported by the database this driver is connected to"))}},{key:"packBytesHeader",value:function(e,t){e<256?(this._ch.writeUInt8(204),this._ch.writeUInt8(e)):e<65536?(this._ch.writeUInt8(205),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)):e<4294967296?(this._ch.writeUInt8(206),this._ch.writeUInt8((e/16777216>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)):t((0,c.newError)("Byte arrays of size "+e+" are not supported"))}},{key:"packMapHeader",value:function(e,t){e<16?this._ch.writeUInt8(160|e):e<256?(this._ch.writeUInt8(216),this._ch.writeUInt8(e)):e<65536?(this._ch.writeUInt8(217),this._ch.writeUInt8(e/256>>0),this._ch.writeUInt8(e%256)):e<4294967296?(this._ch.writeUInt8(218),this._ch.writeUInt8((e/16777216>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)):t((0,c.newError)("Maps of size "+e+" are not supported"))}},{key:"packStructHeader",value:function(e,t,r){e<16?(this._ch.writeUInt8(176|e),this._ch.writeUInt8(t)):e<256?(this._ch.writeUInt8(220),this._ch.writeUInt8(e),this._ch.writeUInt8(t)):e<65536?(this._ch.writeUInt8(221),this._ch.writeUInt8(e/256>>0),this._ch.writeUInt8(e%256)):r((0,c.newError)("Structures of size "+e+" are not supported"))}},{key:"disableByteArrays",value:function(){this._byteArraysSupported=!1}},{key:"_nonPackableValue",value:function(e,t){return t&&t((0,c.newError)(e,c.PROTOCOL_ERROR)),function(){}}}]),e}();t.Packer=d;var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,a.default)(this,e),this._disableLosslessIntegers=t}return(0,s.default)(e,[{key:"unpack",value:function(e){var t=e.readUInt8(),r=240&t,n=15&t;if(192===t)return null;var i=this._unpackBoolean(t);if(null!==i)return i;var o=this._unpackNumberOrInteger(t,e);if(null!==o)return this._disableLosslessIntegers&&(0,l.isInt)(o)?o.toNumberOrInfinity():o;var a=this._unpackString(t,r,n,e);if(null!==a)return a;var s=this._unpackList(t,r,n,e);if(null!==s)return s;var u=this._unpackByteArray(t,e);if(null!==u)return u;var h=this._unpackMap(t,r,n,e);if(null!==h)return h;var f=this._unpackStruct(t,r,n,e);if(null!==f)return f;throw(0,c.newError)("Unknown packed value with marker "+t.toString(16))}},{key:"unpackInteger",value:function(e){var t=e.readUInt8(),r=this._unpackInteger(t,e);if(null==r)throw(0,c.newError)("Unable to unpack integer value with marker "+t.toString(16));return r}},{key:"_unpackBoolean",value:function(e){return 195===e||194!==e&&null}},{key:"_unpackNumberOrInteger",value:function(e,t){return 193===e?t.readFloat64():this._unpackInteger(e,t)}},{key:"_unpackInteger",value:function(e,t){if(e>=0&&e<128)return(0,l.int)(e);if(e>=240&&e<256)return(0,l.int)(e-256);if(200===e)return(0,l.int)(t.readInt8());if(201===e)return(0,l.int)(t.readInt16());if(202===e){var r=t.readInt32();return(0,l.int)(r)}if(203===e){var n=t.readInt32(),i=t.readInt32();return new l.default(i,n)}return null}},{key:"_unpackString",value:function(e,t,r,n){return 128===t?u.utf8.decode(n,r):208===e?u.utf8.decode(n,n.readUInt8()):209===e?u.utf8.decode(n,n.readUInt16()):210===e?u.utf8.decode(n,n.readUInt32()):null}},{key:"_unpackList",value:function(e,t,r,n){return 144===t?this._unpackListWithSize(r,n):212===e?this._unpackListWithSize(n.readUInt8(),n):213===e?this._unpackListWithSize(n.readUInt16(),n):214===e?this._unpackListWithSize(n.readUInt32(),n):null}},{key:"_unpackListWithSize",value:function(e,t){for(var r=[],n=0;n<e;n++)r.push(this.unpack(t));return r}},{key:"_unpackByteArray",value:function(e,t){return 204===e?this._unpackByteArrayWithSize(t.readUInt8(),t):205===e?this._unpackByteArrayWithSize(t.readUInt16(),t):206===e?this._unpackByteArrayWithSize(t.readUInt32(),t):null}},{key:"_unpackByteArrayWithSize",value:function(e,t){for(var r=new Int8Array(e),n=0;n<e;n++)r[n]=t.readInt8();return r}},{key:"_unpackMap",value:function(e,t,r,n){return 160===t?this._unpackMapWithSize(r,n):216===e?this._unpackMapWithSize(n.readUInt8(),n):217===e?this._unpackMapWithSize(n.readUInt16(),n):218===e?this._unpackMapWithSize(n.readUInt32(),n):null}},{key:"_unpackMapWithSize",value:function(e,t){for(var r={},n=0;n<e;n++){r[this.unpack(t)]=this.unpack(t)}return r}},{key:"_unpackStruct",value:function(e,t,r,n){return 176===t?this._unpackStructWithSize(r,n):220===e?this._unpackStructWithSize(n.readUInt8(),n):221===e?this._unpackStructWithSize(n.readUInt16(),n):null}},{key:"_unpackStructWithSize",value:function(e,t){var r=t.readUInt8();return 78===r?this._unpackNode(e,t):82===r?this._unpackRelationship(e,t):114===r?this._unpackUnboundRelationship(e,t):80===r?this._unpackPath(e,t):this._unpackUnknownStruct(r,e,t)}},{key:"_unpackNode",value:function(e,t){return this._verifyStructSize("Node",3,e),new h.Node(this.unpack(t),this.unpack(t),this.unpack(t))}},{key:"_unpackRelationship",value:function(e,t){return this._verifyStructSize("Relationship",5,e),new h.Relationship(this.unpack(t),this.unpack(t),this.unpack(t),this.unpack(t),this.unpack(t))}},{key:"_unpackUnboundRelationship",value:function(e,t){return this._verifyStructSize("UnboundRelationship",3,e),new h.UnboundRelationship(this.unpack(t),this.unpack(t),this.unpack(t))}},{key:"_unpackPath",value:function(e,t){this._verifyStructSize("Path",3,e);for(var r=this.unpack(t),n=this.unpack(t),i=this.unpack(t),o=[],a=r[0],s=0;s<i.length;s+=2){var u=r[i[s+1]],l=i[s],c=void 0;l>0?(c=n[l-1])instanceof h.UnboundRelationship&&(n[l-1]=c=c.bind(a.identity,u.identity)):(c=n[-l-1])instanceof h.UnboundRelationship&&(n[-l-1]=c=c.bind(u.identity,a.identity)),o.push(new h.PathSegment(a,c,u)),a=u}return new h.Path(r[0],r[r.length-1],o)}},{key:"_unpackUnknownStruct",value:function(e,t,r){for(var n=new f(e,[]),i=0;i<t;i++)n.fields.push(this.unpack(r));return n}},{key:"_verifyStructSize",value:function(e,t,r){if(t!==r)throw(0,c.newError)("Wrong struct size for ".concat(e,", expected ").concat(t," but was ").concat(r),c.PROTOCOL_ERROR)}}]),e}();t.Unpacker=p},617:function(e,t,r){"use strict";var n=r(232),i=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(r(186)),a=i(r(187)),s=i(r(202)),u=i(r(199)),l=i(r(203)),c=i(r(614)),h=n(r(680)),f=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"_createPacker",value:function(e){return new h.Packer(e)}},{key:"_createUnpacker",value:function(e){return new h.Unpacker(e)}}]),t}(c.default);t.default=f},618:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeSecondsForDuration=function(e,t){return(0,a.int)(e).add(D(t,k))},t.normalizeNanosecondsForDuration=function(e){return A(e,k)},t.localTimeToNanoOfDay=function(e,t,r,n){e=(0,a.int)(e),t=(0,a.int)(t),r=(0,a.int)(r),n=(0,a.int)(n);var i=e.multiply(O);return(i=(i=i.add(t.multiply(E))).add(r.multiply(k))).add(n)},t.nanoOfDayToLocalTime=T,t.localDateTimeToEpochSecond=function(e,t,r,n,i,o,s){var u=R(e,t,r),l=function(e,t,r){e=(0,a.int)(e),t=(0,a.int)(t),r=(0,a.int)(r);var n=e.multiply(g);return(n=n.add(t.multiply(y))).add(r)}(n,i,o);return u.multiply(S).add(l)},t.epochSecondAndNanoToLocalDateTime=function(e,t){var r=D(e,S),n=A(e,S).multiply(k).add(t),i=N(r),o=T(n);return new s.LocalDateTime(i.year,i.month,i.day,o.hour,o.minute,o.second,o.nanosecond)},t.dateToEpochDay=R,t.epochDayToDate=N,t.durationToIsoString=function(e,t,r,n){var i=j(e),o=j(t),s=function(e,t){var r,n;e=(0,a.int)(e),t=(0,a.int)(t);var i=e.isNegative(),o=t.greaterThan(0);r=i&&o?e.equals(-1)?"-0":e.add(1).toString():e.toString();o&&(n=U(i?t.negate().add(2*k).modulo(k):t.add(k).modulo(k)));return n?r+n:r}(r,n);return"P".concat(i,"M").concat(o,"DT").concat(s,"S")},t.timeToIsoString=function(e,t,r,n){var i=j(e,2),o=j(t,2),a=j(r,2),s=U(n);return"".concat(i,":").concat(o,":").concat(a).concat(s)},t.timeZoneOffsetToIsoString=function(e){if((e=(0,a.int)(e)).equals(0))return"Z";var t=e.isNegative();t&&(e=e.multiply(-1));var r=t?"-":"+",n=j(e.div(g),2),i=j(e.div(y).modulo(m),2),o=e.modulo(y),s=o.equals(0)?null:j(o,2);return s?"".concat(r).concat(n,":").concat(i,":").concat(s):"".concat(r).concat(n,":").concat(i)},t.dateToIsoString=function(e,t,r){var n=(e=(0,a.int)(e)).isNegative();n&&(e=e.multiply(-1));var i=j(e,4);n&&(i="-"+i);var o=j(t,2),s=j(r,2);return"".concat(i,"-").concat(o,"-").concat(s)},t.totalNanoseconds=function(e,t){t=t||0;var r=e.getMilliseconds()*w;return(0,a.isInt)(t)?t.add(r):t+r},t.timeZoneOffsetInSeconds=function(e){var t=e.getTimezoneOffset();if(0===t)return 0;return-1*t*y},t.assertValidYear=function(e){return P(e,h,"Year")},t.assertValidMonth=function(e){return P(e,f,"Month")},t.assertValidDay=function(e){return P(e,d,"Day")},t.assertValidHour=function(e){return P(e,p,"Hour")},t.assertValidMinute=function(e){return P(e,v,"Minute")},t.assertValidSecond=function(e){return P(e,_,"Second")},t.assertValidNanosecond=function(e){return P(e,b,"Nanosecond")};var i=n(r(186)),o=n(r(187)),a=r(256),s=r(398),u=r(221),l=r(193),c=function(){function e(t,r){(0,i.default)(this,e),this._minNumber=t,this._maxNumber=r,this._minInteger=(0,a.int)(t),this._maxInteger=(0,a.int)(r)}return(0,o.default)(e,[{key:"contains",value:function(e){return(0,a.isInt)(e)?e.greaterThanOrEqual(this._minInteger)&&e.lessThanOrEqual(this._maxInteger):e>=this._minNumber&&e<=this._maxNumber}},{key:"toString",value:function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")}}]),e}(),h=new c(-999999999,999999999),f=new c(1,12),d=new c(1,31),p=new c(0,23),v=new c(0,59),_=new c(0,59),b=new c(0,999999999),m=60,y=60,g=y*m,k=1e9,w=1e6,E=k*y,O=E*m,C=719528,I=146097,S=86400;function T(e){var t=(e=(0,a.int)(e)).div(O),r=(e=e.subtract(t.multiply(O))).div(E),n=(e=e.subtract(r.multiply(E))).div(k),i=e.subtract(n.multiply(k));return new s.LocalTime(t,r,n,i)}function R(e,t,r){e=(0,a.int)(e),t=(0,a.int)(t),r=(0,a.int)(r);var n=e.multiply(365);return n=(n=(n=e.greaterThanOrEqual(0)?n.add(e.add(3).div(4).subtract(e.add(99).div(100)).add(e.add(399).div(400))):n.subtract(e.div(-4).subtract(e.div(-100)).add(e.div(-400)))).add(t.multiply(367).subtract(362).div(12))).add(r.subtract(1)),t.greaterThan(2)&&(n=n.subtract(1),function(e){return!!(e=(0,a.int)(e)).modulo(4).equals(0)&&(!e.modulo(100).equals(0)||!!e.modulo(400).equals(0))}(e)||(n=n.subtract(1))),n.subtract(C)}function N(e){var t=(e=(0,a.int)(e)).add(C).subtract(60),r=(0,a.int)(0);if(t.lessThan(0)){var n=t.add(1).div(I).subtract(1);r=n.multiply(400),t=t.add(n.multiply(-I))}var i=t.multiply(400).add(591).div(I),o=t.subtract(i.multiply(365).add(i.div(4)).subtract(i.div(100)).add(i.div(400)));o.lessThan(0)&&(i=i.subtract(1),o=t.subtract(i.multiply(365).add(i.div(4)).subtract(i.div(100)).add(i.div(400)))),i=i.add(r);var u=o,l=u.multiply(5).add(2).div(153),c=l.add(2).modulo(12).add(1),h=u.subtract(l.multiply(306).add(5).div(10)).add(1);return i=i.add(l.div(10)),new s.Date(i,c,h)}function P(e,t,r){if((0,u.assertNumberOrInteger)(e,r),!t.contains(e))throw(0,l.newError)("".concat(r," is expected to be in range ").concat(t," but was: ").concat(e));return e}function D(e,t){e=(0,a.int)(e),t=(0,a.int)(t);var r=e.div(t);return e.isPositive()!==t.isPositive()&&r.multiply(t).notEquals(e)&&(r=r.subtract(1)),r}function A(e,t){return e=(0,a.int)(e),t=(0,a.int)(t),e.subtract(D(e,t).multiply(t))}function U(e){return(e=(0,a.int)(e)).equals(0)?"":"."+j(e,9)}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=(e=(0,a.int)(e)).isNegative();r&&(e=e.negate());var n=e.toString();if(t)for(;n.length<t;)n="0"+n;return r?"-"+n:n}},619:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.SingleConnectionProvider=t.LoadBalancer=t.DirectConnectionProvider=void 0;var i=n(r(202)),o=n(r(199)),a=n(r(203)),s=n(r(186)),u=n(r(187)),l=r(193),c=r(283),h=n(r(430)),f=n(r(620)),d=n(r(689)),p=n(r(690)),v=r(321),_=function(){function e(){(0,s.default)(this,e)}return(0,u.default)(e,[{key:"acquireConnection",value:function(e){throw new Error("Abstract function")}},{key:"_withAdditionalOnErrorCallback",value:function(e,t){return e.catch(function(e){t(e)}),e}}]),e}(),b=function(e){function t(e,r,n){var a;return(0,s.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this)))._address=e,a._connectionPool=r,a._driverOnErrorCallback=n,a}return(0,a.default)(t,e),(0,u.default)(t,[{key:"acquireConnection",value:function(e){var t=this._connectionPool.acquire(this._address);return this._withAdditionalOnErrorCallback(t,this._driverOnErrorCallback)}}]),t}(_);t.DirectConnectionProvider=b;var m=function(e){function t(e,r,n,a,u,l,c){var h;return(0,s.default)(this,t),(h=(0,i.default)(this,(0,o.default)(t).call(this)))._seedRouter=e,h._routingTable=new f.default,h._rediscovery=new d.default(new p.default(r)),h._connectionPool=n,h._driverOnErrorCallback=l,h._loadBalancingStrategy=a,h._hostNameResolver=u,h._dnsResolver=new v.HostNameResolver,h._log=c,h._useSeedRouter=!0,h}return(0,a.default)(t,e),(0,u.default)(t,[{key:"acquireConnection",value:function(e){var t=this,r=this._freshRoutingTable(e).then(function(r){if(e===c.READ){var n=t._loadBalancingStrategy.selectReader(r.readers);return t._acquireConnectionToServer(n,"read")}if(e===c.WRITE){var i=t._loadBalancingStrategy.selectWriter(r.writers);return t._acquireConnectionToServer(i,"write")}throw(0,l.newError)("Illegal mode "+e)});return this._withAdditionalOnErrorCallback(r,this._driverOnErrorCallback)}},{key:"forget",value:function(e){this._routingTable.forget(e),this._connectionPool.purge(e)}},{key:"forgetWriter",value:function(e){this._routingTable.forgetWriter(e)}},{key:"_acquireConnectionToServer",value:function(e,t){return e?this._connectionPool.acquire(e):Promise.reject((0,l.newError)("Failed to obtain connection towards ".concat(t," server. Known routing table is: ").concat(this._routingTable),l.SESSION_EXPIRED))}},{key:"_freshRoutingTable",value:function(e){var t=this._routingTable;return t.isStaleFor(e)?(this._log.info("Routing table is stale for ".concat(e,": ").concat(t)),this._refreshRoutingTable(t)):Promise.resolve(t)}},{key:"_refreshRoutingTable",value:function(e){var t=e.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(t,e):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(t,e)}},{key:"_fetchRoutingTableFromSeedRouterFallbackToKnownRouters",value:function(e,t){var r=this;return this._fetchRoutingTableUsingSeedRouter([],this._seedRouter).then(function(n){return n?(r._useSeedRouter=!1,n):r._fetchRoutingTableUsingKnownRouters(e,t)}).then(function(e){return r._applyRoutingTableIfPossible(e),e})}},{key:"_fetchRoutingTableFromKnownRoutersFallbackToSeedRouter",value:function(e,t){var r=this;return this._fetchRoutingTableUsingKnownRouters(e,t).then(function(t){return t||r._fetchRoutingTableUsingSeedRouter(e,r._seedRouter)}).then(function(e){return r._applyRoutingTableIfPossible(e),e})}},{key:"_fetchRoutingTableUsingKnownRouters",value:function(e,r){return this._fetchRoutingTable(e,r).then(function(n){if(n)return n;var i=e.length-1;return t._forgetRouter(r,e,i),null})}},{key:"_fetchRoutingTableUsingSeedRouter",value:function(e,t){var r=this;return this._resolveSeedRouter(t).then(function(t){var n=t.filter(function(t){return e.indexOf(t)<0});return r._fetchRoutingTable(n,null)})}},{key:"_resolveSeedRouter",value:function(e){var t=this;return this._hostNameResolver.resolve(e).then(function(e){return Promise.all(e.map(function(e){return t._dnsResolver.resolve(e)}))}).then(function(e){return[].concat.apply([],e)})}},{key:"_fetchRoutingTable",value:function(e,r){var n=this;return e.reduce(function(i,o,a){return i.then(function(i){if(i)return i;var s=a-1;return t._forgetRouter(r,e,s),n._createSessionForRediscovery(o).then(function(e){return e?n._rediscovery.lookupRoutingTableOnRouter(e,o).catch(function(e){return n._log.warn("unable to fetch routing table because of an error ".concat(e)),null}):null})})},Promise.resolve(null))}},{key:"_createSessionForRediscovery",value:function(e){return this._connectionPool.acquire(e).then(function(e){var t=new y(e);return new h.default(c.READ,t)}).catch(function(e){if(e&&"Neo.ClientError.Security.Unauthorized"===e.code)throw e;return null})}},{key:"_applyRoutingTableIfPossible",value:function(e){if(!e)throw(0,l.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(this._routingTable),l.SERVICE_UNAVAILABLE);0===e.writers.length&&(this._useSeedRouter=!0),this._updateRoutingTable(e)}},{key:"_updateRoutingTable",value:function(e){this._connectionPool.keepAll(e.allServers()),this._routingTable=e,this._log.info("Updated routing table ".concat(e))}}],[{key:"_forgetRouter",value:function(e,t,r){var n=t[r];e&&n&&e.forgetRouter(n)}}]),t}(_);t.LoadBalancer=m;var y=function(e){function t(e){var r;return(0,s.default)(this,t),(r=(0,i.default)(this,(0,o.default)(t).call(this)))._connection=e,r}return(0,a.default)(t,e),(0,u.default)(t,[{key:"acquireConnection",value:function(e){var t=this._connection;return this._connection=null,Promise.resolve(t)}}]),t}(_);t.SingleConnectionProvider=y},620:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(621)),o=n(r(186)),a=n(r(187)),s=r(256),u=r(283),l=function(){function e(t,r,n,i){(0,o.default)(this,e),this.routers=t||[],this.readers=r||[],this.writers=n||[],this.expirationTime=i||(0,s.int)(0)}return(0,a.default)(e,[{key:"forget",value:function(e){this.readers=c(this.readers,e),this.writers=c(this.writers,e)}},{key:"forgetRouter",value:function(e){this.routers=c(this.routers,e)}},{key:"forgetWriter",value:function(e){this.writers=c(this.writers,e)}},{key:"isStaleFor",value:function(e){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||e===u.READ&&0===this.readers.length||e===u.WRITE&&0===this.writers.length}},{key:"allServers",value:function(){return[].concat((0,i.default)(this.routers),(0,i.default)(this.readers),(0,i.default)(this.writers))}},{key:"toString",value:function(){return"RoutingTable["+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")}}]),e}();function c(e,t){return e.filter(function(e){return e.asKey()!==t.asKey()})}t.default=l},621:function(e,t,r){var n=r(686),i=r(687),o=r(688);e.exports=function(e){return n(e)||i(e)||o()}},622:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=r(691),a=r(221),s=7687,u=7474,l=7473,c=function e(t,r,n,o,a){(0,i.default)(this,e),this.scheme=t,this.host=r,this.port=n,this.hostAndPort=o,this.query=a};function h(e,t,r){if(!(e=(e||"").trim()))throw new Error("Illegal empty ".concat(t," in URL query '").concat(r,"'"));return e}function f(e){var t="["===e.charAt(0),r="]"===e.charAt(e.length-1);if(t||r){if(t&&r)return e;throw new Error("Illegal IPv6 address ".concat(e))}return"[".concat(e,"]")}function d(e){return"http"===e?u:"https"===e?l:s}var p={parseDatabaseUrl:function(e){(0,a.assertString)(e,"URL");var t=function(e){return-1===(e=e.trim()).indexOf("://")?{schemeMissing:!0,url:"none://".concat(e)}:{schemeMissing:!1,url:e}}(e),r=(0,o.parse)(t.url),n=t.schemeMissing?null:function(e){return e?(":"===(e=e.trim()).charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e):null}(r.scheme),i=function(e,t){if(!e)throw new Error("Unable to extract host from ".concat(t));return e.trim()}(r.host),s=function(e){if(!e)throw new Error("Illegal host ".concat(e));return e.indexOf(":")>=0?f(e):e}(i),u=function(e,t){var r=parseInt(e,10);return 0===r||r?r:d(t)}(r.port,n),l="".concat(s,":").concat(u),p=function(e,t){var r=function(e){return(e=(e||"").trim())&&"?"===e.charAt(0)&&(e=e.substring(1,e.length)),e}(e),n={};return r&&r.split("&").forEach(function(e){var r=e.split("=");if(2!==r.length)throw new Error("Invalid parameters: '".concat(r,"' in URL '").concat(t,"'."));var i=h(r[0],"key",t),o=h(r[1],"value",t);if(n[i])throw new Error("Duplicated query parameters with key '".concat(i,"' in URL '").concat(t,"'"));n[i]=o}),n}(r.query,e);return new c(n,i,u,l,p)},defaultPortForScheme:d,formatIPv4Address:function(e,t){return"".concat(e,":").concat(t)},formatIPv6Address:function(e,t){var r=f(e);return"".concat(r,":").concat(t)}};t.default=p},623:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=r(193),s=function(){function e(t,r,n){(0,i.default)(this,e),this._errorCode=t,this._handleUnavailability=r||u,this._handleWriteFailure=n||u}return(0,o.default)(e,[{key:"errorCode",value:function(){return this._errorCode}},{key:"handleAndTransformError",value:function(e,t){return function(e){if(e)return e.code===a.SESSION_EXPIRED||e.code===a.SERVICE_UNAVAILABLE||"Neo.TransientError.General.DatabaseUnavailable"===e.code;return!1}(e)?this._handleUnavailability(e,t):function(e){if(e)return"Neo.ClientError.Cluster.NotALeader"===e.code||"Neo.ClientError.General.ForbiddenOnReadOnlyDatabase"===e.code;return!1}(e)?this._handleWriteFailure(e,t):e}}]),e}();function u(e){return e}t.default=s},624:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=function(){function e(t){(0,i.default)(this,e),this._offset=t||0}return(0,o.default)(e,[{key:"next",value:function(e){if(0===e)return-1;var t=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),t%e}}]),e}();t.default=a},625:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"selectReader",value:function(e){throw new Error("Abstract function")}},{key:"selectWriter",value:function(e){throw new Error("Abstract function")}}]),e}();t.default=a},626:function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},660:function(e,t,r){"use strict";var n=r(6),i=r(42),o=r(10),a=r(1),s=r.n(a),u=r(0),l=r.n(u),c=r(393),h=r(7),f=r(32),d=r.n(f),p=r(2),v=r.n(p),_=r(96),b=r(3),m={children:l.a.node.isRequired,className:l.a.string,placement:l.a.string,placementPrefix:l.a.string,arrowClassName:l.a.string,hideArrow:l.a.bool,tag:b.k,isOpen:l.a.bool.isRequired,cssModule:l.a.object,offset:l.a.oneOfType([l.a.string,l.a.number]),fallbackPlacement:l.a.oneOfType([l.a.string,l.a.array]),flip:l.a.bool,container:b.l,target:b.l.isRequired,modifiers:l.a.object,boundariesElement:l.a.oneOfType([l.a.string,b.a])},y={popperManager:l.a.object.isRequired},g=function(e){function t(t){var r;return(r=e.call(this,t)||this).handlePlacementChange=r.handlePlacementChange.bind(Object(o.a)(Object(o.a)(r))),r.setTargetNode=r.setTargetNode.bind(Object(o.a)(Object(o.a)(r))),r.getTargetNode=r.getTargetNode.bind(Object(o.a)(Object(o.a)(r))),r.getRef=r.getRef.bind(Object(o.a)(Object(o.a)(r))),r.state={},r}Object(i.a)(t,e);var r=t.prototype;return r.getChildContext=function(){return{popperManager:{setTargetNode:this.setTargetNode,getTargetNode:this.getTargetNode}}},r.componentDidUpdate=function(){this._element&&this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()},r.setTargetNode=function(e){this.targetNode=e},r.getTargetNode=function(){return this.targetNode},r.getContainerNode=function(){return Object(b.f)(this.props.container)},r.getRef=function(e){this._element=e},r.handlePlacementChange=function(e){return this.state.placement!==e.placement&&this.setState({placement:e.placement}),e},r.renderChildren=function(){var e=this.props,t=e.cssModule,r=e.children,i=(e.isOpen,e.flip),o=(e.target,e.offset),a=e.fallbackPlacement,u=e.placementPrefix,l=e.arrowClassName,f=e.hideArrow,d=e.className,p=e.tag,m=(e.container,e.modifiers),y=e.boundariesElement,g=Object(h.a)(e,["cssModule","children","isOpen","flip","target","offset","fallbackPlacement","placementPrefix","arrowClassName","hideArrow","className","tag","container","modifiers","boundariesElement"]),k=Object(b.h)(v()("arrow",l),t),w=(this.state.placement||g.placement).split("-")[0],E=Object(b.h)(v()(d,u?u+"-"+w:w),this.props.cssModule),O=Object(c.a)({offset:{offset:o},flip:{enabled:i,behavior:a},preventOverflow:{boundariesElement:y},update:{enabled:!0,order:950,fn:this.handlePlacementChange}},m);return s.a.createElement(_.c,Object(n.a)({modifiers:O},g,{component:p,className:E,"x-placement":this.state.placement||g.placement}),r,!f&&s.a.createElement(_.a,{className:k}))},r.render=function(){return this.setTargetNode(Object(b.f)(this.props.target)),this.props.isOpen?"inline"===this.props.container?this.renderChildren():d.a.createPortal(s.a.createElement("div",{ref:this.getRef},this.renderChildren()),this.getContainerNode()):null},t}(s.a.Component);g.propTypes=m,g.defaultProps={boundariesElement:"scrollParent",placement:"auto",hideArrow:!1,isOpen:!1,offset:0,fallbackPlacement:"flip",flip:!0,container:"body",modifiers:{}},g.childContextTypes=y;var k=g;r.d(t,"b",function(){return w});var w={placement:l.a.oneOf(b.b),target:b.l.isRequired,container:b.l,isOpen:l.a.bool,disabled:l.a.bool,hideArrow:l.a.bool,boundariesElement:l.a.oneOfType([l.a.string,b.a]),className:l.a.string,innerClassName:l.a.string,arrowClassName:l.a.string,cssModule:l.a.object,toggle:l.a.func,autohide:l.a.bool,placementPrefix:l.a.string,delay:l.a.oneOfType([l.a.shape({show:l.a.number,hide:l.a.number}),l.a.number]),modifiers:l.a.object,offset:l.a.oneOfType([l.a.string,l.a.number]),innerRef:l.a.oneOfType([l.a.func,l.a.string,l.a.object]),trigger:l.a.string},E={show:0,hide:250},O={isOpen:!1,hideArrow:!1,autohide:!1,delay:E,toggle:function(){},trigger:"click"};function C(e,t){return t&&(e===t||t.contains(e))}var I=function(e){function t(t){var r;return(r=e.call(this,t)||this)._target=null,r.addTargetEvents=r.addTargetEvents.bind(Object(o.a)(Object(o.a)(r))),r.handleDocumentClick=r.handleDocumentClick.bind(Object(o.a)(Object(o.a)(r))),r.removeTargetEvents=r.removeTargetEvents.bind(Object(o.a)(Object(o.a)(r))),r.toggle=r.toggle.bind(Object(o.a)(Object(o.a)(r))),r.showWithDelay=r.showWithDelay.bind(Object(o.a)(Object(o.a)(r))),r.hideWithDelay=r.hideWithDelay.bind(Object(o.a)(Object(o.a)(r))),r.onMouseOverTooltipContent=r.onMouseOverTooltipContent.bind(Object(o.a)(Object(o.a)(r))),r.onMouseLeaveTooltipContent=r.onMouseLeaveTooltipContent.bind(Object(o.a)(Object(o.a)(r))),r.show=r.show.bind(Object(o.a)(Object(o.a)(r))),r.hide=r.hide.bind(Object(o.a)(Object(o.a)(r))),r.onEscKeyDown=r.onEscKeyDown.bind(Object(o.a)(Object(o.a)(r))),r.getRef=r.getRef.bind(Object(o.a)(Object(o.a)(r))),r}Object(i.a)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.updateTarget()},r.componentWillUnmount=function(){this.removeTargetEvents()},r.onMouseOverTooltipContent=function(){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&this._hideTimeout&&this.clearHideTimeout()},r.onMouseLeaveTooltipContent=function(e){this.props.trigger.indexOf("hover")>-1&&!this.props.autohide&&(this._showTimeout&&this.clearShowTimeout(),e.persist(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide")))},r.onEscKeyDown=function(e){"Escape"===e.key&&this.hide(e)},r.getRef=function(e){var t=this.props.innerRef;t&&("function"===typeof t?t(e):"object"===typeof t&&(t.current=e)),this._popover=e},r.getDelay=function(e){var t=this.props.delay;return"object"===typeof t?isNaN(t[e])?E[e]:t[e]:t},r.show=function(e){this.props.isOpen||(this.clearShowTimeout(),this.toggle(e))},r.showWithDelay=function(e){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show.bind(this,e),this.getDelay("show"))},r.hide=function(e){this.props.isOpen&&(this.clearHideTimeout(),this.toggle(e))},r.hideWithDelay=function(e){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide"))},r.clearShowTimeout=function(){clearTimeout(this._showTimeout),this._showTimeout=void 0},r.clearHideTimeout=function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0},r.handleDocumentClick=function(e){var t=this.props.trigger.split(" ");t.indexOf("legacy")>-1&&(this.props.isOpen||C(e.target,this._target))?(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&!C(e.target,this._popover)?this.hideWithDelay(e):this.showWithDelay(e)):t.indexOf("click")>-1&&C(e.target,this._target)&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen?this.hideWithDelay(e):this.showWithDelay(e))},r.addTargetEvents=function(){var e=this;if(this.props.trigger){var t=this.props.trigger.split(" ");-1===t.indexOf("manual")&&((t.indexOf("click")>-1||t.indexOf("legacy")>-1)&&["click","touchstart"].forEach(function(t){return document.addEventListener(t,e.handleDocumentClick,!0)}),this._target&&(t.indexOf("hover")>-1&&(this._target.addEventListener("mouseover",this.showWithDelay,!0),this._target.addEventListener("mouseout",this.hideWithDelay,!0)),t.indexOf("focus")>-1&&(this._target.addEventListener("focusin",this.show,!0),this._target.addEventListener("focusout",this.hide,!0)),this._target.addEventListener("keydown",this.onEscKeyDown,!0)))}},r.removeTargetEvents=function(){var e=this;this._target&&(this._target.removeEventListener("mouseover",this.showWithDelay,!0),this._target.removeEventListener("mouseout",this.hideWithDelay,!0),this._target.removeEventListener("keydown",this.onEscKeyDown,!0),this._target.removeEventListener("focusin",this.show,!0),this._target.removeEventListener("focusout",this.hide,!0)),["click","touchstart"].forEach(function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)})},r.updateTarget=function(){var e=Object(b.f)(this.props.target);e!==this._target&&(this.removeTargetEvents(),this._target=e,this.addTargetEvents())},r.toggle=function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)},r.render=function(){if(!this.props.isOpen)return null;this.updateTarget();var e=this.props,t=e.className,r=e.cssModule,i=e.innerClassName,o=e.target,a=e.isOpen,u=e.hideArrow,l=e.boundariesElement,c=e.placement,h=e.placementPrefix,f=e.arrowClassName,d=e.container,p=e.modifiers,v=e.offset,_=Object(b.i)(this.props,Object.keys(w)),m=Object(b.h)(t,r),y=Object(b.h)(i,r);return s.a.createElement(k,{className:m,target:o,isOpen:a,hideArrow:u,boundariesElement:l,placement:c,placementPrefix:h,arrowClassName:f,container:d,modifiers:p,offset:v,cssModule:r},s.a.createElement("div",Object(n.a)({},_,{ref:this.getRef,className:y,role:"tooltip","aria-hidden":a,onMouseOver:this.onMouseOverTooltipContent,onMouseLeave:this.onMouseLeaveTooltipContent,onKeyDown:this.onEscKeyDown})))},t}(s.a.Component);I.propTypes=w,I.defaultProps=O;t.a=I},661:function(e,t,r){"use strict";t.__esModule=!0;var n=r(662),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||n(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||n(!1);for(var t=0;t<e.length;t++){var r=e[t];this._isPending[r]?this._isHandled[r]||n(!1):(this._callbacks[r]||n(!1),this._invokeCallback(r))}},e.prototype.dispatch=function(e){this._isDispatching&&n(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=i},662:function(e,t,r){"use strict";var n=function(e){};e.exports=function(e,t,r,i,o,a,s,u){if(n(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,i,o,a,s,u],h=0;(l=new Error(t.replace(/%s/g,function(){return c[h++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},663:function(e,t,r){"use strict";(function(e){var n=r(185),i=r(232);Object.defineProperty(t,"__esModule",{value:!0}),t.driver=E,Object.defineProperty(t,"int",{enumerable:!0,get:function(){return o.int}}),Object.defineProperty(t,"isInt",{enumerable:!0,get:function(){return o.isInt}}),Object.defineProperty(t,"Neo4jError",{enumerable:!0,get:function(){return s.Neo4jError}}),Object.defineProperty(t,"isPoint",{enumerable:!0,get:function(){return b.isPoint}}),Object.defineProperty(t,"isDate",{enumerable:!0,get:function(){return m.isDate}}),Object.defineProperty(t,"isDateTime",{enumerable:!0,get:function(){return m.isDateTime}}),Object.defineProperty(t,"isDuration",{enumerable:!0,get:function(){return m.isDuration}}),Object.defineProperty(t,"isLocalDateTime",{enumerable:!0,get:function(){return m.isLocalDateTime}}),Object.defineProperty(t,"isLocalTime",{enumerable:!0,get:function(){return m.isLocalTime}}),Object.defineProperty(t,"isTime",{enumerable:!0,get:function(){return m.isTime}}),t.default=t.temporal=t.spatial=t.error=t.session=t.types=t.logging=t.auth=t.integer=void 0;var o=i(r(256)),a=r(429),s=r(193),u=n(r(395)),l=n(r(608)),c=n(r(609)),h=r(283),f=n(r(693)),d=n(r(697)),p=r(221),v=n(r(622)),_=n(r(698)),b=r(434),m=r(398),y=n(r(399)),g={basic:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return r?{scheme:"basic",principal:e,credentials:t,realm:r}:{scheme:"basic",principal:e,credentials:t}},kerberos:function(e){return{scheme:"kerberos",principal:"",credentials:e}},custom:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return i?{scheme:n,principal:e,credentials:t,realm:r,parameters:i}:{scheme:n,principal:e,credentials:t,realm:r}}};t.auth=g;var k="neo4j-javascript/"+d.default,w={console:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return{level:t,logger:function(t,r){return console.log("".concat(e.Date.now()," ").concat(t.toUpperCase()," ").concat(r))}}})};function E(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,p.assertString)(e,"Bolt URL");var n=v.default.parseDatabaseUrl(e);if(-1!==["bolt+routing","neo4j"].indexOf(n.scheme))return new f.default(y.default.fromUrl(n.hostAndPort),n.query,k,t,r);if("bolt"===n.scheme){if(!(0,p.isEmptyObjectOrNull)(n.query))throw new Error("Parameters are not supported with scheme 'bolt'. Given URL: '".concat(e,"'"));return new h.Driver(y.default.fromUrl(n.hostAndPort),k,t,r)}if("http"===n.scheme||"https"===n.scheme)return new _.default(n,k,t,r);throw new Error("Unknown scheme: ".concat(n.scheme))}t.logging=w;var O={Node:a.Node,Relationship:a.Relationship,UnboundRelationship:a.UnboundRelationship,PathSegment:a.PathSegment,Path:a.Path,Result:u.default,ResultSummary:l.default,Record:c.default,Point:b.Point,Date:m.Date,DateTime:m.DateTime,Duration:m.Duration,LocalDateTime:m.LocalDateTime,LocalTime:m.LocalTime,Time:m.Time,Integer:o.default};t.types=O;var C={READ:h.READ,WRITE:h.WRITE};t.session=C;var I={SERVICE_UNAVAILABLE:s.SERVICE_UNAVAILABLE,SESSION_EXPIRED:s.SESSION_EXPIRED,PROTOCOL_ERROR:s.PROTOCOL_ERROR};t.error=I;var S={toNumber:o.toNumber,toString:o.toString,inSafeRange:o.inSafeRange};t.integer=S;var T={isPoint:b.isPoint};t.spatial=T;var R={isDuration:m.isDuration,isLocalTime:m.isLocalTime,isTime:m.isTime,isDate:m.isDate,isLocalDateTime:m.isLocalDateTime,isDateTime:m.isDateTime};t.temporal=R;var N={driver:E,int:o.int,isInt:o.isInt,isPoint:b.isPoint,isDuration:m.isDuration,isLocalTime:m.isLocalTime,isTime:m.isTime,isDate:m.isDate,isLocalDateTime:m.isLocalDateTime,isDateTime:m.isDateTime,integer:S,Neo4jError:s.Neo4jError,auth:g,logging:w,types:O,session:C,error:I,spatial:T,temporal:R};t.default=N}).call(this,r(67))},664:function(e,t,r){var n=r(199),i=r(428),o=r(665),a=r(607);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},665:function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},666:function(e,t,r){var n=r(199);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}},667:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(202)),o=n(r(199)),a=n(r(431)),s=n(r(203)),u=n(r(186)),l=n(r(187)),c=n(r(396)),h=n(r(395)),f=r(221),d=r(329),p=n(r(330)),v=n(r(397)),_=function(){function e(t,r,n){(0,u.default)(this,e),this._connectionHolder=t,this._state=m.ACTIVE,this._onClose=r,this._onBookmark=n}return(0,l.default)(e,[{key:"_begin",value:function(e,t){var r=this,n=new b(this);this._connectionHolder.getConnection(n).then(function(i){return i.protocol().beginTransaction(e,t,r._connectionHolder.mode(),n)}).catch(function(e){return n.onError(e)})}},{key:"run",value:function(e,t){var r=(0,f.validateStatementAndParameters)(e,t),n=r.query,i=r.params;return this._state.run(this._connectionHolder,new b(this),n,i)}},{key:"commit",value:function(){var e=this._state.commit(this._connectionHolder,new b(this));return this._state=e.state,this._onClose(),e.result}},{key:"rollback",value:function(){var e=this._state.rollback(this._connectionHolder,new b(this));return this._state=e.state,this._onClose(),e.result}},{key:"isOpen",value:function(){return this._state===m.ACTIVE}},{key:"_onError",value:function(){return this._state=m.FAILED,this._onClose(),this._connectionHolder.releaseConnection()}}]),e}(),b=function(e){function t(e){var r;return(0,u.default)(this,t),(r=(0,i.default)(this,(0,o.default)(t).call(this)))._tx=e,r}return(0,s.default)(t,e),(0,l.default)(t,[{key:"onError",value:function(e){var r=this;this._hasFailed||this._tx._onError().then(function(){(0,a.default)((0,o.default)(t.prototype),"onError",r).call(r,e)})}},{key:"onCompleted",value:function(e){(0,a.default)((0,o.default)(t.prototype),"onCompleted",this).call(this,e);var r=new p.default(e.bookmark);this._tx._onBookmark(r)}}]),t}(c.default),m={ACTIVE:{commit:function(e,t){return{result:y(!0,e,t),state:m.SUCCEEDED}},rollback:function(e,t){return{result:y(!1,e,t),state:m.ROLLED_BACK}},run:function(e,t,r,n){var i=p.default.empty(),o=v.default.empty();return e.getConnection(t).then(function(a){return a.protocol().run(r,n,i,o,e.mode(),t)}).catch(function(e){return t.onError(e)}),function(e,t,r,n){return new h.default(e,t,r,n,d.EMPTY_CONNECTION_HOLDER)}(t,r,n,function(){return t.serverMetadata()})}},FAILED:{commit:function(e,t){return t.onError({error:"Cannot commit statements in this transaction, because previous statements in the transaction has failed and the transaction has been rolled back. Please start a new transaction to run another statement."}),{result:g(t,"COMMIT",{}),state:m.FAILED}},rollback:function(e,t){return t.markCompleted(),{result:g(t,"ROLLBACK",{}),state:m.FAILED}},run:function(e,t,r,n){return t.onError({error:"Cannot run statement, because previous statements in the transaction has failed and the transaction has already been rolled back."}),g(t,r,n)}},SUCCEEDED:{commit:function(e,t){return t.onError({error:"Cannot commit statements in this transaction, because commit has already been successfully called on the transaction and transaction has been closed. Please start a new transaction to run another statement."}),{result:g(t,"COMMIT",{}),state:m.SUCCEEDED}},rollback:function(e,t){return t.onError({error:"Cannot rollback transaction, because transaction has already been successfully closed."}),{result:g(t,"ROLLBACK",{}),state:m.SUCCEEDED}},run:function(e,t,r,n){return t.onError({error:"Cannot run statement, because transaction has already been successfully closed."}),g(t,r,n)}},ROLLED_BACK:{commit:function(e,t){return t.onError({error:"Cannot commit this transaction, because it has already been rolled back."}),{result:g(t,"COMMIT",{}),state:m.ROLLED_BACK}},rollback:function(e,t){return t.onError({error:"Cannot rollback transaction, because transaction has already been rolled back."}),{result:g(t,"ROLLBACK",{}),state:m.ROLLED_BACK}},run:function(e,t,r,n){return t.onError({error:"Cannot run statement, because transaction has already been rolled back."}),g(t,r,n)}}};function y(e,t,r){return t.getConnection(r).then(function(t){return e?t.protocol().commitTransaction(r):t.protocol().rollbackTransaction(r)}).catch(function(e){return r.onError(e)}),new h.default(r,e?"COMMIT":"ROLLBACK",{},k,t)}function g(e,t,r){return new h.default(e,t,r,k,d.EMPTY_CONNECTION_HOLDER)}function k(){return{}}var w=_;t.default=w},668:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=r(193),s=3e4,u=1e3,l=2,c=.2,h=function(){function e(t,r,n,o){(0,i.default)(this,e),this._maxRetryTimeMs=f(t,s),this._initialRetryDelayMs=f(r,u),this._multiplier=f(n,l),this._jitterFactor=f(o,c),this._inFlightTimeoutIds=[],this._verifyAfterConstruction()}return(0,o.default)(e,[{key:"execute",value:function(e,t){var r=this;return new Promise(function(n,i){r._executeTransactionInsidePromise(e,t,n,i)}).catch(function(n){var i=Date.now(),o=r._initialRetryDelayMs;return r._retryTransactionPromise(e,t,n,i,o)})}},{key:"close",value:function(){this._inFlightTimeoutIds.forEach(function(e){return clearTimeout(e)}),this._inFlightTimeoutIds=[]}},{key:"_retryTransactionPromise",value:function(t,r,n,i,o){var a=this;return Date.now()-i>this._maxRetryTimeMs||!e._canRetryOn(n)?Promise.reject(n):new Promise(function(e,n){var i=a._computeDelayWithJitter(o),s=setTimeout(function(){a._inFlightTimeoutIds=a._inFlightTimeoutIds.filter(function(e){return e!==s}),a._executeTransactionInsidePromise(t,r,e,n)},i);a._inFlightTimeoutIds.push(s)}).catch(function(e){var n=o*a._multiplier;return a._retryTransactionPromise(t,r,e,i,n)})}},{key:"_executeTransactionInsidePromise",value:function(e,t,r,n){var i,o=this;try{i=e()}catch(a){return void n(a)}this._safeExecuteTransactionWork(i,t).then(function(e){return o._handleTransactionWorkSuccess(e,i,r,n)}).catch(function(e){return o._handleTransactionWorkFailure(e,i,n)})}},{key:"_safeExecuteTransactionWork",value:function(e,t){try{var r=t(e);return Promise.resolve(r)}catch(n){return Promise.reject(n)}}},{key:"_handleTransactionWorkSuccess",value:function(e,t,r,n){t.isOpen()?t.commit().then(function(){r(e)}).catch(function(e){n(e)}):r(e)}},{key:"_handleTransactionWorkFailure",value:function(e,t,r){t.isOpen()?t.rollback().catch(function(e){}).then(function(){return r(e)}):r(e)}},{key:"_computeDelayWithJitter",value:function(e){var t=e*this._jitterFactor,r=e-t,n=e+t;return Math.random()*(n-r)+r}},{key:"_verifyAfterConstruction",value:function(){if(this._maxRetryTimeMs<0)throw(0,a.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs);if(this._initialRetryDelayMs<0)throw(0,a.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs);if(this._multiplier<1)throw(0,a.newError)("Multiplier should be >= 1.0: "+this._multiplier);if(this._jitterFactor<0||this._jitterFactor>1)throw(0,a.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor)}}],[{key:"_canRetryOn",value:function(e){return e&&e.code&&(e.code===a.SERVICE_UNAVAILABLE||e.code===a.SESSION_EXPIRED||this._isTransientError(e))}},{key:"_isTransientError",value:function(e){var t=e.code;return t.indexOf("TransientError")>=0&&("Neo.TransientError.Transaction.Terminated"!==t&&"Neo.TransientError.Transaction.LockClientStopped"!==t)}}]),e}();function f(e,t){return e||0===e?e:t}t.default=h},669:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(611)),s=r(193),u=n(r(612)),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.create,n=void 0===r?function(e,t){}:r,o=t.destroy,s=void 0===o?function(e){return!0}:o,l=t.validate,c=void 0===l?function(e){return!0}:l,h=t.installIdleObserver,f=void 0===h?function(e,t){}:h,d=t.removeIdleObserver,p=void 0===d?function(e){}:d,v=t.config,_=void 0===v?a.default.defaultConfig():v,b=t.log,m=void 0===b?u.default.noOp():b;(0,i.default)(this,e),this._create=n,this._destroy=s,this._validate=c,this._installIdleObserver=f,this._removeIdleObserver=p,this._maxSize=_.maxSize,this._acquisitionTimeout=_.acquisitionTimeout,this._pools={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=m}return(0,o.default)(e,[{key:"acquire",value:function(e){var t=this;return this._acquire(e).then(function(r){var n=e.asKey();if(r)return c(n,t._activeResourceCounts),t._log.isDebugEnabled()&&t._log.debug("".concat(r," acquired from the pool ").concat(n)),r;var i=t._acquireRequests;return i[n]||(i[n]=[]),new Promise(function(e,r){var o,a=setTimeout(function(){var e=i[n];e&&(i[n]=e.filter(function(e){return e!==o})),o.isCompleted()||o.reject((0,s.newError)("Connection acquisition timed out in ".concat(t._acquisitionTimeout," ms.")))},t._acquisitionTimeout);o=new h(n,e,r,a,t._log),i[n].push(o)})})}},{key:"purge",value:function(e){this._purgeKey(e.asKey())}},{key:"purgeAll",value:function(){var e=this;Object.keys(this._pools).forEach(function(t){return e._purgeKey(t)})}},{key:"keepAll",value:function(e){var t=this,r=e.map(function(e){return e.asKey()});Object.keys(this._pools).filter(function(e){return-1===r.indexOf(e)}).forEach(function(e){return t._purgeKey(e)})}},{key:"has",value:function(e){return e.asKey()in this._pools}},{key:"activeResourceCount",value:function(e){return this._activeResourceCounts[e.asKey()]||0}},{key:"_acquire",value:function(e){var t=e.asKey(),r=this._pools[t];for(r||(r=[],this._pools[t]=r);r.length;){var n=r.pop();if(this._validate(n))return this._removeIdleObserver&&this._removeIdleObserver(n),Promise.resolve(n);this._destroy(n)}return this._maxSize&&this.activeResourceCount(e)>=this._maxSize?Promise.resolve(null):this._create(e,this._release)}},{key:"_release",value:function(e,t){var r=this,n=e.asKey(),i=this._pools[n];i?this._validate(t)?(this._log.isDebugEnabled()&&this._log.debug("".concat(t," released to the pool ").concat(n)),this._installIdleObserver&&this._installIdleObserver(t,{onError:function(){var e=r._pools[n];e&&(r._pools[n]=e.filter(function(e){return e!==t})),r._destroy(t)}}),i.push(t)):(this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(n," because it is not functional")),this._destroy(t)):(this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(n," because pool has been purged")),this._destroy(t)),function(e,t){var r=(t[e]||0)-1;r>0?t[e]=r:delete t[e]}(n,this._activeResourceCounts),this._processPendingAcquireRequests(e)}},{key:"_purgeKey",value:function(e){for(var t=this._pools[e]||[];t.length;){var r=t.pop();this._removeIdleObserver&&this._removeIdleObserver(r),this._destroy(r)}delete this._pools[e]}},{key:"_processPendingAcquireRequests",value:function(e){var t=this,r=e.asKey(),n=this._acquireRequests[r];if(n){var i=n.shift();i?this._acquire(e).catch(function(e){return i.reject(e),null}).then(function(n){n&&(i.isCompleted()?t._release(e,n):(c(r,t._activeResourceCounts),i.resolve(n)))}):delete this._acquireRequests[r]}}}]),e}();function c(e,t){var r=t[e]||0;t[e]=r+1}var h=function(){function e(t,r,n,o,a){(0,i.default)(this,e),this._key=t,this._resolve=r,this._reject=n,this._timeoutId=o,this._log=a,this._completed=!1}return(0,o.default)(e,[{key:"isCompleted",value:function(){return this._completed}},{key:"resolve",value:function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(e," acquired from the pool ").concat(this._key)),this._resolve(e))}},{key:"reject",value:function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(e))}}]),e}(),f=l;t.default=f},670:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=r(321),s=r(676),u=r(193),l=n(r(678)),c=r(613),h=n(r(679));function f(){}var d={onNext:f,onCompleted:f,onError:f},p=0,v=function(){function e(t,r,n,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,i.default)(this,e),this.id=p++,this.address=n,this.server={address:n.asHostPort()},this.creationTimestamp=Date.now(),this._errorHandler=r,this._disableLosslessIntegers=a,this._pendingObservers=[],this._currentObserver=void 0,this._ch=t,this._dechunker=new s.Dechunker,this._chunker=new s.Chunker(t),this._log=o,this._dbConnectionId=null,this._protocol=null,this._currentFailure=null,this._isBroken=!1,this._log.isDebugEnabled()&&this._log.debug("".concat(this," created towards ").concat(n))}return(0,o.default)(e,[{key:"connect",value:function(e,t){var r=this;return this._negotiateProtocol().then(function(){return r._initialize(e,t)})}},{key:"_negotiateProtocol",value:function(){var e=this,t=new h.default(this,this._ch,this._chunker,this._disableLosslessIntegers,this._log);return new Promise(function(r,n){var i=function(t){e._handleFatalError(t),n(t)};e._ch.onerror=i.bind(e),e._ch._error&&i(e._ch._error),e._ch.onmessage=function(i){try{e._protocol=t.createNegotiatedProtocol(i),e._ch.onerror=e._handleFatalError.bind(e),e._ch.onmessage=function(t){return e._dechunker.write(t)},e._dechunker.onmessage=function(t){e._handleMessage(e._protocol.unpacker().unpack(t))},i.hasRemaining()&&e._dechunker.write(i.readSlice(i.remaining())),r(e)}catch(o){e._handleFatalError(o),n(o)}},t.writeHandshakeRequest()})}},{key:"_initialize",value:function(e,t){var r=this;return new Promise(function(n,i){var o=new _(r,n,i);r._protocol.initialize(e,t,o)})}},{key:"protocol",value:function(){return this._protocol}},{key:"write",value:function(e,t,r){var n=this;this._queueObserver(t)&&(this._log.isDebugEnabled()&&this._log.debug("".concat(this," C: ").concat(e)),this._protocol.packer().packStruct(e.signature,e.fields.map(function(e){return n._packable(e)}),function(e){return n._handleFatalError(e)}),this._chunker.messageBoundary(),r&&this._chunker.flush())}},{key:"_handleFatalError",value:function(e){for(this._isBroken=!0,this._error=this._errorHandler.handleAndTransformError(e,this.address),this._log.isErrorEnabled()&&this._log.error("".concat(this," experienced a fatal error ").concat(JSON.stringify(this._error))),this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(this._error);this._pendingObservers.length>0;){var t=this._pendingObservers.shift();t&&t.onError&&t.onError(this._error)}}},{key:"_handleMessage",value:function(e){if(!this._isBroken){var t=e.fields[0];switch(e.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("".concat(this," S: RECORD ").concat(JSON.stringify(e))),this._currentObserver.onNext(t);break;case 112:this._log.isDebugEnabled()&&this._log.debug("".concat(this," S: SUCCESS ").concat(JSON.stringify(e)));try{var r=this._protocol.transformMetadata(t);this._currentObserver.onCompleted(r)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("".concat(this," S: FAILURE ").concat(JSON.stringify(e)));try{var n=(0,u.newError)(t.message,t.code);this._currentFailure=this._errorHandler.handleAndTransformError(n,this.address),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._resetOnFailure()}break;case 126:this._log.isDebugEnabled()&&this._log.debug("".concat(this," S: IGNORED ").concat(JSON.stringify(e)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,u.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._handleFatalError((0,u.newError)("Unknown Bolt protocol message: "+e))}}}},{key:"resetAndFlush",value:function(){var e=this;return new Promise(function(t,r){e._protocol.reset({onNext:function(t){var n=e._handleProtocolError("Received RECORD as a response for RESET: "+JSON.stringify(t));r(n)},onError:function(t){if(e._isBroken)r(t);else{var n=e._handleProtocolError("Received FAILURE as a response for RESET: "+t);r(n)}},onCompleted:function(){t()}})})}},{key:"_resetOnFailure",value:function(){var e=this;this._protocol.reset({onNext:function(t){e._handleProtocolError("Received RECORD as a response for RESET: "+JSON.stringify(t))},onError:function(){e._currentFailure=null},onCompleted:function(){e._currentFailure=null}})}},{key:"_queueObserver",value:function(e){return this._isBroken?(e&&e.onError&&e.onError(this._error),!1):((e=e||d).onCompleted=e.onCompleted||f,e.onError=e.onError||f,e.onNext=e.onNext||f,void 0===this._currentObserver?this._currentObserver=e:this._pendingObservers.push(e),!0)}},{key:"_updateCurrentObserver",value:function(){this._currentObserver=this._pendingObservers.shift()}},{key:"isOpen",value:function(){return!this._isBroken&&this._ch._open}},{key:"close",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null};this._log.isDebugEnabled()&&this._log.debug("".concat(this," closing")),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(d),this._ch.close(function(){e._log.isDebugEnabled()&&e._log.debug("".concat(e," closed")),t()})}},{key:"toString",value:function(){var e=this._dbConnectionId||"";return"Connection [".concat(this.id,"][").concat(e,"]")}},{key:"_packable",value:function(e){var t=this;return this._protocol.packer().packable(e,function(e){return t._handleFatalError(e)})}},{key:"_handleProtocolError",value:function(e){this._currentFailure=null,this._updateCurrentObserver();var t=(0,u.newError)(e,u.PROTOCOL_ERROR);return this._handleFatalError(t),t}}],[{key:"create",value:function(t,r,n,i){var o=new l.default(t,r,n.errorCode());return new e(new a.Channel(o),n,t,i,r.disableLosslessIntegers)}}]),e}();t.default=v;var _=function(){function e(t,r,n){(0,i.default)(this,e),this._connection=t,this._onSuccess=r,this._onError=n}return(0,o.default)(e,[{key:"onNext",value:function(e){this.onError((0,u.newError)("Received RECORD when initializing "+JSON.stringify(e)))}},{key:"onError",value:function(e){this._connection._updateCurrentObserver(),this._connection._handleFatalError(e),this._onError(e)}},{key:"onCompleted",value:function(e){if(e){var t=e.server;if(!this._connection.server.version)this._connection.server.version=t,c.ServerVersion.fromString(t).compareTo(c.VERSION_3_2_0)<0&&this._connection.protocol().packer().disableByteArrays();var r=e.connection_id;this._connection._dbConnectionId||(this._connection._dbConnectionId=r)}this._onSuccess(this._connection)}}]),e}()},671:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(432)),s=r(193),u=r(221),l=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;(0,i.default)(this,e),this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=t;var n=function(e,t){var r=function(e){return!0===e.encrypted||e.encrypted===u.ENCRYPTION_ON}(e),n=function(e){return!1===e.encrypted||e.encrypted===u.ENCRYPTION_OFF}(e),i=e.trust,o=function(e){var t="function"===typeof e?e():"";return t&&t.toLowerCase().indexOf("https")>=0}(t);if(function(e,t,r){e&&!r?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):t&&r&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption.")}(r,n,o),n)return{scheme:"ws",error:null};if(o)return{scheme:"wss",error:null};if(r){if(i&&"TRUST_CUSTOM_CA_SIGNED_CERTIFICATES"!==i){var a=(0,s.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES'. "+i+' is not supported. Please either use TRUST_CUSTOM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+u.ENCRYPTION_OFF+'"` in the driver configuration.');return{scheme:null,error:a}}return{scheme:"wss",error:null}}return{scheme:"ws",error:null}}(t,r),o=n.scheme,l=n.error;if(l)this._error=l;else{this._ws=function(e,t){var r=e+"://"+t.asHostPort();try{return new WebSocket(r)}catch(l){if(function(e,t){return"SyntaxError"===e.name&&(r=t.asHostPort(),"["===r.charAt(0)&&-1!==r.indexOf("]"));var r}(l,t)){var n=function(e,t){var r=t.host().replace(new RegExp(":","g"),"-").replace("%","s")+".ipv6-literal.net";return"".concat(e,"://").concat(r,":").concat(t.port())}(e,t);return new WebSocket(n)}throw l}}(o,t.address),this._ws.binaryType="arraybuffer";var h=this;this._ws.onclose=function(e){e.wasClean||h._handleConnectionError()},this._ws.onopen=function(){h._clearConnectionTimeout();var e=h._pending;h._pending=null;for(var t=0;t<e.length;t++)h.write(e[t])},this._ws.onmessage=function(e){if(h.onmessage){var t=new a.default(e.data);h.onmessage(t)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}}return(0,o.default)(e,[{key:"_handleConnectionError",value:function(){if(this._connectionTimeoutFired)return this._error=(0,s.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),void(this.onerror&&this.onerror(this._error));this._open&&(this._error=(0,s.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))}},{key:"write",value:function(e){if(null!==this._pending)this._pending.push(e);else{if(!(e instanceof a.default))throw(0,s.newError)("Don't know how to send buffer: "+e);this._ws.send(e._buffer)}}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null};this._open=!1,this._clearConnectionTimeout(),this._ws.close(),this._ws.onclose=e}},{key:"_setupConnectionTimeout",value:function(){var e=this,t=this._config.connectionTimeout;if(t){var r=this._ws;return setTimeout(function(){r.readyState!==WebSocket.OPEN&&(e._connectionTimeoutFired=!0,r.close())},t)}return null}},{key:"_clearConnectionTimeout",value:function(){var e=this._connectionTimeoutId;(e||0===e)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(e))}}]),e}();function c(){return"undefined"!==typeof window&&window.location?window.location.protocol:null}t.default=l},672:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(202)),s=n(r(199)),u=n(r(203)),l=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"resolve",value:function(e){return this._resolveToItself(e)}}]),t}(n(r(673)).default);t.default=l},673:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"resolve",value:function(){throw new Error("Abstract function")}},{key:"_resolveToItself",value:function(e){return Promise.resolve([e])}}]),e}();t.default=a},674:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(432)),o=r(675),a=new o.TextEncoder("utf-8"),s=new o.TextDecoder("utf-8");var u={encode:function(e){return new i.default(a.encode(e).buffer)},decode:function(e,t){if(e instanceof i.default)return s.decode(e.readView(Math.min(t,e.length-e.position)));for(var r=new i.default(t),n=0;n<t;n++)r.writeUInt8(e.readUInt8());return r.reset(),s.decode(r.readView(t))}};t.default=u},675:function(e,t,r){"use strict";function n(e,t,r){return t<=e&&e<=r}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}r.r(t),r.d(t,"TextEncoder",function(){return h}),r.d(t,"TextDecoder",function(){return c});var o=-1;function a(e){this.tokens=[].slice.call(e)}a.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():o},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var s=-1;function u(e,t){if(e)throw TypeError("Decoder error");return t||65533}var l="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():l)!==l)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function h(e,t){if(!(this instanceof h))return new h(e,t);if((e=void 0!==e?String(e).toLowerCase():l)!==l)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function f(e){var t=e.fatal,r=0,i=0,a=0,l=128,c=191;this.handler=function(e,h){if(h===o&&0!==a)return a=0,u(t);if(h===o)return s;if(0===a){if(n(h,0,127))return h;if(n(h,194,223))a=1,r=h-192;else if(n(h,224,239))224===h&&(l=160),237===h&&(c=159),a=2,r=h-224;else{if(!n(h,240,244))return u(t);240===h&&(l=144),244===h&&(c=143),a=3,r=h-240}return r<<=6*a,null}if(!n(h,l,c))return r=a=i=0,l=128,c=191,e.prepend(h),u(t);if(l=128,c=191,r+=h-128<<6*(a-(i+=1)),i!==a)return null;var f=r;return r=a=i=0,f}}function d(e){e.fatal;this.handler=function(e,t){if(t===o)return s;if(n(t,0,127))return t;var r,i;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var a=[(t>>6*r)+i];r>0;){var u=t>>6*(r-1);a.push(128|63&u),r-=1}return a}}c.prototype={decode:function(e,t){var r;r="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new f({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var n,o=new a(r),u=[];!o.endOfStream()&&(n=this._decoder.handler(o,o.read()))!==s;)null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n));if(!this._streaming){do{if((n=this._decoder.handler(o,o.read()))===s)break;null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n))}while(!o.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}(u)}},h.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new d(this._options)),this._streaming=Boolean(t.stream);for(var r,n=[],o=new a(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var a=e.charCodeAt(n+1);if(56320<=a&&a<=57343){var s=1023&o,u=1023&a;i.push(65536+(s<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(e));!o.endOfStream()&&(r=this._encoder.handler(o,o.read()))!==s;)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;(r=this._encoder.handler(o,o.read()))!==s;)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}}},676:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.Dechunker=t.Chunker=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(202)),s=n(r(199)),u=n(r(203)),l=n(r(433)),c=r(321),h=n(r(677)),f=1400,d=function(e){function t(e,r){var n;return(0,i.default)(this,t),(n=(0,a.default)(this,(0,s.default)(t).call(this,0)))._bufferSize=r||f,n._ch=e,n._buffer=(0,c.alloc)(n._bufferSize),n._currentChunkStart=0,n._chunkOpen=!1,n}return(0,u.default)(t,e),(0,o.default)(t,[{key:"putUInt8",value:function(e,t){this._ensure(1),this._buffer.writeUInt8(t)}},{key:"putInt8",value:function(e,t){this._ensure(1),this._buffer.writeInt8(t)}},{key:"putFloat64",value:function(e,t){this._ensure(8),this._buffer.writeFloat64(t)}},{key:"putBytes",value:function(e,t){for(;t.remaining()>0;)this._ensure(1),this._buffer.remaining()>t.remaining()?this._buffer.writeBytes(t):this._buffer.writeBytes(t.readSlice(this._buffer.remaining()));return this}},{key:"flush",value:function(){if(this._buffer.position>0){this._closeChunkIfOpen();var e=this._buffer;this._buffer=null,this._ch.write(e.getSlice(0,e.position)),this._buffer=(0,c.alloc)(this._bufferSize),this._chunkOpen=!1}return this}},{key:"messageBoundary",value:function(){this._closeChunkIfOpen(),this._buffer.remaining()<2&&this.flush(),this._buffer.writeInt16(0)}},{key:"_ensure",value:function(e){var t=this._chunkOpen?e:e+2;this._buffer.remaining()<t&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)}},{key:"_closeChunkIfOpen",value:function(){if(this._chunkOpen){var e=this._buffer.position-(this._currentChunkStart+2);this._buffer.putUInt16(this._currentChunkStart,e),this._chunkOpen=!1}}}]),t}(l.default);t.Chunker=d;var p=function(){function e(){(0,i.default)(this,e),this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return(0,o.default)(e,[{key:"AWAITING_CHUNK",value:function(e){return e.remaining()>=2?this._onHeader(e.readUInt16()):(this._partialChunkHeader=e.readUInt8()<<8,this.IN_HEADER)}},{key:"IN_HEADER",value:function(e){return this._onHeader(65535&(this._partialChunkHeader|e.readUInt8()))}},{key:"IN_CHUNK",value:function(e){return this._chunkSize<=e.remaining()?(this._currentMessage.push(e.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=e.remaining(),this._currentMessage.push(e.readSlice(e.remaining())),this.IN_CHUNK)}},{key:"CLOSED",value:function(e){}},{key:"_onHeader",value:function(e){var t;return 0===e?(t=1===this._currentMessage.length?this._currentMessage[0]:new h.default(this._currentMessage),this._currentMessage=[],this.onmessage(t),this.AWAITING_CHUNK):(this._chunkSize=e,this.IN_CHUNK)}},{key:"write",value:function(e){for(;e.hasRemaining();)this._state=this._state(e)}}]),e}();t.Dechunker=p},677:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(202)),s=n(r(199)),u=n(r(203)),l=n(r(433)),c=r(321),h=function(e){function t(e){var r;(0,i.default)(this,t);for(var n=0,o=0;o<e.length;o++)n+=e[o].length;return(r=(0,a.default)(this,(0,s.default)(t).call(this,n)))._buffers=e,r}return(0,u.default)(t,e),(0,o.default)(t,[{key:"getUInt8",value:function(e){for(var t=0;t<this._buffers.length;t++){var r=this._buffers[t];if(!(e>=r.length))return r.getUInt8(e);e-=r.length}}},{key:"getInt8",value:function(e){for(var t=0;t<this._buffers.length;t++){var r=this._buffers[t];if(!(e>=r.length))return r.getInt8(e);e-=r.length}}},{key:"getFloat64",value:function(e){for(var t=(0,c.alloc)(8),r=0;r<8;r++)t.putUInt8(r,this.getUInt8(e+r));return t.getFloat64(0)}}]),t}(l.default);t.default=h},678:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=r(193),a=r(221),s=5e3,u=[null,void 0,!0,!1,a.ENCRYPTION_ON,a.ENCRYPTION_OFF],l=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_ON_FIRST_USE","TRUST_SIGNED_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];t.default=function e(t,r,n){(0,i.default)(this,e),this.address=t,this.encrypted=function(e){var t=e.encrypted;if(-1===u.indexOf(t))throw(0,o.newError)("Illegal value of the encrypted setting ".concat(t,". Expected one of ").concat(u));return t}(r),this.trust=function(e){var t=e.trust;if(-1===l.indexOf(t))throw(0,o.newError)("Illegal value of the trust setting ".concat(t,". Expected one of ").concat(l));return t}(r),this.trustedCertificates=function(e){return e.trustedCertificates||[]}(r),this.knownHostsPath=function(e){return e.knownHosts||null}(r),this.connectionErrorCode=n||o.SERVICE_UNAVAILABLE,this.connectionTimeout=function(e){var t=parseInt(e.connectionTimeout,10);return 0===t?null:t&&t<0?null:t||s}(r)}},679:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=r(321),s=r(193),u=n(r(614)),l=n(r(617)),c=n(r(685)),h=1616949271,f=function(){function e(t,r,n,o,a){(0,i.default)(this,e),this._connection=t,this._channel=r,this._chunker=n,this._disableLosslessIntegers=o,this._log=a}return(0,o.default)(e,[{key:"writeHandshakeRequest",value:function(){this._channel.write(function(){var e=(0,a.alloc)(20);return e.writeInt32(h),e.writeInt32(3),e.writeInt32(2),e.writeInt32(1),e.writeInt32(0),e.reset(),e}())}},{key:"createNegotiatedProtocol",value:function(e){var t=e.readInt32();return this._log.isDebugEnabled()&&this._log.debug("".concat(this._connection," negotiated protocol version ").concat(t)),this._createProtocolWithVersion(t)}},{key:"_createProtocolWithVersion",value:function(e){switch(e){case 1:return new u.default(this._connection,this._chunker,this._disableLosslessIntegers);case 2:return new l.default(this._connection,this._chunker,this._disableLosslessIntegers);case 3:return new c.default(this._connection,this._chunker,this._disableLosslessIntegers);case 1213486160:throw(0,s.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");default:throw(0,s.newError)("Unknown Bolt protocol version: "+e)}}}]),e}();t.default=f},680:function(e,t,r){"use strict";var n=r(232),i=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.Unpacker=t.Packer=void 0;var o=i(r(186)),a=i(r(187)),s=i(r(202)),u=i(r(199)),l=i(r(431)),c=i(r(203)),h=n(r(616)),f=r(434),d=r(398),p=r(256),v=r(618),_=88,b=3,m=89,y=4,g=69,k=4,w=116,E=1,O=84,C=2,I=68,S=1,T=100,R=2,N=70,P=3,D=102,A=3,U=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"disableByteArrays",value:function(){throw new Error("Bolt V2 should always support byte arrays")}},{key:"packable",value:function(e,r){var n=this;return(0,f.isPoint)(e)?function(){return function(e,t,r){null===e.z||void 0===e.z?function(e,t,r){var n=[t.packable((0,p.int)(e.srid),r),t.packable(e.x,r),t.packable(e.y,r)];t.packStruct(_,n,r)}(e,t,r):function(e,t,r){var n=[t.packable((0,p.int)(e.srid),r),t.packable(e.x,r),t.packable(e.y,r),t.packable(e.z,r)];t.packStruct(m,n,r)}(e,t,r)}(e,n,r)}:(0,d.isDuration)(e)?function(){return function(e,t,r){var n=(0,p.int)(e.months),i=(0,p.int)(e.days),o=(0,p.int)(e.seconds),a=(0,p.int)(e.nanoseconds),s=[t.packable(n,r),t.packable(i,r),t.packable(o,r),t.packable(a,r)];t.packStruct(g,s,r)}(e,n,r)}:(0,d.isLocalTime)(e)?function(){return function(e,t,r){var n=(0,v.localTimeToNanoOfDay)(e.hour,e.minute,e.second,e.nanosecond),i=[t.packable(n,r)];t.packStruct(w,i,r)}(e,n,r)}:(0,d.isTime)(e)?function(){return function(e,t,r){var n=(0,v.localTimeToNanoOfDay)(e.hour,e.minute,e.second,e.nanosecond),i=(0,p.int)(e.timeZoneOffsetSeconds),o=[t.packable(n,r),t.packable(i,r)];t.packStruct(O,o,r)}(e,n,r)}:(0,d.isDate)(e)?function(){return function(e,t,r){var n=(0,v.dateToEpochDay)(e.year,e.month,e.day),i=[t.packable(n,r)];t.packStruct(I,i,r)}(e,n,r)}:(0,d.isLocalDateTime)(e)?function(){return function(e,t,r){var n=(0,v.localDateTimeToEpochSecond)(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),i=(0,p.int)(e.nanosecond),o=[t.packable(n,r),t.packable(i,r)];t.packStruct(T,o,r)}(e,n,r)}:(0,d.isDateTime)(e)?function(){return function(e,t,r){e.timeZoneId?function(e,t,r){var n=(0,v.localDateTimeToEpochSecond)(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),i=(0,p.int)(e.nanosecond),o=e.timeZoneId,a=[t.packable(n,r),t.packable(i,r),t.packable(o,r)];t.packStruct(D,a,r)}(e,t,r):function(e,t,r){var n=(0,v.localDateTimeToEpochSecond)(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),i=(0,p.int)(e.nanosecond),o=(0,p.int)(e.timeZoneOffsetSeconds),a=[t.packable(n,r),t.packable(i,r),t.packable(o,r)];t.packStruct(N,a,r)}(e,t,r)}(e,n,r)}:(0,l.default)((0,u.default)(t.prototype),"packable",this).call(this,e,r)}}]),t}(h.Packer);t.Packer=U;var j=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,o.default)(this,t),(0,s.default)(this,(0,u.default)(t).call(this,e))}return(0,c.default)(t,e),(0,a.default)(t,[{key:"_unpackUnknownStruct",value:function(e,r,n){return e===_?function(e,t,r){return e._verifyStructSize("Point2D",b,t),new f.Point(e.unpack(r),e.unpack(r),e.unpack(r),void 0)}(this,r,n):e===m?function(e,t,r){return e._verifyStructSize("Point3D",y,t),new f.Point(e.unpack(r),e.unpack(r),e.unpack(r),e.unpack(r))}(this,r,n):e===g?function(e,t,r){e._verifyStructSize("Duration",k,t);var n=e.unpack(r),i=e.unpack(r),o=e.unpack(r),a=e.unpack(r);return new d.Duration(n,i,o,a)}(this,r,n):e===w?function(e,t,r,n){e._verifyStructSize("LocalTime",E,t);var i=e.unpackInteger(r);return x((0,v.nanoOfDayToLocalTime)(i),n)}(this,r,n,this._disableLosslessIntegers):e===O?function(e,t,r,n){e._verifyStructSize("Time",C,t);var i=e.unpackInteger(r),o=e.unpackInteger(r),a=(0,v.nanoOfDayToLocalTime)(i);return x(new d.Time(a.hour,a.minute,a.second,a.nanosecond,o),n)}(this,r,n,this._disableLosslessIntegers):e===I?function(e,t,r,n){e._verifyStructSize("Date",S,t);var i=e.unpackInteger(r);return x((0,v.epochDayToDate)(i),n)}(this,r,n,this._disableLosslessIntegers):e===T?function(e,t,r,n){e._verifyStructSize("LocalDateTime",R,t);var i=e.unpackInteger(r),o=e.unpackInteger(r);return x((0,v.epochSecondAndNanoToLocalDateTime)(i,o),n)}(this,r,n,this._disableLosslessIntegers):e===N?function(e,t,r,n){e._verifyStructSize("DateTimeWithZoneOffset",P,t);var i=e.unpackInteger(r),o=e.unpackInteger(r),a=e.unpackInteger(r),s=(0,v.epochSecondAndNanoToLocalDateTime)(i,o);return x(new d.DateTime(s.year,s.month,s.day,s.hour,s.minute,s.second,s.nanosecond,a,null),n)}(this,r,n,this._disableLosslessIntegers):e===D?function(e,t,r,n){e._verifyStructSize("DateTimeWithZoneId",A,t);var i=e.unpackInteger(r),o=e.unpackInteger(r),a=e.unpack(r),s=(0,v.epochSecondAndNanoToLocalDateTime)(i,o);return x(new d.DateTime(s.year,s.month,s.day,s.hour,s.minute,s.second,s.nanosecond,null,a),n)}(this,r,n,this._disableLosslessIntegers):(0,l.default)((0,u.default)(t.prototype),"_unpackUnknownStruct",this).call(this,e,r,n,this._disableLosslessIntegers)}}]),t}(h.Unpacker);function x(e,t){if(!t)return e;var r=Object.create(Object.getPrototypeOf(e));for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];r[n]=(0,p.isInt)(i)?i.toNumberOrInfinity():i}return Object.freeze(r),r}t.Unpacker=j},681:function(e,t,r){var n=r(682),i=r(683),o=r(684);e.exports=function(e,t){return n(e)||i(e,t)||o()}},682:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},683:function(e,t){e.exports=function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){i=!0,o=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}},684:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},685:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(202)),s=n(r(199)),u=n(r(203)),l=n(r(617)),c=n(r(615)),h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"transformMetadata",value:function(e){return e.t_first&&(e.result_available_after=e.t_first,delete e.t_first),e.t_last&&(e.result_consumed_after=e.t_last,delete e.t_last),e}},{key:"initialize",value:function(e,t,r){f(r);var n=c.default.hello(e,t);this._connection.write(n,r,!0)}},{key:"prepareToClose",value:function(e){var t=c.default.goodbye();this._connection.write(t,e,!0)}},{key:"beginTransaction",value:function(e,t,r,n){f(n);var i=c.default.begin(e,t,r);this._connection.write(i,n,!0)}},{key:"commitTransaction",value:function(e){f(e);var t=c.default.commit();this._connection.write(t,e,!0)}},{key:"rollbackTransaction",value:function(e){f(e);var t=c.default.rollback();this._connection.write(t,e,!0)}},{key:"run",value:function(e,t,r,n,i,o){var a=c.default.runWithMetadata(e,t,r,n,i),s=c.default.pullAll();this._connection.write(a,o,!1),this._connection.write(s,o,!0)}}]),t}(l.default);function f(e){e&&"function"===typeof e.prepareToHandleSingleResponse&&e.prepareToHandleSingleResponse()}t.default=h},686:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},687:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},688:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},689:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(620)),s=r(193),u=function(){function e(t){(0,i.default)(this,e),this._routingUtil=t}return(0,o.default)(e,[{key:"lookupRoutingTableOnRouter",value:function(t,r){var n=this;return this._routingUtil.callRoutingProcedure(t,r).then(function(t){if(null===t)return null;if(1!==t.length)throw(0,s.newError)('Illegal response from router "'+r+'". Received '+t.length+" records but expected only one.\n"+JSON.stringify(t),s.PROTOCOL_ERROR);var i=t[0],o=n._routingUtil.parseTtl(i,r),u=n._routingUtil.parseServers(i,r),l=u.routers,c=u.readers,h=u.writers;return e._assertNonEmpty(l,"routers",r),e._assertNonEmpty(c,"readers",r),new a.default(l,c,h,o)})}}],[{key:"_assertNonEmpty",value:function(e,t,r){if(0===e.length)throw(0,s.newError)("Received no "+t+" from router "+r,s.PROTOCOL_ERROR)}}]),e}();t.default=u},690:function(e,t,r){"use strict";var n=r(232),i=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(r(186)),a=i(r(187)),s=r(193),u=n(r(256)),l=r(613),c=i(r(330)),h=i(r(397)),f=r(331),d=i(r(399)),p=function(){function e(t){(0,o.default)(this,e),this._routingContext=t}return(0,a.default)(e,[{key:"callRoutingProcedure",value:function(e,t){return this._callAvailableRoutingProcedure(e).then(function(t){return e.close(),t.records}).catch(function(e){if("Neo.ClientError.Procedure.ProcedureNotFound"===e.code)throw(0,s.newError)("Server at ".concat(t.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),s.SERVICE_UNAVAILABLE);return null})}},{key:"parseTtl",value:function(e,t){try{var r=(0,u.int)(Date.now()),n=(0,u.int)(e.get("ttl")).multiply(1e3).add(r);return n.lessThan(r)?u.default.MAX_VALUE:n}catch(i){throw(0,s.newError)("Unable to parse TTL entry from router ".concat(t," from record:\n").concat(JSON.stringify(e),"\nError message: ").concat(i.message),s.PROTOCOL_ERROR)}}},{key:"parseServers",value:function(e,t){try{var r=e.get("servers"),n=[],i=[],o=[];return r.forEach(function(e){var t=e.role,r=e.addresses;if("ROUTE"===t)n=v(r).map(function(e){return d.default.fromUrl(e)});else if("WRITE"===t)o=v(r).map(function(e){return d.default.fromUrl(e)});else{if("READ"!==t)throw(0,s.newError)('Unknown server role "'+t+'"',s.PROTOCOL_ERROR);i=v(r).map(function(e){return d.default.fromUrl(e)})}}),{routers:n,readers:i,writers:o}}catch(a){throw(0,s.newError)("Unable to parse servers entry from router ".concat(t," from record:\n").concat(JSON.stringify(e),"\nError message: ").concat(a.message),s.PROTOCOL_ERROR)}}},{key:"_callAvailableRoutingProcedure",value:function(e){var t=this;return e._run(null,null,function(e,r){var n,i,o=e.server.version;l.ServerVersion.fromString(o).compareTo(l.VERSION_3_2_0)>=0?(n="CALL dbms.cluster.routing.getRoutingTable($context)",i={context:t._routingContext}):(n="CALL dbms.cluster.routing.getServers",i={}),e.protocol().run(n,i,c.default.empty(),h.default.empty(),f.ACCESS_MODE_WRITE,r)})}}]),e}();function v(e){if(!Array.isArray(e))throw new TypeError("Array expected but got: "+e);return Array.from(e)}t.default=p},691:function(e,t,r){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var n=t("[0-9]","[A-Fa-f]"),i=r(r("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+r("%[89A-Fa-f]"+n+"%"+n+n)+"|"+r("%"+n+n)),o="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",a=t("[\\:\\/\\?\\#\\[\\]\\@]",o),s=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",u=e?"[\\uE000-\\uF8FF]":"[]",l=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",s),c=r("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),h=r(r(i+"|"+t(l,o,"[\\:]"))+"*"),f=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|[0-9]"),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?[0-9]")),d=r(f+"\\."+f+"\\."+f+"\\."+f),p=r(n+"{1,4}"),v=r(r(p+"\\:"+p)+"|"+d),_=r(r(p+"\\:")+"{6}"+v),b=r("\\:\\:"+r(p+"\\:")+"{5}"+v),m=r(r(p)+"?\\:\\:"+r(p+"\\:")+"{4}"+v),y=r(r(r(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+r(p+"\\:")+"{3}"+v),g=r(r(r(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+r(p+"\\:")+"{2}"+v),k=r(r(r(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+v),w=r(r(r(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+v),E=r(r(r(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),O=r(r(r(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),C=r([_,b,m,y,g,k,w,E,O].join("|")),I=r(r(l+"|"+i)+"+"),S=(r(C+"\\%25"+I),r(C+r("\\%25|\\%(?!"+n+"{2})")+I)),T=r("[vV]"+n+"+\\."+t(l,o,"[\\:]")+"+"),R=r("\\["+r(S+"|"+C+"|"+T)+"\\]"),N=r(r(i+"|"+t(l,o))+"*"),P=r(R+"|"+d+"(?!"+N+")|"+N),D=r("[0-9]*"),A=r(r(h+"@")+"?"+P+r("\\:"+D)+"?"),U=r(i+"|"+t(l,o,"[\\:\\@]")),j=r(U+"*"),x=r(U+"+"),M=r(r(i+"|"+t(l,o,"[\\@]"))+"+"),L=r(r("\\/"+j)+"*"),q=r("\\/"+r(x+L)+"?"),F=r(M+L),V=r(x+L),B="(?!"+U+")",H=(r(L+"|"+q+"|"+F+"|"+V+"|"+B),r(r(U+"|"+t("[\\/\\?]",u))+"*")),z=r(r(U+"|[\\/\\?]")+"*"),W=r(r("\\/\\/"+A+L)+"|"+q+"|"+V+"|"+B),Z=r(c+"\\:"+W+r("\\?"+H)+"?"+r("\\#"+z)+"?"),K=r(r("\\/\\/"+A+L)+"|"+q+"|"+F+"|"+B),J=r(K+r("\\?"+H)+"?"+r("\\#"+z)+"?");return r(Z+"|"+J),r(c+"\\:"+W+r("\\?"+H)+"?"),r(r("\\/\\/("+r("("+h+")@")+"?("+P+")"+r("\\:("+D+")")+"?)")+"?("+L+"|"+q+"|"+V+"|"+B+")"),r("\\?("+H+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+P+")"+r("\\:("+D+")")+"?)")+"?("+L+"|"+q+"|"+F+"|"+B+")"),r("\\?("+H+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+P+")"+r("\\:("+D+")")+"?)")+"?("+L+"|"+q+"|"+V+"|"+B+")"),r("\\?("+H+")"),r("\\#("+z+")"),r("("+h+")@"),r("\\:("+D+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,o),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,o),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,o),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,o),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,o,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,o,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,o),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,a),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+C+")"+r(r("\\%25|\\%(?!"+n+"{2})")+"("+I+")")+"?\\]?$")}}var a=o(!1),s=o(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){i=!0,o=u}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=2147483647,c=/^xn--/,h=/[^\0-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,v=String.fromCharCode;function _(e){throw new RangeError(d[e])}function b(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var i=(e=e.replace(f,".")).split("."),o=function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}(i,t).join(".");return n+o}function m(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}var y=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},g=function(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=36)e=p(e/35);return p(n+36*e/(e+38))},k=function(e){var t,r=[],n=e.length,i=0,o=128,a=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&_("not-basic"),r.push(e.charCodeAt(u));for(var c=s>0?s+1:0;c<n;){for(var h=i,f=1,d=36;;d+=36){c>=n&&_("invalid-input");var v=(t=e.charCodeAt(c++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(v>=36||v>p((l-i)/f))&&_("overflow"),i+=v*f;var b=d<=a?1:d>=a+26?26:d-a;if(v<b)break;var m=36-b;f>p(l/m)&&_("overflow"),f*=m}var y=r.length+1;a=g(i-h,y,0==h),p(i/y)>l-o&&_("overflow"),o+=p(i/y),i%=y,r.splice(i++,0,o)}return String.fromCodePoint.apply(String,r)},w=function(e){var t=[],r=(e=m(e)).length,n=128,i=0,o=72,a=!0,s=!1,u=void 0;try{for(var c,h=e[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){var f=c.value;f<128&&t.push(v(f))}}catch(F){s=!0,u=F}finally{try{!a&&h.return&&h.return()}finally{if(s)throw u}}var d=t.length,b=d;for(d&&t.push("-");b<r;){var k=l,w=!0,E=!1,O=void 0;try{for(var C,I=e[Symbol.iterator]();!(w=(C=I.next()).done);w=!0){var S=C.value;S>=n&&S<k&&(k=S)}}catch(F){E=!0,O=F}finally{try{!w&&I.return&&I.return()}finally{if(E)throw O}}var T=b+1;k-n>p((l-i)/T)&&_("overflow"),i+=(k-n)*T,n=k;var R=!0,N=!1,P=void 0;try{for(var D,A=e[Symbol.iterator]();!(R=(D=A.next()).done);R=!0){var U=D.value;if(U<n&&++i>l&&_("overflow"),U==n){for(var j=i,x=36;;x+=36){var M=x<=o?1:x>=o+26?26:x-o;if(j<M)break;var L=j-M,q=36-M;t.push(v(y(M+L%q,0))),j=p(L/q)}t.push(v(y(j,0))),o=g(i,T,b==d),i=0,++b}}}catch(F){N=!0,P=F}finally{try{!R&&A.return&&A.return()}finally{if(N)throw P}}++i,++n}return t.join("")},E={version:"2.1.0",ucs2:{decode:m,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}},decode:k,encode:w,toASCII:function(e){return b(e,function(e){return h.test(e)?"xn--"+w(e):e})},toUnicode:function(e){return b(e,function(e){return c.test(e)?k(e.slice(4).toLowerCase()):e})}},O={};function C(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function I(e){for(var t="",r=0,n=e.length;r<n;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var a=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function S(e,t){function r(e){var r=I(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,C).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,C).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,C).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,C).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,C).replace(t.PCT_ENCODED,i)),e}function T(e){return e.replace(/^0*(.*)/,"$1")||"0"}function R(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=u(r,2),i=n[1];return i?i.split(".").map(T).join("."):e}function N(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=u(r,3),i=n[1],o=n[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=u(a,2),l=s[0],c=s[1],h=c?c.split(":").map(T):[],f=l.split(":").map(T),d=t.IPV4ADDRESS.test(f[f.length-1]),p=d?7:8,v=f.length-p,_=Array(p),b=0;b<p;++b)_[b]=h[b]||f[v+b]||"";d&&(_[p-1]=R(_[p-1],t));var m=_.reduce(function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e},[]),y=m.sort(function(e,t){return t.length-e.length})[0],g=void 0;if(y&&y.length>1){var k=_.slice(0,y.index),w=_.slice(y.index+y.length);g=k.join(":")+"::"+w.join(":")}else g=_.join(":");return o&&(g+="%"+o),g}return e}var P=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,D=void 0==="".match(/(){0}/)[1];function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?s:a;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(P);if(i){D?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=N(R(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var o=O[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)S(r,n);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=E.toASCII(r.host.replace(n.PCT_ENCODED,I).toLowerCase())}catch(u){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+u}S(r,a)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var U=/^\.\.?\//,j=/^\/\.(\/|$)/,x=/^\/\.\.(\/|$)/,M=/^\/?(?:.|\n)*?(?=\/|$)/;function L(e){for(var t=[];e.length;)if(e.match(U))e=e.replace(U,"");else if(e.match(j))e=e.replace(j,"/");else if(e.match(x))e=e.replace(x,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(M);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?s:a,n=[],i=O[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?E.toUnicode(e.host):E.toASCII(e.host.replace(r.PCT_ENCODED,I).toLowerCase())}catch(l){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+l}S(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var o=function(e,t){var r=!1!==t.iri?s:a,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(N(R(String(e.host),r),r).replace(r.IPV6ADDRESS,function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"})),"number"===typeof e.port&&(n.push(":"),n.push(e.port.toString(10))),n.length?n.join(""):void 0}(e,t);if(void 0!==o&&("suffix"!==t.reference&&n.push("//"),n.push(o),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||i&&i.absolutePath||(u=L(u)),void 0===o&&(u=u.replace(/^\/\//,"/%2F")),n.push(u)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function F(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],i={};return n||(e=A(q(e,r),r),t=A(q(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=L(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=L(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=L(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=L(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function V(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:a.PCT_ENCODED,I)}var B={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},H={scheme:"https",domainHost:B.domainHost,parse:B.parse,serialize:B.serialize},z={},W="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Z="[0-9A-Fa-f]",K=r(r("%[EFef][0-9A-Fa-f]%"+Z+Z+"%"+Z+Z)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+Z+Z)+"|"+r("%"+Z+Z)),J=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Y=new RegExp(W,"g"),G=new RegExp(K,"g"),X=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',J),"g"),$=new RegExp(t("[^]",W,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Q=$;function ee(e){var t=I(e);return t.match(Y)?t:e}var te={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,o={},a=r.query.split("&"),s=0,u=a.length;s<u;++s){var l=a[s].split("=");switch(l[0]){case"to":for(var c=l[1].split(","),h=0,f=c.length;h<f;++h)n.push(c[h]);break;case"subject":r.subject=V(l[1],t);break;case"body":r.body=V(l[1],t);break;default:i=!0,o[V(l[0],t)]=V(l[1],t)}}i&&(r.headers=o)}r.query=void 0;for(var d=0,p=n.length;d<p;++d){var v=n[d].split("@");if(v[0]=V(v[0]),t.unicodeSupport)v[1]=V(v[1],t).toLowerCase();else try{v[1]=E.toASCII(V(v[1],t).toLowerCase())}catch(_){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+_}n[d]=v.join("@")}return r},serialize:function(e,t){var r,n=e,o=void 0!==(r=e.to)&&null!==r?r instanceof Array?r:"number"!==typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(o){for(var a=0,s=o.length;a<s;++a){var u=String(o[a]),l=u.lastIndexOf("@"),c=u.slice(0,l).replace(G,ee).replace(G,i).replace(X,C),h=u.slice(l+1);try{h=t.iri?E.toUnicode(h):E.toASCII(V(h,t).toLowerCase())}catch(v){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+v}o[a]=c+"@"+h}n.path=o.join(",")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var d=[];for(var p in f)f[p]!==z[p]&&d.push(p.replace(G,ee).replace(G,i).replace($,C)+"="+f[p].replace(G,ee).replace(G,i).replace(Q,C));return d.length&&(n.query=d.join("&")),n}},re=/^([^\:]+)\:(.*)/,ne={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(re),n=e;if(r){var i=t.scheme||n.scheme||"urn",o=r[1].toLowerCase(),a=r[2],s=i+":"+(t.nid||o),u=O[s];n.nid=o,n.nss=a,n.path=void 0,u&&(n=u.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),o=O[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(n||t.nid)+":"+s,a}},ie=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,oe={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ie)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};O[B.scheme]=B,O[H.scheme]=H,O[te.scheme]=te,O[ne.scheme]=ne,O[oe.scheme]=oe,e.SCHEMES=O,e.pctEncChar=C,e.pctDecChars=I,e.parse=A,e.removeDotSegments=L,e.serialize=q,e.resolveComponents=F,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return q(F(A(e,n),A(t,n),n,!0),n)},e.normalize=function(e,t){return"string"===typeof e?e=q(A(e,t),t):"object"===n(e)&&(e=A(q(e,t),t)),e},e.equal=function(e,t,r){return"string"===typeof e?e=q(A(e,r),r):"object"===n(e)&&(e=q(e,r)),"string"===typeof t?t=q(A(t,r),r):"object"===n(t)&&(t=q(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:a.ESCAPE,C)},e.unescapeComponent=V,Object.defineProperty(e,"__esModule",{value:!0})}(t)},692:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(329)),s=r(283),u=n(r(396)),l=function(){function e(t,r){(0,i.default)(this,e),this._connectionProvider=t,this._successCallback=r}return(0,o.default)(e,[{key:"verify",value:function(){var e=this;(function(e){var t=new a.default(s.READ,e);t.initializeConnection();var r=new u.default;return t.getConnection(r).then(function(e){return t.close().then(function(){return e.server})}).catch(function(e){return t.close().catch(function(e){}).then(function(){return Promise.reject(e)})})})(this._connectionProvider).then(function(t){e._successCallback&&e._successCallback(t)}).catch(function(e){})}}]),e}();t.default=l},693:function(e,t,r){"use strict";var n=r(232),i=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(r(186)),a=i(r(187)),s=i(r(202)),u=i(r(199)),l=i(r(203)),c=r(283),h=r(193),f=r(619),d=n(r(694)),p=n(r(695)),v=i(r(623)),_=i(r(696));var b=function(e){function t(e,r,n){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,o.default)(this,t),(i=(0,s.default)(this,(0,u.default)(t).call(this,e,n,a,function(e){if("TRUST_ON_FIRST_USE"===e.trust)throw(0,h.newError)("The chosen trust mode is not compatible with a routing driver");var t=e.resolver;if(t&&"function"!==typeof t)throw new TypeError("Configured resolver should be a function. Got: ".concat(t));return e}(l))))._routingContext=r,i}return(0,l.default)(t,e),(0,a.default)(t,[{key:"_afterConstruction",value:function(){this._log.info("Routing driver ".concat(this._id," created for server address ").concat(this._address))}},{key:"_createConnectionProvider",value:function(e,r,n){var i,o=t._createLoadBalancingStrategy(this._config,r),a=(i=this._config,new _.default(i.resolver));return new f.LoadBalancer(e,this._routingContext,r,o,a,n,this._log)}},{key:"_createConnectionErrorHandler",value:function(){var e=this;return new v.default(h.SESSION_EXPIRED,function(t,r){return e._handleUnavailability(t,r)},function(t,r){return e._handleWriteFailure(t,r)})}},{key:"_handleUnavailability",value:function(e,t){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(t," because of an error ").concat(e.code," '").concat(e.message,"'")),this._connectionProvider.forget(t),e}},{key:"_handleWriteFailure",value:function(e,t){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(t," because of an error ").concat(e.code," '").concat(e.message,"'")),this._connectionProvider.forgetWriter(t),(0,h.newError)("No longer possible to write to server at "+t,h.SESSION_EXPIRED)}}],[{key:"_createLoadBalancingStrategy",value:function(e,t){var r=e.loadBalancingStrategy;if(r&&r!==d.LEAST_CONNECTED_STRATEGY_NAME){if(r===p.ROUND_ROBIN_STRATEGY_NAME)return new p.default;throw(0,h.newError)("Unknown load balancing strategy: "+r)}return new d.default(t)}}]),t}(c.Driver);t.default=b},694:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LEAST_CONNECTED_STRATEGY_NAME=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(202)),s=n(r(199)),u=n(r(203)),l=n(r(624)),c=n(r(625));t.LEAST_CONNECTED_STRATEGY_NAME="least_connected";var h=function(e){function t(e){var r;return(0,i.default)(this,t),(r=(0,a.default)(this,(0,s.default)(t).call(this)))._readersIndex=new l.default,r._writersIndex=new l.default,r._connectionPool=e,r}return(0,u.default)(t,e),(0,o.default)(t,[{key:"selectReader",value:function(e){return this._select(e,this._readersIndex)}},{key:"selectWriter",value:function(e){return this._select(e,this._writersIndex)}},{key:"_select",value:function(e,t){var r=e.length;if(0===r)return null;var n=t.next(r),i=n,o=null,a=Number.MAX_SAFE_INTEGER;do{var s=e[i],u=this._connectionPool.activeResourceCount(s);u<a&&(o=s,a=u),i===r-1?i=0:i++}while(i!==n);return o}}]),t}(c.default);t.default=h},695:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ROUND_ROBIN_STRATEGY_NAME=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(202)),s=n(r(199)),u=n(r(203)),l=n(r(624)),c=n(r(625));t.ROUND_ROBIN_STRATEGY_NAME="round_robin";var h=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,a.default)(this,(0,s.default)(t).call(this)))._readersIndex=new l.default,e._writersIndex=new l.default,e}return(0,u.default)(t,e),(0,o.default)(t,[{key:"selectReader",value:function(e){return this._select(e,this._readersIndex)}},{key:"selectWriter",value:function(e){return this._select(e,this._writersIndex)}},{key:"_select",value:function(e,t){var r=e.length;return 0===r?null:e[t.next(r)]}}]),t}(c.default);t.default=h},696:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(399));function s(e){return Promise.resolve([e])}var u=function(){function e(t){(0,i.default)(this,e),this._resolverFunction=t||s}return(0,o.default)(e,[{key:"resolve",value:function(e){var t=this;return new Promise(function(r){return r(t._resolverFunction(e.asHostPort()))}).then(function(e){if(!Array.isArray(e))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(e));return e.map(function(e){return a.default.fromUrl(e)})})}}]),e}();t.default=u},697:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="0.0.0-dev"},698:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(202)),s=n(r(199)),u=n(r(203)),l=n(r(283)),c=n(r(699)),h=n(r(702)),f=n(r(399)),d=function(e){function t(e,r,n,o){var u;return(0,i.default)(this,t),(u=(0,a.default)(this,(0,s.default)(t).call(this,f.default.fromUrl(e.hostAndPort),r,n,o)))._url=e,u._sessionTracker=new h.default,u}return(0,u.default)(t,e),(0,o.default)(t,[{key:"session",value:function(){return new c.default(this._url,this._authToken,this._config,this._sessionTracker)}},{key:"close",value:function(){return this._sessionTracker.close()}}]),t}(l.default);t.default=d},699:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(202)),s=n(r(199)),u=n(r(606)),l=n(r(203)),c=r(283),h=n(r(430)),f=r(221),d=r(193),p=n(r(700)),v=r(329),_=n(r(395)),b=function(e){function t(e,r,n,o){var l;return(0,i.default)(this,t),(l=(0,a.default)(this,(0,s.default)(t).call(this,c.WRITE,null,null,n)))._ongoingTransactionIds=[],l._serverInfoSupplier=function(e){return function(){return{server:{address:e.hostAndPort}}}}(e),l._requestRunner=new p.default(e,r),l._sessionTracker=o,l._sessionTracker.sessionOpened((0,u.default)(l)),l}return(0,l.default)(t,e),(0,o.default)(t,[{key:"run",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,f.validateStatementAndParameters)(e,r),i=n.query,o=n.params;return this._requestRunner.beginTransaction().then(function(e){return t._ongoingTransactionIds.push(e),t._requestRunner.runQuery(e,i,o).then(function(r){return r.hasFailed()?function(e,t,r){return m(e,r).then(function(){return t})}(e,r,t._requestRunner):function(e,t,r){return r.commitTransaction(e).catch(function(e){t.onError(e)}).then(function(){return t})}(e,r,t._requestRunner)}).then(function(r){return t._ongoingTransactionIds=t._ongoingTransactionIds.filter(function(t){return t!==e}),new _.default(r,i,o,t._serverInfoSupplier,v.EMPTY_CONNECTION_HOLDER)})})}},{key:"beginTransaction",value:function(){y()}},{key:"readTransaction",value:function(){y()}},{key:"writeTransaction",value:function(){y()}},{key:"lastBookmark",value:function(){throw new d.Neo4jError("Experimental HTTP driver does not support bookmarks and routing")}},{key:"close",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null},r=this._ongoingTransactionIds.map(function(t){return m(t,e._requestRunner)});Promise.all(r).then(function(){e._sessionTracker.sessionClosed(e),t()})}}]),t}(h.default);function m(e,t){return t.rollbackTransaction(e).catch(function(){})}function y(){throw new d.Neo4jError("Experimental HTTP driver does not support transactions")}t.default=b},700:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=n(r(396)),s=n(r(701)),u=r(193),l=function(){function e(t,r){(0,i.default)(this,e),this._url=t,this._authToken=r,this._converter=new s.default}return(0,o.default)(e,[{key:"beginTransaction",value:function(){var e=this;return c("POST",f(this._url),null,this._authToken).then(function(t){var r=e._converter.extractError(t);if(r)throw r;return e._converter.extractTransactionId(t)})}},{key:"commitTransaction",value:function(e){var t=this;return c("POST",function(e,t){return d(e,t)+"/commit"}(this._url,e),null,this._authToken).then(function(e){var r=t._converter.extractError(e);if(r)throw r})}},{key:"rollbackTransaction",value:function(e){var t=this;return c("DELETE",d(this._url,e),null,this._authToken).then(function(e){var r=t._converter.extractError(e);if(r)throw r})}},{key:"runQuery",value:function(e,t,r){var n=this,i=new a.default,o=d(this._url,e),s=function(e,t,r,n){try{return function(e,t,r){var n=r.encodeStatementParameters(t);return JSON.stringify({statements:[{statement:e,parameters:n,resultDataContents:["row","graph"],includeStats:!0}]})}(e,t,r)}catch(i){return n.onError(i),null}}(t,r,this._converter,i);return s?c("POST",o,s,this._authToken).then(function(e){!function(e,t,r){if(!e)return;try{!function(e,t,r){var n=t.extractError(e);if(n)r.onError(n);else{var i=t.extractRecordMetadata(e);r.onCompleted(i);var o=t.extractRawRecords(e);o.forEach(function(e){return r.onNext(e)});var a=t.extractStatementMetadata(e);r.onCompleted(a)}}(e,t,r)}catch(n){r.onError(n)}}(e,n._converter,i)}).catch(function(e){i.onError(e)}).then(function(){return i}):Promise.resolve(i)}}]),e}();function c(e,t,r,n){try{var i={method:e,headers:h(n),body:r};return new Promise(function(e,r){fetch(t,i).then(function(e){return e.json()}).then(function(t){return e(t)}).catch(function(e){return r(new u.Neo4jError(e.message,u.SERVICE_UNAVAILABLE))})})}catch(o){return Promise.reject(o)}}function h(e){var t=new Headers;return t.append("Accept","application/json; charset=UTF-8"),t.append("Content-Type","application/json"),t.append("Authorization","Basic "+btoa(e.principal+":"+e.credentials)),t}function f(e){return function(e,t){return"".concat(e.scheme,"://").concat(e.host,":").concat(e.port).concat(t)}(e,"/db/data/transaction")}function d(e,t){return f(e)+"/"+t}t.default=l},701:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(607)),o=n(r(621)),a=n(r(394)),s=n(r(186)),u=n(r(187)),l=r(256),c=r(429),h=r(193),f=r(434),d=r(398),p=function(){function e(){(0,s.default)(this,e)}return(0,u.default)(e,[{key:"encodeStatementParameters",value:function(e){return v(e)}},{key:"extractError",value:function(e){var t=e.errors;if(t){var r=t[0];if(r){var n=e.password_change?"Neo.ClientError.Security.CredentialsExpired":r.code,i=r.message;return new h.Neo4jError(i,n)}}return null}},{key:"extractTransactionId",value:function(e){var t=e.commit;if(t){var r=t.replace("/commit",""),n=r.substring(r.lastIndexOf("/")+1),i=parseInt(n,10);if(i||0===i)return i}throw new h.Neo4jError("Unable to extract transaction id from the response JSON: ".concat(JSON.stringify(e)))}},{key:"extractRecordMetadata",value:function(e){var t=b(e);return{fields:t?t.columns:[]}}},{key:"extractRawRecords",value:function(e){var t=b(e);if(t){var r=t.data;if(r)return r.map(function(e){return function(e){var t=e.row,r=function(e){var t=e.graph;if(t){var r=t.nodes;if(r)return r.reduce(function(e,t){var r=y(t.id),n=t.labels,i=m(t.properties);return e[t.id]=new c.Node(r,n,i),e},{})}return{}}(e),n=function(e){var t=e.graph;if(t){var r=t.relationships;if(r)return r.reduce(function(e,t){var r=y(t.id),n=y(t.startNode),i=y(t.endNode),o=t.type,a=m(t.properties);return e[t.id]=new c.Relationship(r,n,i,o,a),e},{})}return{}}(e);if(t)return t.map(function(t,a){return function(e,t,r,n){var a=t.row?t.row[e]:null,s=t.meta?t.meta[e]:null;return s?function(e,t,r,n){return a=t,g("node",a)?r[t.id]:function(e){return g("relationship",e)}(t)?n[t.id]:function(e){return Array.isArray(e)}(t)?function(e,t,r){for(var n=null,i=null,o=[],a=0;a<e.length;a++){var s=e[a],u=s.id,l=s.type,f=null===n&&null===i||null!==n&&null!==i;if(f&&"node"!==l)throw new h.Neo4jError("Unable to parse path, node expected but got: ".concat(JSON.stringify(s)," in ").concat(JSON.stringify(e)));if(!f&&"node"===l)throw new h.Neo4jError("Unable to parse path, relationship expected but got: ".concat(JSON.stringify(s)," in ").concat(JSON.stringify(e)));if(f){var d=t[u];if(null===n)n=d;else{if(null===n||null===i)throw new h.Neo4jError("Unable to parse path, illegal node configuration: ".concat(JSON.stringify(e)));var p=new c.PathSegment(n,i,d);o.push(p),n=d,i=null}}else{if(null!==i)throw new h.Neo4jError("Unable to parse path, illegal relationship configuration: ".concat(JSON.stringify(e)));i=r[u]}}var v=o[o.length-1];if(v&&v.end!==n||null!==i)throw new h.Neo4jError("Unable to parse path: ".concat(JSON.stringify(e)));return function(e){var t=e[0].start,r=e[e.length-1].end;return new c.Path(t,r,e)}(o)}(t,r,n):function(e){return g("point",e)}(t)?function(e){if("Point"!==e.type)throw new h.Neo4jError("Unexpected Point type received: ".concat(JSON.stringify(e)));var t=e.coordinates;if(!Array.isArray(t)&&(2!==t.length||3!==t.length))throw new h.Neo4jError("Unexpected Point coordinates received: ".concat(JSON.stringify(e)));var r=function(e){var t=e.crs;if(!t||!t.name)throw new h.Neo4jError("Unexpected Point crs received: ".concat(JSON.stringify(e)));var r=t.name.toLowerCase();if("wgs-84"===r)return 4326;if("wgs-84-3d"===r)return 4979;if("cartesian"===r)return 7203;if("cartesian-3d"===r)return 9157;throw new h.Neo4jError("Unexpected Point crs received: ".concat(JSON.stringify(e)))}(e);return(0,i.default)(f.Point,[r].concat((0,o.default)(t)))}(e):e;var a}(a,s,r,n):m(a)}(a,e,r,n)});return[]}(e)})}return[]}},{key:"extractStatementMetadata",value:function(e){var t=b(e);if(t){var r=t.stats;if(r)return{stats:Object.keys(r).reduce(function(e,t){return"contains_updates"===t?e:(e[("relationship_deleted"===t?"relationships_deleted":t).replace("_","-")]=r[t],e)},{})}}return{}}}]),e}();function v(e){return e&&"object"===(0,a.default)(e)?Object.keys(e).reduce(function(t,r){return t[r]=function e(t){if(t instanceof c.Node)throw new h.Neo4jError("It is not allowed to pass nodes in query parameters",h.PROTOCOL_ERROR);if(t instanceof c.Relationship)throw new h.Neo4jError("It is not allowed to pass relationships in query parameters",h.PROTOCOL_ERROR);if(t instanceof c.Path)throw new h.Neo4jError("It is not allowed to pass paths in query parameters",h.PROTOCOL_ERROR);if((0,f.isPoint)(t))throw _("points");if((0,d.isDate)(t))throw _("dates");if((0,d.isDateTime)(t))throw _("date-time");if((0,d.isDuration)(t))throw _("durations");if((0,d.isLocalDateTime)(t))throw _("local date-time");if((0,d.isLocalTime)(t))throw _("local time");if((0,d.isTime)(t))throw _("time");return(0,l.isInt)(t)?t.toNumber():Array.isArray(t)?t.map(function(t){return e(t)}):"object"===(0,a.default)(t)?v(t):t}(e[r]),t},{}):e}function _(e){return new h.Neo4jError("It is not allowed to pass ".concat(e," in query parameters when using HTTP endpoint. ")+"Please consider using Cypher functions to create ".concat(e," so that query parameters are plain objects."),h.PROTOCOL_ERROR)}function b(e){var t=e.results;if(t){var r=t[0];if(r)return r}return null}function m(e){return null==e||void 0===e?null:"number"===typeof e?y(e):Array.isArray(e)?e.map(function(e){return m(e)}):"object"===(0,a.default)(e)?Object.keys(e).reduce(function(t,r){return t[r]=m(e[r]),t},{}):e}function y(e){return"number"===typeof e?e:Number(e)}function g(e,t){return!Array.isArray(t)&&"object"===(0,a.default)(t)&&t.type===e}t.default=p},702:function(e,t,r){"use strict";var n=r(185);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(186)),o=n(r(187)),a=function(){function e(){(0,i.default)(this,e),this._openSessions=new Set}return(0,o.default)(e,[{key:"sessionOpened",value:function(e){this._openSessions.add(e)}},{key:"sessionClosed",value:function(e){this._openSessions.delete(e)}},{key:"close",value:function(){var e=Array.from(this._openSessions);return this._openSessions.clear(),Promise.all(e.map(function(e){return function(e){return new Promise(function(t){e.close(function(){t()})})}(e)}))}}]),e}();t.default=a},861:function(e,t,r){"use strict";var n=r(6),i=r(7),o=r(1),a=r.n(o),s=r(0),u=r.n(s),l=r(2),c=r.n(l),h=r(3),f={tag:h.k,className:u.a.string,cssModule:u.a.object},d=function(e){var t=e.className,r=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(h.h)(c()(t,"card-header"),r);return a.a.createElement(o,Object(n.a)({},s,{className:u}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},862:function(e,t,r){"use strict";var n=r(6),i=r(1),o=r.n(i),a=r(2),s=r.n(a),u=r(660),l=function(e){var t=s()("popover","show",e.className),r=s()("popover-inner",e.innerClassName);return o.a.createElement(u.a,Object(n.a)({},e,{className:t,innerClassName:r}))};l.propTypes=u.b,l.defaultProps={placement:"right",placementPrefix:"bs-popover",trigger:"click"},t.a=l},863:function(e,t,r){"use strict";var n=r(6),i=r(7),o=r(1),a=r.n(o),s=r(0),u=r.n(s),l=r(2),c=r.n(l),h=r(3),f={tag:h.k,className:u.a.string,cssModule:u.a.object},d=function(e){var t=e.className,r=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(h.h)(c()(t,"popover-header"),r);return a.a.createElement(o,Object(n.a)({},s,{className:u}))};d.propTypes=f,d.defaultProps={tag:"h3"},t.a=d},864:function(e,t,r){"use strict";var n=r(6),i=r(7),o=r(1),a=r.n(o),s=r(0),u=r.n(s),l=r(2),c=r.n(l),h=r(3),f={tag:h.k,className:u.a.string,cssModule:u.a.object},d=function(e){var t=e.className,r=e.cssModule,o=e.tag,s=Object(i.a)(e,["className","cssModule","tag"]),u=Object(h.h)(c()(t,"popover-body"),r);return a.a.createElement(o,Object(n.a)({},s,{className:u}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},865:function(e,t,r){"use strict";var n=r(6),i=r(7),o=r(1),a=r.n(o),s=r(0),u=r.n(s),l=r(2),c=r.n(l),h=r(3),f={tag:h.k,noGutters:u.a.bool,className:u.a.string,cssModule:u.a.object,form:u.a.bool},d=function(e){var t=e.className,r=e.cssModule,o=e.noGutters,s=e.tag,u=e.form,l=Object(i.a)(e,["className","cssModule","noGutters","tag","form"]),f=Object(h.h)(c()(t,o?"no-gutters":null,u?"form-row":"row"),r);return a.a.createElement(s,Object(n.a)({},l,{className:f}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},866:function(e,t,r){"use strict";var n=r(6),i=r(7),o=r(626),a=r.n(o),s=r(1),u=r.n(s),l=r(0),c=r.n(l),h=r(2),f=r.n(h),d=r(3),p=c.a.oneOfType([c.a.number,c.a.string]),v=c.a.oneOfType([c.a.bool,c.a.number,c.a.string,c.a.shape({size:c.a.oneOfType([c.a.bool,c.a.number,c.a.string]),push:Object(d.e)(p,'Please use the prop "order"'),pull:Object(d.e)(p,'Please use the prop "order"'),order:p,offset:p})]),_={tag:d.k,xs:v,sm:v,md:v,lg:v,xl:v,className:c.a.string,cssModule:c.a.object,widths:c.a.array},b={tag:"div",widths:["xs","sm","md","lg","xl"]},m=function(e,t,r){return!0===r||""===r?e?"col":"col-"+t:"auto"===r?e?"col-auto":"col-"+t+"-auto":e?"col-"+r:"col-"+t+"-"+r},y=function(e){var t=e.className,r=e.cssModule,o=e.widths,s=e.tag,l=Object(i.a)(e,["className","cssModule","widths","tag"]),c=[];o.forEach(function(t,n){var i=e[t];if(delete l[t],i||""===i){var o=!n;if(a()(i)){var s,u=o?"-":"-"+t+"-",h=m(o,t,i.size);c.push(Object(d.h)(f()(((s={})[h]=i.size||""===i.size,s["order"+u+i.order]=i.order||0===i.order,s["offset"+u+i.offset]=i.offset||0===i.offset,s)),r))}else{var p=m(o,t,i);c.push(p)}}}),c.length||c.push("col");var h=Object(d.h)(f()(t,c),r);return u.a.createElement(s,Object(n.a)({},l,{className:h}))};y.propTypes=_,y.defaultProps=b,t.a=y},867:function(e,t,r){"use strict";var n=r(6),i=r(7),o=r(1),a=r.n(o),s=r(0),u=r.n(s),l=r(2),c=r.n(l),h=r(3),f={tag:h.k,inverse:u.a.bool,color:u.a.string,block:Object(h.e)(u.a.bool,'Please use the props "body"'),body:u.a.bool,outline:u.a.bool,className:u.a.string,cssModule:u.a.object,innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},d=function(e){var t=e.className,r=e.cssModule,o=e.color,s=e.block,u=e.body,l=e.inverse,f=e.outline,d=e.tag,p=e.innerRef,v=Object(i.a)(e,["className","cssModule","color","block","body","inverse","outline","tag","innerRef"]),_=Object(h.h)(c()(t,"card",!!l&&"text-white",!(!s&&!u)&&"card-body",!!o&&(f?"border":"bg")+"-"+o),r);return a.a.createElement(d,Object(n.a)({},v,{className:_,ref:p}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},868:function(e,t,r){"use strict";var n=r(6),i=r(7),o=r(1),a=r.n(o),s=r(0),u=r.n(s),l=r(2),c=r.n(l),h=r(3),f={tag:h.k,className:u.a.string,cssModule:u.a.object,innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},d=function(e){var t=e.className,r=e.cssModule,o=e.innerRef,s=e.tag,u=Object(i.a)(e,["className","cssModule","innerRef","tag"]),l=Object(h.h)(c()(t,"card-body"),r);return a.a.createElement(s,Object(n.a)({},u,{className:l,ref:o}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},869:function(e,t,r){"use strict";var n=r(6),i=r(7),o=r(42),a=r(10),s=r(1),u=r.n(s),l=r(0),c=r.n(l),h=r(2),f=r.n(h),d=r(3),p={active:c.a.bool,"aria-label":c.a.string,block:c.a.bool,color:c.a.string,disabled:c.a.bool,outline:c.a.bool,tag:d.k,innerRef:c.a.oneOfType([c.a.object,c.a.func,c.a.string]),onClick:c.a.func,size:c.a.string,children:c.a.node,className:c.a.string,cssModule:c.a.object,close:c.a.bool},v=function(e){function t(t){var r;return(r=e.call(this,t)||this).onClick=r.onClick.bind(Object(a.a)(Object(a.a)(r))),r}Object(o.a)(t,e);var r=t.prototype;return r.onClick=function(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)},r.render=function(){var e=this.props,t=e.active,r=e["aria-label"],o=e.block,a=e.className,s=e.close,l=e.cssModule,c=e.color,h=e.outline,p=e.size,v=e.tag,_=e.innerRef,b=Object(i.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);s&&"undefined"===typeof b.children&&(b.children=u.a.createElement("span",{"aria-hidden":!0},"\xd7"));var m="btn"+(h?"-outline":"")+"-"+c,y=Object(d.h)(f()(a,{close:s},s||"btn",s||m,!!p&&"btn-"+p,!!o&&"btn-block",{active:t,disabled:this.props.disabled}),l);b.href&&"button"===v&&(v="a");var g=s?"Close":null;return u.a.createElement(v,Object(n.a)({type:"button"===v&&b.onClick?"button":void 0},b,{className:y,ref:_,onClick:this.onClick,"aria-label":r||g}))},t}(u.a.Component);v.propTypes=p,v.defaultProps={color:"secondary",tag:"button"},t.a=v}}]);
//# sourceMappingURL=0.9cabd642.chunk.js.map