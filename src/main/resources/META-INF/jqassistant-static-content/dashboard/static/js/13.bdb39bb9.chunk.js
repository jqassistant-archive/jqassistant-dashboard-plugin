(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{188:function(e,t,r){"use strict";r.d(t,"d",function(){return h}),r.d(t,"b",function(){return m}),r.d(t,"a",function(){return b});var n=r(27),o=r(28),i=r(30),a=r(29),s=r(31),l=r(1),c=r.n(l),u=r(181),d=r(189),p=(localStorage.getItem("connectionString"),localStorage.getItem("username"),localStorage.getItem("password"),null),f=null,h=null,m=!1,g=!0;function b(e,t){this.message=e,this.name=t}var y=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){return this.handleAction=this.handleAction.bind(this),this.setState({dispatcherEventId:d.register(this.handleAction)}),new Promise(t.checkForDatabaseConnection).then(this.testDatabaseCredentials())}},{key:"testDatabaseCredentials",value:function(){var e,t,n;if(e=localStorage.getItem("connectionString"),t=localStorage.getItem("username"),n=localStorage.getItem("password"),m)return this.refreshConnectionSettings(),p="undefined"!==typeof testrun?r(240):r(241),f=p.v1.driver("bolt://"+e,p.v1.auth.basic(t,n)),(h=f.session()).run("match (n) return n limit 1").then(function(){g=!0}).catch(function(e){throw g=!1,"",new b("Invalid database connection data","InvalidDatabaseConnectionException")})}},{key:"componentDidMount",value:function(){}},{key:"refreshConnectionSettings",value:function(){localStorage.getItem("connectionString"),localStorage.getItem("username"),localStorage.getItem("password")}},{key:"componentWillUnmount",value:function(){d.unregister(this.state.dispatcherEventId)}},{key:"handleAction",value:function(e){switch(e.action.actionType){case"SET_STATE":var t=e.action.data;this.setState(t)}}},{key:"render",value:function(){var e=[];if(!m||!g){console.log("No database credentials, redirecting to settings...");var t=window.location.protocol+"//"+window.location.host+"/#";"/settings"!==window.location.href.replace(t,"")&&e.push(c.a.createElement(u.a,{key:"dummy",to:"/settings"}))}return e}}],[{key:"checkForDatabaseConnection",value:function(){var e=localStorage.getItem("connectionString"),t=localStorage.getItem("password"),r=localStorage.getItem("username");if(!(m=null!==e&&""!==e&&null!==t&&""!==t&&null!==r&&""!==r)&&"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_IP&&"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_USERNAME&&"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_PASSWORD){localStorage.setItem("connectionString",Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_IP),localStorage.setItem("username",Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_USERNAME),localStorage.setItem("password",Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_PASSWORD);var n="My project";"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_PROJECT_NAME&&(n=Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_PROJECT_NAME),localStorage.setItem("projectName",n);var o="70";"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_LIMIT_COUNTING_HOTSPOTS&&(o=Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_LIMIT_COUNTING_HOTSPOTS),localStorage.setItem("limitCountingHotspots",o),m=!0}}}]),t}(l.Component);t.c=y},189:function(e,t,r){var n=new(0,r(239).Dispatcher);n.handleAction=function(e){this.dispatch({source:"VIEW_ACTION",action:e})},e.exports=n},208:function(e,t,r){"use strict";var n=r(27),o=r(28),i=r(30),a=r(29),s=r(31),l=r(68),c=r(1),u=r.n(c),d=r(860),p=r(861),f=r(862),h=r(863),m=r(864),g=r(13),b=r(222),y=r.n(b),v=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(i.a)(this,Object(a.a)(t).call(this,e))).state={tooltipOpen:[!1,!1],popoverOpen:!1,popovers:[{placement:"bottom",text:"Bottom"}]},r.toggleInfo=r.toggleInfo.bind(Object(l.a)(Object(l.a)(r))),r}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){y()(".expert-mode").each(function(){!1===y()(this).hasClass("expert-mode-set")&&(y()(this).on("change",function(){var e=y()(this).find("input").attr("id"),t=y()(".expert-mode-editor"),r=y()(".visualization-wrapper");"undefined"!==typeof e&&t.hasClass(e)&&(r=(t=y()(".expert-mode-editor."+e)).next(".visualization-wrapper")),t.hasClass("hide-expert-mode")?(t.removeClass("hide-expert-mode"),r.addClass("margin-top-50 margin-bottom-50"),t.parent(".card-body").addClass("height-auto")):(t.addClass("hide-expert-mode"),r.removeClass("margin-top-50 margin-bottom-50"),t.parent(".card-body").removeClass("height-auto"))}),y()(this).addClass("expert-mode-set"))})}},{key:"toggle",value:function(e){var t=this.state.tooltipOpen.map(function(t,r){return r===e&&!t});this.setState({tooltipOpen:t})}},{key:"toggleInfo",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"render",value:function(){var e=this,t=this.props.cardHeaderText,r=this.props.showExpertMode,n=this.props.placement,o=this.props.target,i=this.props.popoverHeaderText,a=this.props.popoverBody,s=t.toLowerCase().replace(/\s/g,"-").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""),l="";return r&&(l=u.a.createElement("div",{className:"float-left"},u.a.createElement("div",{id:"tooltip-"+s},u.a.createElement(g.j,{id:s,className:"mx-1 float-right display-block expert-mode "+s,color:"secondary",size:"sm",label:!0})),u.a.createElement(d.a,{placement:"top",isOpen:this.state.tooltipOpen[0],target:"tooltip-"+s,toggle:function(){e.toggle(0)}},"Toggle expert mode"))),u.a.createElement(p.a,null,t,u.a.createElement("div",{className:"card-actions"},l,u.a.createElement("button",{onClick:this.toggleInfo,id:o},u.a.createElement("i",{className:"text-muted fa fa-question-circle"})),u.a.createElement(d.a,{placement:"top",isOpen:this.state.tooltipOpen[1],target:o,toggle:function(){e.toggle(1)}},"Show details"),u.a.createElement(f.a,{placement:n,isOpen:this.state.popoverOpen,target:o,toggle:this.toggleInfo},u.a.createElement(h.a,null,i),u.a.createElement(m.a,null,a))))}}]),t}(c.Component);t.a=v},214:function(e,t,r){var n=r(200);e.exports=function(e){return e===e&&!n(e)}},215:function(e,t){e.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},219:function(e,t,r){var n=r(248),o=r(251),i=r(211),a=r(191),s=r(252);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):n(e):s(e)}},237:function(e,t,r){e.exports=r(281)},248:function(e,t,r){var n=r(249),o=r(250),i=r(215);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},249:function(e,t,r){var n=r(244),o=r(226),i=1,a=2;e.exports=function(e,t,r,s){var l=r.length,c=l,u=!s;if(null==e)return!c;for(e=Object(e);l--;){var d=r[l];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<c;){var p=(d=r[l])[0],f=e[p],h=d[1];if(u&&d[2]){if(void 0===f&&!(p in e))return!1}else{var m=new n;if(s)var g=s(f,h,p,e,t,m);if(!(void 0===g?o(h,f,i|a,s,m):g))return!1}}return!0}},250:function(e,t,r){var n=r(214),o=r(196);e.exports=function(e){for(var t=o(e),r=t.length;r--;){var i=t[r],a=e[i];t[r]=[i,a,n(a)]}return t}},251:function(e,t,r){var n=r(226),o=r(291),i=r(295),a=r(225),s=r(214),l=r(215),c=r(210),u=1,d=2;e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(r){var a=o(r,e);return void 0===a&&a===t?i(r,e):n(t,a,u|d)}}},252:function(e,t,r){var n=r(253),o=r(254),i=r(225),a=r(210);e.exports=function(e){return i(e)?n(a(e)):o(e)}},253:function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},254:function(e,t,r){var n=r(259);e.exports=function(e){return function(t){return n(t,e)}}},265:function(e,t,r){"use strict";r.r(t);var n=r(184),o=Math.cos,i=Math.sin,a=Math.PI,s=a/2,l=2*a,c=Math.max;var u=function(){var e=0,t=null,r=null,o=null;function i(i){var a,s,u,d,p,f,h=i.length,m=[],g=Object(n.h)(h),b=[],y=[],v=y.groups=new Array(h),O=new Array(h*h);for(a=0,p=-1;++p<h;){for(s=0,f=-1;++f<h;)s+=i[p][f];m.push(s),b.push(Object(n.h)(h)),a+=s}for(t&&g.sort(function(e,r){return t(m[e],m[r])}),r&&b.forEach(function(e,t){e.sort(function(e,n){return r(i[t][e],i[t][n])})}),d=(a=c(0,l-e*h)/a)?e:l/h,s=0,p=-1;++p<h;){for(u=s,f=-1;++f<h;){var R=g[p],C=b[R][f],E=i[R][C],x=s,T=s+=E*a;O[C*h+R]={index:R,subindex:C,startAngle:x,endAngle:T,value:E}}v[R]={index:R,startAngle:u,endAngle:s,value:m[R]},s+=d}for(p=-1;++p<h;)for(f=p-1;++f<h;){var S=O[f*h+p],A=O[p*h+f];(S.value||A.value)&&y.push(S.value<A.value?{source:A,target:S}:{source:S,target:A})}return o?y.sort(o):y}return i.padAngle=function(t){return arguments.length?(e=c(0,t),i):e},i.sortGroups=function(e){return arguments.length?(t=e,i):t},i.sortSubgroups=function(e){return arguments.length?(r=e,i):r},i.sortChords=function(e){return arguments.length?(null==e?o=null:(t=e,o=function(e,r){return t(e.source.value+e.target.value,r.source.value+r.target.value)})._=e,i):o&&o._;var t},i},d=Array.prototype.slice,p=function(e){return function(){return e}},f=r(220);function h(e){return e.source}function m(e){return e.target}function g(e){return e.radius}function b(e){return e.startAngle}function y(e){return e.endAngle}var v=function(){var e=h,t=m,r=g,n=b,a=y,l=null;function c(){var c,u=d.call(arguments),p=e.apply(this,u),h=t.apply(this,u),m=+r.apply(this,(u[0]=p,u)),g=n.apply(this,u)-s,b=a.apply(this,u)-s,y=m*o(g),v=m*i(g),O=+r.apply(this,(u[0]=h,u)),R=n.apply(this,u)-s,C=a.apply(this,u)-s;if(l||(l=c=Object(f.a)()),l.moveTo(y,v),l.arc(0,0,m,g,b),g===R&&b===C||(l.quadraticCurveTo(0,0,O*o(R),O*i(R)),l.arc(0,0,O,R,C)),l.quadraticCurveTo(0,0,y,v),l.closePath(),c)return l=null,c+""||null}return c.radius=function(e){return arguments.length?(r="function"===typeof e?e:p(+e),c):r},c.startAngle=function(e){return arguments.length?(n="function"===typeof e?e:p(+e),c):n},c.endAngle=function(e){return arguments.length?(a="function"===typeof e?e:p(+e),c):a},c.source=function(t){return arguments.length?(e=t,c):e},c.target=function(e){return arguments.length?(t=e,c):t},c.context=function(e){return arguments.length?(l=null==e?null:e,c):l},c};r.d(t,"chord",function(){return u}),r.d(t,"ribbon",function(){return v})},281:function(e,t,r){"use strict";function n(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i=n(r(288)),a=n(r(267)),s=r(1),l=n(s),c=n(r(224)),u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},f=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},h=o.shape({on:o.oneOfType([o.oneOf(["hover"])]).isRequired,style:o.shape({itemTextColor:o.string,itemBackground:o.string,itemOpacity:o.number,symbolSize:o.number,symbolBorderWidth:o.number,symbolBorderColor:o.string}).isRequired}),m={symbolShape:o.oneOfType([o.string,o.func]),symbolSize:o.number,symbolSpacing:o.number,symbolBorderWidth:o.number,symbolBorderColor:o.string},g={onClick:o.func,onMouseEnter:o.func,onMouseLeave:o.func},b=o.shape({id:o.oneOfType([o.string,o.number]).isRequired,label:o.oneOfType([o.string,o.number]).isRequired,color:o.string.isRequired,fill:o.string}),y=d({data:o.arrayOf(b),anchor:o.oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:o.number,translateY:o.number,direction:o.oneOf(["row","column"]).isRequired,itemsSpacing:o.number,itemWidth:o.number.isRequired,itemHeight:o.number.isRequired,itemDirection:o.oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:o.string,itemBackground:o.string,itemOpacity:o.number},m,g,{effects:o.arrayOf(h)}),v={top:0,right:0,bottom:0,left:0},O=function(e){var t=e.itemCount,r=e.itemWidth,n=e.itemHeight,o=e.direction,s=e.itemsSpacing,l=e.padding,c=void 0;if(i(l))c={top:l,right:l,bottom:l,left:l};else{if(!a(l))throw new TypeError("Invalid property padding, must be one of: number, object");c=d({},v,l)}var u=c.left+c.right,p=c.top+c.bottom,f=r+u,h=n+p,m=(t-1)*s;return"row"===o?f=r*t+m+u:"column"===o&&(h=n*t+m+p),{width:f,height:h,padding:c}},R=function(e){var t=e.anchor,r=e.translateX,n=e.translateY,o=e.containerWidth,i=e.containerHeight,a=e.width,s=e.height,l=r,c=n;switch(t){case"top":l+=(o-a)/2;break;case"top-right":l+=o-a;break;case"right":l+=o-a,c+=(i-s)/2;break;case"bottom-right":l+=o-a,c+=i-s;break;case"bottom":l+=(o-a)/2,c+=i-s;break;case"bottom-left":c+=i-s;break;case"left":c+=(i-s)/2;break;case"center":l+=(o-a)/2,c+=(i-s)/2}return{x:l,y:c}},C=function(e){var t=e.direction,r=e.justify,n=e.symbolSize,o=e.symbolSpacing,i=e.width,a=e.height,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,p=void 0;switch(t){case"left-to-right":s=0,l=(a-n)/2,u=a/2,p="middle",!0===r?(c=i,d="end"):(c=n+o,d="start");break;case"right-to-left":s=i-n,l=(a-n)/2,u=a/2,p="middle",!0===r?(c=0,d="start"):(c=i-n-o,d="end");break;case"top-to-bottom":s=(i-n)/2,l=0,c=i/2,d="middle",!0===r?(u=a,p="baseline"):(u=n+o,p="hanging");break;case"bottom-to-top":s=(i-n)/2,l=a-n,c=i/2,d="middle",!0===r?(u=0,p="hanging"):(u=a-n-o,p="baseline")}return{symbolX:s,symbolY:l,labelX:c,labelY:u,labelAnchor:d,labelAlignment:p}},E={x:o.number.isRequired,y:o.number.isRequired,size:o.number.isRequired,fill:o.string.isRequired,borderWidth:o.number.isRequired,borderColor:o.string.isRequired},x={borderWidth:0,borderColor:"transparent"},T=function(e){function t(){return u(this,t),f(this,e.apply(this,arguments))}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.x,r=e.y,n=e.size,o=e.fill,i=e.borderWidth,a=e.borderColor;return l.createElement("circle",{r:n/2,cx:t+n/2,cy:r+n/2,fill:o,strokeWidth:i,stroke:a,style:{pointerEvents:"none"}})},t}(s.PureComponent);T.propTypes=d({},E),T.defaultProps=d({},x);var S=function(e){function t(){return u(this,t),f(this,e.apply(this,arguments))}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.x,r=e.y,n=e.size,o=e.fill,i=e.borderWidth,a=e.borderColor;return l.createElement("g",{transform:"translate("+t+","+r+")"},l.createElement("path",{d:"\n                    M"+n/2+" 0\n                    L"+.8*n+" "+n/2+"\n                    L"+n/2+" "+n+"\n                    L"+.2*n+" "+n/2+"\n                    L"+n/2+" 0\n                ",fill:o,strokeWidth:i,stroke:a,style:{pointerEvents:"none"}}))},t}(s.PureComponent);S.propTypes=d({},E),S.defaultProps=d({},x);var A=function(e){function t(){return u(this,t),f(this,e.apply(this,arguments))}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.x,r=e.y,n=e.size,o=e.fill,i=e.borderWidth,a=e.borderColor;return l.createElement("rect",{x:t,y:r,fill:o,strokeWidth:i,stroke:a,width:n,height:n,style:{pointerEvents:"none"}})},t}(s.PureComponent);A.propTypes=d({},E),A.defaultProps=d({},x);var _=function(e){function t(){return u(this,t),f(this,e.apply(this,arguments))}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.x,r=e.y,n=e.size,o=e.fill,i=e.borderWidth,a=e.borderColor;return l.createElement("g",{transform:"translate("+t+","+r+")"},l.createElement("path",{d:"\n                M"+n/2+" 0\n                L"+n+" "+n+"\n                L0 "+n+"\n                L"+n/2+" 0\n            ",fill:o,strokeWidth:i,stroke:a,style:{pointerEvents:"none"}}))},t}(s.PureComponent);_.propTypes=d({},E),_.defaultProps=d({},x);var k={circle:T,diamond:S,square:A,triangle:_},q=function(e){function t(){var r,n;u(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=f(this,e.call.apply(e,[this].concat(i))),n.state={style:{}},n.handleClick=function(e){var t=n.props,r=t.onClick,o=t.data;void 0!==r&&r(o,e)},n.handleMouseEnter=function(e){var t=n.props,r=t.onMouseEnter,o=t.data,i=t.effects;if(i.length>0){var a=i.filter(function(e){return"hover"===e.on}).reduce(function(e,t){return d({},e,t.style)},{});n.setState({style:a})}void 0!==r&&r(o,e)},n.handleMouseLeave=function(){var e=n.props,t=e.onMouseLeave,r=e.data,o=e.effects;if(o.length>0){var i=o.filter(function(e){return"hover"!==e.on}).reduce(function(e,t){return d({},e,t.style)},{});n.setState({style:i})}void 0!==t&&t(r,event)},f(n,r)}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.x,r=e.y,n=e.width,o=e.height,i=e.data,a=e.direction,s=e.justify,u=e.textColor,p=e.background,f=e.opacity,h=e.symbolShape,m=e.symbolSize,g=e.symbolSpacing,b=e.symbolBorderWidth,y=e.symbolBorderColor,v=e.onClick,O=e.onMouseEnter,R=e.onMouseLeave,E=e.theme,x=this.state.style,T=C({direction:a,justify:s,symbolSize:x.symbolSize||m,symbolSpacing:g,width:n,height:o}),S=T.symbolX,A=T.symbolY,_=T.labelX,q=T.labelY,w=T.labelAnchor,P=T.labelAlignment,I=[v,O,R].some(function(e){return void 0!==e}),M=void 0;return M=c(h)?h:k[h],l.createElement("g",{transform:"translate("+t+","+r+")",style:{opacity:void 0!==x.itemOpacity?x.itemOpacity:f}},l.createElement("rect",{width:n,height:o,fill:x.itemBackground||p,style:{cursor:I?"pointer":"auto"},onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),l.createElement(M,{x:S,y:A,size:x.symbolSize||m,fill:i.fill||i.color,borderWidth:void 0!==x.symbolBorderWidth?x.symbolBorderWidth:b,borderColor:x.symbolBorderColor||y}),l.createElement("text",{textAnchor:w,style:d({},E.legends.text,{fill:x.itemTextColor||u,alignmentBaseline:P,pointerEvents:"none",userSelect:"none"}),x:_,y:q},i.label))},t}(s.Component);q.propTypes=d({data:b.isRequired,x:o.number.isRequired,y:o.number.isRequired,width:o.number.isRequired,height:o.number.isRequired,textColor:o.string,background:o.string,opacity:o.number,direction:o.oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]).isRequired,justify:o.bool.isRequired},m,g),q.defaultProps={direction:"left-to-right",justify:!1,textColor:"black",background:"transparent",opacity:1,symbolShape:"square",symbolSize:16,symbolSpacing:8,symbolBorderWidth:0,symbolBorderColor:"transparent",effects:[]};var w=function(e){var t=e.data,r=e.x,n=e.y,o=e.direction,i=e.padding,a=e.justify,s=e.effects,c=e.itemWidth,u=e.itemHeight,d=e.itemDirection,p=e.itemsSpacing,f=e.itemTextColor,h=e.itemBackground,m=e.itemOpacity,g=e.symbolShape,b=e.symbolSize,y=e.symbolSpacing,v=e.symbolBorderWidth,R=e.symbolBorderColor,C=e.onClick,E=e.onMouseEnter,x=e.onMouseLeave,T=e.theme,S=O({itemCount:t.length,itemWidth:c,itemHeight:u,itemsSpacing:p,direction:o,padding:i}).padding,A=0,_=0;return"row"===o?A=c+p:"column"===o&&(_=u+p),l.createElement("g",{transform:"translate("+r+","+n+")"},t.map(function(e,t){return l.createElement(q,{key:t,data:e,x:t*A+S.left,y:t*_+S.top,width:c,height:u,direction:d,justify:a,effects:s,textColor:f,background:h,opacity:m,symbolShape:g,symbolSize:b,symbolSpacing:y,symbolBorderWidth:v,symbolBorderColor:R,onClick:C,onMouseEnter:E,onMouseLeave:x,theme:T})}))};w.propTypes=d({data:o.arrayOf(b).isRequired,x:o.number.isRequired,y:o.number.isRequired,direction:o.oneOf(["column","row"]).isRequired,padding:o.oneOfType([o.number,o.shape({top:o.number,right:o.number,bottom:o.number,left:o.number})]).isRequired,justify:o.bool.isRequired,itemsSpacing:o.number.isRequired,itemWidth:o.number.isRequired,itemHeight:o.number.isRequired,itemDirection:o.oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]).isRequired,itemTextColor:o.string.isRequired,itemBackground:o.string.isRequired,itemOpacity:o.number.isRequired},m,g),w.defaultProps={padding:0,justify:!1,itemsSpacing:0,itemDirection:"left-to-right",itemTextColor:"black",itemBackground:"transparent",itemOpacity:1};var P=function(e){var t=e.data,r=e.containerWidth,n=e.containerHeight,o=e.translateX,i=e.translateY,a=e.anchor,s=e.direction,c=e.padding,u=e.justify,d=e.itemsSpacing,p=e.itemWidth,f=e.itemHeight,h=e.itemDirection,m=e.itemTextColor,g=e.itemBackground,b=e.itemOpacity,y=e.symbolShape,v=e.symbolSize,C=e.symbolSpacing,E=e.symbolBorderWidth,x=e.symbolBorderColor,T=e.onClick,S=e.onMouseEnter,A=e.onMouseLeave,_=e.effects,k=e.theme,q=O({itemCount:t.length,itemsSpacing:d,itemWidth:p,itemHeight:f,direction:s,padding:c}),P=q.width,I=q.height,M=R({anchor:a,translateX:o,translateY:i,containerWidth:r,containerHeight:n,width:P,height:I}),j=M.x,B=M.y;return l.createElement(w,{data:t,x:j,y:B,direction:s,padding:c,justify:u,effects:_,itemsSpacing:d,itemWidth:p,itemHeight:f,itemDirection:h,itemTextColor:m,itemBackground:g,itemOpacity:b,symbolShape:y,symbolSize:v,symbolSpacing:C,symbolBorderWidth:E,symbolBorderColor:x,onClick:T,onMouseEnter:S,onMouseLeave:A,theme:k})};P.propTypes=d({data:o.arrayOf(b).isRequired,containerWidth:o.number.isRequired,containerHeight:o.number.isRequired,translateX:o.number.isRequired,translateY:o.number.isRequired,anchor:o.oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,direction:o.oneOf(["row","column"]).isRequired,padding:o.oneOfType([o.number,o.shape({top:o.number,right:o.number,bottom:o.number,left:o.number})]).isRequired,justify:o.bool,itemWidth:o.number.isRequired,itemHeight:o.number.isRequired,itemDirection:o.oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemsSpacing:o.number.isRequired,itemTextColor:o.string,itemBackground:o.string,itemOpacity:o.number},m,g),P.defaultProps={translateX:0,translateY:0,itemsSpacing:w.defaultProps.itemsSpacing,padding:w.defaultProps.padding};var I={align:{start:"left",middle:"center",end:"right"},baseline:{hanging:"top",middle:"middle",baseline:"bottom"}};t.BoxLegendSvg=P,t.LegendSvg=w,t.LegendSvgItem=q,t.renderLegendToCanvas=function(e,t){var r=t.data,n=t.containerWidth,o=t.containerHeight,i=t.translateX,a=void 0===i?P.defaultProps.translateX:i,s=t.translateY,l=void 0===s?P.defaultProps.translateY:s,c=t.anchor,u=t.direction,d=t.padding,p=void 0===d?w.defaultProps.padding:d,f=t.justify,h=void 0===f?q.defaultProps.justify:f,m=t.itemsSpacing,g=void 0===m?w.defaultProps.itemsSpacing:m,b=t.itemWidth,y=t.itemHeight,v=t.itemDirection,E=void 0===v?q.defaultProps.direction:v,x=t.itemTextColor,T=void 0===x?w.defaultProps.textColor:x,S=t.symbolSize,A=void 0===S?q.defaultProps.symbolSize:S,_=t.symbolSpacing,k=void 0===_?q.defaultProps.symbolSpacing:_,M=O({itemCount:r.length,itemWidth:b,itemHeight:y,itemsSpacing:g,direction:u,padding:p}),j=M.width,B=M.height,L=M.padding,H=R({anchor:c,translateX:a,translateY:l,containerWidth:n,containerHeight:o,width:j,height:B}),N=H.x,W=H.y,D=0,U=0;"row"===u?D=b+g:"column"===u&&(U=y+g),e.save(),e.translate(N,W),r.forEach(function(t,r){var n=r*D+L.left,o=r*U+L.top,i=C({direction:E,justify:h,symbolSize:A,symbolSpacing:k,width:b,height:y}),a=i.symbolX,s=i.symbolY,l=i.labelX,c=i.labelY,u=i.labelAnchor,d=i.labelAlignment;e.fillStyle=t.color,e.fillRect(n+a,o+s,A,A),e.textAlign=I.align[u],e.textBaseline=I.baseline[d],e.fillStyle=T,e.fillText(t.label,n+l,o+c)}),e.restore()},t.DIRECTION_ROW="row",t.DIRECTION_COLUMN="column",t.ANCHOR_TOP="top",t.ANCHOR_TOP_RIGHT="top-right",t.ANCHOR_RIGHT="right",t.ANCHOR_BOTTOM_RIGHT="bottom-right",t.ANCHOR_BOTTOM="bottom",t.ANCHOR_BOTTOM_LEFT="bottom-left",t.ANCHOR_LEFT="left",t.ANCHOR_TOP_LEFT="top-left",t.ANCHOR_CENTER="center",t.DIRECTION_LEFT_TO_RIGHT="left-to-right",t.DIRECTION_RIGHT_TO_LEFT="right-to-left",t.DIRECTION_TOP_TO_BOTTOM="top-to-bottom",t.DIRECTION_BOTTOM_TO_TOP="bottom-to-top",t.legendEffectPropType=h,t.symbolPropTypes=m,t.interactivityPropTypes=g,t.datumPropType=b,t.LegendPropShape=y},311:function(e,t,r){var n=r(339),o=r(196);e.exports=function(e,t){return e&&n(e,t,o)}},585:function(e,t,r){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(1);i(r(206)),i(r(243));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(e,t,r){return function(i){var s=(0,o.createFactory)(i);return function(o){function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var n=arguments.length,s=Array(n),l=0;l<n;l++)s[l]=arguments[l];return e=t=a(this,o.call.apply(o,[this].concat(s))),t.state={stateValue:"function"===typeof r?r(t.props):r},t.updateStateValue=function(e,r){return t.setState(function(t){var r=t.stateValue;return{stateValue:"function"===typeof e?e(r):e}},r)},a(t,e)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),i.prototype.render=function(){var r;return s(n({},this.props,((r={})[e]=this.state.stateValue,r[t]=this.updateStateValue,r)))},i}(o.Component)}}},808:function(e,t,r){e.exports=r(809)},809:function(e,t,r){"use strict";(function(e){function n(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i=r(242),a=r(237),s=n(r(234)),l=n(r(260)),c=n(r(585)),u=n(r(235)),d=n(r(233)),p=r(238),f=r(265),h=r(1),m=n(h),g=n(r(224)),b=n(r(810)),y=r(258),v=r(192),O=n(r(206)),R=n(r(811)),C={matrix:o.arrayOf(o.arrayOf(o.number)).isRequired,keys:o.arrayOf(o.string).isRequired,padAngle:o.number.isRequired,innerRadiusRatio:o.number.isRequired,innerRadiusOffset:o.number.isRequired,arcOpacity:o.number.isRequired,arcBorderWidth:o.number.isRequired,arcBorderColor:o.any.isRequired,getArcBorderColor:o.func.isRequired,ribbonOpacity:o.number.isRequired,ribbonBorderWidth:o.number.isRequired,ribbonBorderColor:o.any.isRequired,ribbonBlendMode:i.blendModePropType.isRequired,getRibbonBorderColor:o.func.isRequired,enableLabel:o.bool.isRequired,label:o.oneOfType([o.string,o.func]).isRequired,getLabel:o.func.isRequired,labelOffset:o.number.isRequired,labelRotation:o.number.isRequired,labelTextColor:o.oneOfType([o.string,o.func]).isRequired,getLabelTextColor:o.func.isRequired,colors:o.any.isRequired,isInteractive:o.bool.isRequired,arcHoverOpacity:o.number.isRequired,arcHoverOthersOpacity:o.number.isRequired,ribbonHoverOpacity:o.number.isRequired,ribbonHoverOthersOpacity:o.number.isRequired,tooltipFormat:o.oneOfType([o.func,o.string]),pixelRatio:o.number.isRequired,legends:o.arrayOf(o.shape(a.LegendPropShape)).isRequired},E={padAngle:0,innerRadiusRatio:.9,innerRadiusOffset:0,arcOpacity:1,arcBorderWidth:1,arcBorderColor:"inherit:darker(0.4)",ribbonOpacity:.5,ribbonBorderWidth:1,ribbonBorderColor:"inherit:darker(0.4)",ribbonBlendMode:"normal",enableLabel:!0,label:"id",labelOffset:12,labelRotation:0,labelTextColor:"inherit:darker(1)",colors:"nivo",isInteractive:!0,arcHoverOpacity:1,arcHoverOthersOpacity:.15,ribbonHoverOpacity:.85,ribbonHoverOthersOpacity:.15,pixelRatio:e.window&&e.window.devicePixelRatio?e.window.devicePixelRatio:1,legends:[]},x=function(e){return s(l(E),c("currentArc","setCurrentArc",null),c("currentRibbon","setCurrentRibbon",null),i.withMotion(),i.withTheme(),i.withDimensions(),u(["label"],function(e){var t=e.label;return{getLabel:i.getLabelGenerator(t)}}),u(["padAngle"],function(e){var t=e.padAngle;return{chord:f.chord().padAngle(t)}}),u(["labelTextColor"],function(e){var t=e.labelTextColor;return{getLabelTextColor:i.getInheritedColorGenerator(t,"labels.textColor")}}),u(["colors","keys"],function(e){var t=e.colors,r=e.keys,n=i.getColorRange(t);return{colorById:r.reduce(function(e,t){return e[t]=n(t),e},{})}}),u(["width","height","innerRadiusRatio","innerRadiusOffset"],function(e){var t=e.width,r=e.height,n=e.innerRadiusRatio,o=e.innerRadiusOffset,i=Math.min(t,r)/2,a=i*n,s=i*(n-o);return{radius:i,innerRadius:a,arcGenerator:p.arc().outerRadius(i).innerRadius(a),ribbonGenerator:f.ribbon().radius(s)}}),u(["arcOpacity","ribbonOpacity"],function(e){var t=e.arcOpacity,r=e.ribbonOpacity;return{getArcOpacity:function(){return t},getRibbonOpacity:function(){return r}}}),u(["isInteractive","currentArc","arcHoverOpacity","arcHoverOthersOpacity","currentRibbon","ribbonHoverOpacity","ribbonHoverOthersOpacity"],function(e){var t=e.isInteractive,r=e.currentArc,n=e.arcHoverOpacity,o=e.arcHoverOthersOpacity,i=e.currentRibbon,a=e.ribbonHoverOpacity,s=e.ribbonHoverOthersOpacity;if(!t||!r&&!i)return null;var l=void 0,c=void 0;return t&&(r?(l=function(e){return e.id===r.id?n:o},c=function(e){return e.source.id===r.id||e.target.id===r.id?a:s}):i&&(l=function(e){return e.id===i.source.id||e.id===i.target.id?n:o},c=function(e){return e.source.id===i.source.id&&e.target.id===i.target.id?a:s})),{getArcOpacity:l,getRibbonOpacity:c}}),u(["chord","colorById","matrix","keys"],function(e){var t=e.chord,r=e.colorById,n=e.matrix,o=e.keys,i=t(n);i.forEach(function(e){e.source.id=o[e.source.index],e.source.color=r[e.source.id],e.target.id=o[e.target.index],e.target.color=r[e.target.id];var t=[e.source.id,e.target.id];t.sort(),e.key=t.sort().join(".")});var a=i.groups.map(function(e){return e.key=e.id=o[e.index],e.color=r[e.id],e});return{ribbons:i,arcs:a}}),u(["arcBorderColor"],function(e){var t=e.arcBorderColor;return{getArcBorderColor:i.getInheritedColorGenerator(t)}}),u(["ribbonBorderColor"],function(e){var t=e.ribbonBorderColor;return{getRibbonBorderColor:i.getInheritedColorGenerator(t)}}),d)(e)},T=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},_=function(e,t,r){var n=e.source,o=e.target,a=void 0,s=void 0;n.startAngle<o.startAngle?(a=n,s=o):(a=o,s=n);var l=void 0;if(!0===t){var c=i.midAngle(a),u=i.midAngle(s);l={sourceStartAngle:c,sourceEndAngle:c,targetStartAngle:u,targetEndAngle:u}}else l={sourceStartAngle:a.startAngle,sourceEndAngle:a.endAngle,targetStartAngle:s.startAngle,targetEndAngle:s.endAngle};return r?b(l,function(e){return y.spring(e,r)}):l},k=function(e){var t=e.data;return S({},_(t,!0),{opacity:0},i.colorMotionSpring(t.source.color))},q=function(e){return function(t){var r=t.data;return S({},_(r,!0,e),{opacity:0},i.colorMotionSpring(r.source.color,e))}},w=function(e){var t=e.ribbons,r=e.shapeGenerator,n=e.borderWidth,o=e.getBorderColor,a=e.getOpacity,s=e.blendMode,l=e.theme,c=e.tooltipFormat,u=e.setCurrent,d=e.showTooltip,p=e.hideTooltip,f=e.animate,h=e.motionDamping,g=e.motionStiffness,b=function(e){var t=m.createElement(i.TableTooltip,{theme:l,rows:[[m.createElement(i.Chip,{key:"chip",color:e.source.color}),m.createElement("strong",{key:"id"},e.source.id),c?c(e.source.value):e.source.value],[m.createElement(i.Chip,{key:"chip",color:e.target.color}),m.createElement("strong",{key:"id"},e.target.id),c?c(e.target.value):e.target.value]]});return{strokeWidth:n,onMouseEnter:function(r){u(e),d(t,r)},onMouseMove:function(e){d(t,e)},onMouseLeave:function(){u(null),p()}}};if(!0!==f)return m.createElement("g",null,t.map(function(e){var t=a(e);return m.createElement("path",S({key:e.key,d:r(e),fill:e.source.color,fillOpacity:t,stroke:o(S({},e,{color:e.source.color})),strokeOpacity:t,style:{mixBlendMode:s}},b(e)))}));var v={damping:h,stiffness:g,precision:.001};return m.createElement(y.TransitionMotion,{willEnter:k,willLeave:q(v),styles:t.map(function(e){return{key:e.key,data:e,style:S({},_(e,!1,v),{opacity:y.spring(a(e),v)},i.colorMotionSpring(e.source.color,v))}})},function(e){return m.createElement("g",null,e.map(function(e){var t=e.key,n=e.style,a=e.data,l=i.getInterpolatedColor(n);return m.createElement("path",S({key:t,d:r({source:{startAngle:n.sourceStartAngle,endAngle:Math.max(n.sourceEndAngle,n.sourceStartAngle)},target:{startAngle:n.targetStartAngle,endAngle:Math.max(n.targetEndAngle,n.targetStartAngle)}}),fill:l,fillOpacity:n.opacity,stroke:o(S({},a,{color:l})),strokeOpacity:n.opacity,style:{mixBlendMode:s}},b(a)))}))})};w.propTypes=S({ribbons:o.array.isRequired,shapeGenerator:o.func.isRequired,borderWidth:o.number.isRequired,getBorderColor:o.func.isRequired,getOpacity:o.func.isRequired,blendMode:i.blendModePropType.isRequired,setCurrent:o.func.isRequired,theme:o.object.isRequired,showTooltip:o.func.isRequired,hideTooltip:o.func.isRequired,tooltipFormat:o.oneOfType([o.func,o.string])},i.motionPropTypes);var P=s(u(["tooltipFormat"],function(e){var t=e.tooltipFormat;return!t||g(t)?{tooltipFormat:t}:{tooltipFormat:v.format(t)}}),d)(w),I=function(e){var t=e.arc,r=e.theme,n=e.format;return m.createElement(i.BasicTooltip,{id:t.id,value:t.value,color:t.color,enableChip:!0,theme:r,format:n})};I.propTypes={arc:o.object.isRequired,theme:o.object.isRequired,format:o.func};var M=d(I),j=function(e){var t=e.arcs,r=e.borderWidth,n=e.getBorderColor,o=e.getOpacity,a=e.shapeGenerator,s=e.theme,l=e.tooltipFormat,c=e.setCurrent,u=e.showTooltip,d=e.hideTooltip,p=e.animate,f=e.motionDamping,h=e.motionStiffness,g=function(e){var t=m.createElement(M,{arc:e,theme:s,format:l});return{strokeWidth:r,onMouseEnter:function(r){c(e),u(t,r)},onMouseMove:function(e){u(t,e)},onMouseLeave:function(){c(null),d()}}};if(!0!==p)return m.createElement("g",null,t.map(function(e){var t=o(e);return m.createElement("path",S({key:e.key,d:a(e),fill:e.color,fillOpacity:t,stroke:n(e),strokeOpacity:t},g(e)))}));var b={damping:f,stiffness:h,precision:.001};return m.createElement(y.TransitionMotion,{styles:t.map(function(e){return{key:e.key,data:e,style:S({startAngle:y.spring(e.startAngle,b),endAngle:y.spring(e.endAngle,b),opacity:y.spring(o(e),b)},i.colorMotionSpring(e.color,b))}})},function(e){return m.createElement("g",null,e.map(function(e){var t=e.key,r=e.style,o=e.data,s=i.getInterpolatedColor(r);return m.createElement("path",S({key:t,d:a({startAngle:r.startAngle,endAngle:r.endAngle}),fill:s,fillOpacity:r.opacity,stroke:n(S({},o,{color:s})),strokeOpacity:r.opacity},g(o)))}))})};j.propTypes=S({arcs:o.array.isRequired,shapeGenerator:o.func.isRequired,borderWidth:o.number.isRequired,getBorderColor:o.func.isRequired,getOpacity:o.func.isRequired,setCurrent:o.func.isRequired,theme:o.object.isRequired,showTooltip:o.func.isRequired,hideTooltip:o.func.isRequired,tooltipFormat:o.oneOfType([o.func,o.string])},i.motionPropTypes);var B=d(j),L=function(e){var t=e.arcs,r=e.radius,n=e.rotation,o=e.getLabel,a=e.getColor,s=e.theme,l=e.animate,c=e.motionDamping,u=e.motionStiffness;if(!0!==l)return m.createElement("g",null,t.map(function(e){var t=a(e,s),l=i.midAngle(e),c=i.getPolarLabelProps(r,l,n);return m.createElement("text",{key:e.key,transform:"translate("+c.x+", "+c.y+") rotate("+c.rotate+")",style:S({},s.labels.text,{pointerEvents:"none",fill:t}),textAnchor:c.align,alignmentBaseline:c.baseline},o(e))}));var d={damping:c,stiffness:u};return m.createElement(y.TransitionMotion,{styles:t.map(function(e){var t=i.midAngle(e);return{key:e.key,data:e,style:{angle:y.spring(t,d)}}})},function(e){return m.createElement("g",null,e.map(function(e){var t=e.key,l=e.style,c=e.data,u=a(c,s),d=i.getPolarLabelProps(r,l.angle,n);return m.createElement("text",{key:t,transform:"translate("+d.x+", "+d.y+") rotate("+d.rotate+")",style:S({},s.labels.text,{pointerEvents:"none",fill:u}),textAnchor:d.align,alignmentBaseline:d.baseline},o(c))}))})};L.propTypes=S({arcs:o.array.isRequired,radius:o.number.isRequired,rotation:o.number.isRequired,getLabel:o.func.isRequired,getColor:o.func.isRequired,theme:o.object.isRequired},i.motionPropTypes);var H=function(e){var t=e.margin,r=e.width,n=e.height,o=e.outerWidth,s=e.outerHeight,l=e.arcBorderWidth,c=e.getArcBorderColor,u=e.ribbonBorderWidth,d=e.ribbonBlendMode,p=e.getRibbonBorderColor,f=e.enableLabel,h=e.getLabel,g=e.labelOffset,b=e.labelRotation,y=e.getLabelTextColor,v=e.arcGenerator,O=e.ribbonGenerator,R=e.theme,C=e.isInteractive,E=e.tooltipFormat,x=e.animate,T=e.motionDamping,A=e.motionStiffness,_=e.ribbons,k=e.arcs,q=e.radius,w=e.setCurrentArc,I=e.setCurrentRibbon,M=e.getArcOpacity,j=e.getRibbonOpacity,H=e.legends,N=r/2,W=n/2,D={animate:x,motionDamping:T,motionStiffness:A},U=k.map(function(e){return{id:e.id,label:e.id,color:e.color}});return m.createElement(i.Container,{isInteractive:C,theme:R},function(e){var C=e.showTooltip,x=e.hideTooltip;return m.createElement(i.SvgWrapper,{width:o,height:s,margin:t,theme:R},q>0&&m.createElement("g",{transform:"translate("+N+", "+W+")"},q>0&&m.createElement(P,S({ribbons:_,shapeGenerator:O,borderWidth:u,getBorderColor:p,getOpacity:j,blendMode:d,setCurrent:I,theme:R,tooltipFormat:E,showTooltip:C,hideTooltip:x},D)),m.createElement(B,S({arcs:k,shapeGenerator:v,borderWidth:l,getBorderColor:c,getOpacity:M,setCurrent:w,theme:R,tooltipFormat:E,showTooltip:C,hideTooltip:x},D)),f&&m.createElement(L,S({arcs:k,radius:q+g,rotation:b,getLabel:h,getColor:y,theme:R},D))),H.map(function(e,t){return m.createElement(a.BoxLegendSvg,S({key:t},e,{containerWidth:r,containerHeight:n,data:U,theme:R}))}))})};H.propTypes=C;var N=O("Chord")(x(H)),W=function(e){function t(){var r,n;T(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=A(this,e.call.apply(e,[this].concat(a))),n.handleMouseHover=function(e,t,r){if(!0===n.props.isInteractive){var o=i.getRelativeCursor(n.surface,r),a=o[0],s=o[1],l=n.props,c=l.width,u=l.height,d=l.margin,p=l.radius,f=l.innerRadius,h=l.arcs,g=l.setCurrentArc,b=l.theme,y=c/2+d.left,v=u/2+d.top,O=i.getHoveredArc(y,v,p,f,h,a,s);O?(g(O),e(m.createElement(M,{arc:O,theme:b}),r)):(g(null),t())}},n.handleMouseLeave=function(e){!0===n.props.isInteractive&&(n.props.setCurrentArc(null),e())},A(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)},t.prototype.shouldComponentUpdate=function(e){return this.props.outerWidth!==e.outerWidth||this.props.outerHeight!==e.outerHeight||this.props.isInteractive!==e.isInteractive||this.props.theme!==e.theme||(this.draw(e),!1)},t.prototype.componentDidUpdate=function(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)},t.prototype.draw=function(e){var t=this,r=e.pixelRatio,n=e.width,o=e.height,a=e.margin,s=e.outerWidth,l=e.outerHeight,c=e.enableLabel,u=e.getLabel,d=e.labelOffset,p=e.labelRotation,f=e.getLabelTextColor,h=e.arcGenerator,m=e.ribbonGenerator,g=e.theme,b=e.ribbons,y=e.arcs,v=e.radius,O=e.getArcOpacity,R=e.getRibbonOpacity;this.surface.width=s*r,this.surface.height=l*r,this.ctx.scale(r,r);var C=n/2+a.left,E=o/2+a.top;this.ctx.fillStyle=g.background,this.ctx.fillRect(0,0,s,l),v<=0||(this.ctx.translate(C,E),this.ctx.font=g.labels.text.fontSize+"px "+(g.labels.text.fontFamily||"sans-serif"),m.context(this.ctx),b.forEach(function(e){t.ctx.save(),t.ctx.globalAlpha=R(e),t.ctx.beginPath(),m(e),t.ctx.fillStyle=e.source.color,t.ctx.fill(),t.ctx.restore()}),h.context(this.ctx),y.forEach(function(e){if(t.ctx.save(),t.ctx.globalAlpha=O(e),t.ctx.beginPath(),h(e),t.ctx.fillStyle=e.color,t.ctx.fill(),t.ctx.restore(),c){var r=f(e,g),n=i.midAngle(e),o=i.getPolarLabelProps(v+d,n,p);t.ctx.save(),t.ctx.translate(o.x,o.y),t.ctx.rotate(i.degreesToRadians(o.rotate)),t.ctx.textAlign=o.align,t.ctx.textBaseline=o.baseline,t.ctx.fillStyle=r,t.ctx.fillText(u(e),0,0),t.ctx.restore()}}))},t.prototype.render=function(){var e=this,t=this.props,r=t.outerWidth,n=t.outerHeight,o=t.pixelRatio,a=t.isInteractive,s=t.theme;return m.createElement(i.Container,{isInteractive:a,theme:s},function(t){var i=t.showTooltip,a=t.hideTooltip;return m.createElement("canvas",{ref:function(t){e.surface=t},width:r*o,height:n*o,style:{width:r,height:n},onMouseEnter:R(e.handleMouseHover,i,a),onMouseMove:R(e.handleMouseHover,i,a),onMouseLeave:R(e.handleMouseLeave,a)})})},t}(h.Component);W.propTypes=C;var D=x(W);t.Chord=N,t.ChordCanvas=D,t.ResponsiveChord=function(e){return m.createElement(i.ResponsiveWrapper,null,function(t){var r=t.width,n=t.height;return m.createElement(N,S({width:r,height:n},e))})},t.ResponsiveChordCanvas=function(e){return m.createElement(i.ResponsiveWrapper,null,function(t){var r=t.width,n=t.height;return m.createElement(D,S({width:r,height:n},e))})},t.ChordPropTypes=C,t.ChordDefaultProps=E}).call(this,r(67))},810:function(e,t,r){var n=r(420),o=r(311),i=r(219);e.exports=function(e,t){var r={};return t=i(t,3),o(e,function(e,o,i){n(r,o,t(e,o,i))}),r}},811:function(e,t,r){var n=r(333),o=r(643),i=r(417),a=r(338),s=n(function(e,t){var r=a(t,i(s));return o(e,32,void 0,t,r)});s.placeholder={},e.exports=s},880:function(e,t,r){"use strict";r.r(t);var n=r(27),o=r(28),i=r(30),a=r(29),s=r(198),l=r(31),c=r(1),u=r.n(c),d=r(188),p=r(208),f=r(808),h=function(){function e(t){Object(n.a)(this,e);var r="MATCH (dependent_package:Package)-[:CONTAINS]->(dependent:Type)-[depends:DEPENDS_ON]->(dependency:Type)<-[:CONTAINS]-(dependency_package:Package) WHERE (dependent)-[:HAS_SOURCE]->(:File) AND (dependency)-[:HAS_SOURCE]->(:File) WITH dependent_package.fqn as dependent, dependency_package.fqn as dependency, count(dependency) as dependencies  RETURN  dependent , dependency, dependencies ORDER BY dependent, dependency";localStorage.setItem("dependencies_original_query",r),this.state={queryString:r},localStorage.getItem("dependencies_expert_query")?this.state.queryString=localStorage.getItem("dependencies_expert_query"):localStorage.setItem("dependencies_expert_query",this.state.queryString)}return Object(o.a)(e,[{key:"readDependencies",value:function(e){var t=[],r=[],n=[];d.d.run(this.state.queryString).then(function(e){e.records.forEach(function(e){var r={dependent:e.get("dependent"),dependency:e.get("dependency"),dependencies:e.get("dependencies").low};t[r.dependent]||(t[r.dependent]=[]),t[r.dependent][r.dependency]=r.dependencies})}).then(function(e){var n=0;for(var o in t)r[n++]=o}).then(function(e){for(var o in r){var i=[],a=t[r[o]];for(var s in r)a[r[s]]?i.push(a[r[s]]):i.push(0);n.push(i)}}).then(function(t){e.setState({finalMatrixData:n,finalMatrixKeys:r})}).catch(function(e){console.log(e)})}}]),e}(),m=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(i.a)(this,Object(a.a)(t).call(this,e))).state={finalMatrixData:[],finalMatrixKeys:[]},r}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){(Object(s.a)(Object(a.a)(t.prototype),"componentDidMount",this).call(this),d.b)&&(new h).readDependencies(this)}},{key:"handleAction",value:function(e){switch(e.action.actionType){case"EXPERT_QUERY":if(d.b)(new h).readDependencies(this);break;default:return!0}}},{key:"render",value:function(){var e=Object(s.a)(Object(a.a)(t.prototype),"render",this).call(this);return e.length>0?e:0===this.state.finalMatrixData.length?"":u.a.createElement("div",{className:"visualization-wrapper"},u.a.createElement("div",{style:{height:"700px"}},u.a.createElement(f.ResponsiveChord,{matrix:this.state.finalMatrixData,keys:this.state.finalMatrixKeys,margin:{top:170,right:170,bottom:170,left:170},padAngle:.02,innerRadiusRatio:.96,innerRadiusOffset:.02,arcOpacity:1,arcBorderWidth:1,arcBorderColor:"inherit:darker(0.4)",ribbonOpacity:.5,ribbonBorderWidth:1,ribbonBorderColor:"inherit:darker(0.4)",enableLabel:!0,label:"id",labelOffset:12,labelRotation:-90,labelTextColor:"inherit:darker(1)",colors:"nivo",isInteractive:!0,arcHoverOpacity:1,arcHoverOthersOpacity:.25,ribbonHoverOpacity:.75,ribbonHoverOthersOpacity:.01,animate:!0,motionStiffness:90,motionDamping:7})))}}]),t}(d.c),g=r(257),b=r(865),y=r(866),v=r(867),O=r(868),R=r(869),C=r(189),E=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(i.a)(this,Object(a.a)(t).call(this,e))).state={query:""},r}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){Object(s.a)(Object(a.a)(t.prototype),"componentDidMount",this).call(this),this.setState({query:localStorage.getItem("dependencies_expert_query")})}},{key:"clear",value:function(e){localStorage.setItem("dependencies_expert_query",localStorage.getItem("dependencies_original_query")),this.sendQuery(this)}},{key:"sendQuery",value:function(e){this.setState({query:localStorage.getItem("dependencies_expert_query")}),C.handleAction({actionType:"EXPERT_QUERY",data:{queryString:localStorage.getItem("dependencies_expert_query")}})}},{key:"updateStateQuery",value:function(e){localStorage.setItem("dependencies_expert_query",e)}},{key:"render",value:function(){var e=Object(s.a)(Object(a.a)(t.prototype),"render",this).call(this);return e.length>0?e:u.a.createElement("div",null,u.a.createElement(b.a,null,u.a.createElement(y.a,{xs:"12",sm:"12",md:"12"},u.a.createElement(v.a,null,u.a.createElement(p.a,{cardHeaderText:"Dependencies",showExpertMode:!0,placement:"bottom",target:"Popover1",popoverHeaderText:"Dependencies",popoverBody:"The dependency analysis view helps to assess the coupling and cohesion of a software system. Packages are arranged radially around a circle and the dependencies are drawn as arcs."}),u.a.createElement(O.a,null,u.a.createElement("div",{className:"expert-mode-editor hide-expert-mode"},u.a.createElement(g.CypherEditor,{className:"cypheredit",value:this.state.query,options:{mode:"cypher",theme:"cypher"},onValueChange:this.updateStateQuery.bind(this)}),u.a.createElement(R.a,{onClick:this.sendQuery.bind(this),className:"btn btn-success send-query float-right",color:"success",id:"send"},"Send"),u.a.createElement(R.a,{onClick:this.clear.bind(this),className:"btn btn-success send-query float-right margin-right",color:"danger",id:"reset"},"Reset")),u.a.createElement(m,null))))))}}]),t}(d.c);t.default=E}}]);
//# sourceMappingURL=13.bdb39bb9.chunk.js.map