(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{188:function(t,e,n){"use strict";n.d(e,"d",function(){return d}),n.d(e,"b",function(){return v}),n.d(e,"a",function(){return m});var r=n(27),i=n(28),o=n(30),a=n(29),s=n(31),u=n(1),l=n.n(u),c=n(181),h=n(189),f=(localStorage.getItem("connectionString"),localStorage.getItem("username"),localStorage.getItem("password"),null),p=null,d=null,v=!1,g=!0;function m(t,e){this.message=t,this.name=e}var y=function(t){function e(){return Object(r.a)(this,e),Object(o.a)(this,Object(a.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(i.a)(e,[{key:"componentWillMount",value:function(){return this.handleAction=this.handleAction.bind(this),this.setState({dispatcherEventId:h.register(this.handleAction)}),new Promise(e.checkForDatabaseConnection).then(this.testDatabaseCredentials())}},{key:"testDatabaseCredentials",value:function(){var t,e,r;if(t=localStorage.getItem("connectionString"),e=localStorage.getItem("username"),r=localStorage.getItem("password"),v)return this.refreshConnectionSettings(),f="undefined"!==typeof testrun?n(240):n(241),p=f.v1.driver("bolt://"+t,f.v1.auth.basic(e,r)),(d=p.session()).run("match (n) return n limit 1").then(function(){g=!0}).catch(function(t){throw g=!1,"",new m("Invalid database connection data","InvalidDatabaseConnectionException")})}},{key:"componentDidMount",value:function(){}},{key:"refreshConnectionSettings",value:function(){localStorage.getItem("connectionString"),localStorage.getItem("username"),localStorage.getItem("password")}},{key:"componentWillUnmount",value:function(){h.unregister(this.state.dispatcherEventId)}},{key:"handleAction",value:function(t){switch(t.action.actionType){case"SET_STATE":var e=t.action.data;this.setState(e)}}},{key:"render",value:function(){var t=[];if(!v||!g){console.log("No database credentials, redirecting to settings...");var e=window.location.protocol+"//"+window.location.host+"/#";"/settings"!==window.location.href.replace(e,"")&&t.push(l.a.createElement(c.a,{key:"dummy",to:"/settings"}))}return t}}],[{key:"checkForDatabaseConnection",value:function(){var t=localStorage.getItem("connectionString"),e=localStorage.getItem("password"),n=localStorage.getItem("username");if(!(v=null!==t&&""!==t&&null!==e&&""!==e&&null!==n&&""!==n)&&"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_IP&&"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_USERNAME&&"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_PASSWORD){localStorage.setItem("connectionString",Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_IP),localStorage.setItem("username",Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_USERNAME),localStorage.setItem("password",Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_PASSWORD);var r="My project";"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_PROJECT_NAME&&(r=Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_PROJECT_NAME),localStorage.setItem("projectName",r);var i="70";"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_LIMIT_COUNTING_HOTSPOTS&&(i=Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_LIMIT_COUNTING_HOTSPOTS),localStorage.setItem("limitCountingHotspots",i),v=!0}}}]),e}(u.Component);e.c=y},189:function(t,e,n){var r=new(0,n(239).Dispatcher);r.handleAction=function(t){this.dispatch({source:"VIEW_ACTION",action:t})},t.exports=r},208:function(t,e,n){"use strict";var r=n(27),i=n(28),o=n(30),a=n(29),s=n(31),u=n(68),l=n(1),c=n.n(l),h=n(860),f=n(861),p=n(862),d=n(863),v=n(864),g=n(13),m=n(222),y=n.n(m),_=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(o.a)(this,Object(a.a)(e).call(this,t))).state={tooltipOpen:[!1,!1],popoverOpen:!1,popovers:[{placement:"bottom",text:"Bottom"}]},n.toggleInfo=n.toggleInfo.bind(Object(u.a)(Object(u.a)(n))),n}return Object(s.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){y()(".expert-mode").each(function(){!1===y()(this).hasClass("expert-mode-set")&&(y()(this).on("change",function(){var t=y()(this).find("input").attr("id"),e=y()(".expert-mode-editor"),n=y()(".visualization-wrapper");"undefined"!==typeof t&&e.hasClass(t)&&(n=(e=y()(".expert-mode-editor."+t)).next(".visualization-wrapper")),e.hasClass("hide-expert-mode")?(e.removeClass("hide-expert-mode"),n.addClass("margin-top-50 margin-bottom-50"),e.parent(".card-body").addClass("height-auto")):(e.addClass("hide-expert-mode"),n.removeClass("margin-top-50 margin-bottom-50"),e.parent(".card-body").removeClass("height-auto"))}),y()(this).addClass("expert-mode-set"))})}},{key:"toggle",value:function(t){var e=this.state.tooltipOpen.map(function(e,n){return n===t&&!e});this.setState({tooltipOpen:e})}},{key:"toggleInfo",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"render",value:function(){var t=this,e=this.props.cardHeaderText,n=this.props.showExpertMode,r=this.props.placement,i=this.props.target,o=this.props.popoverHeaderText,a=this.props.popoverBody,s=e.toLowerCase().replace(/\s/g,"-").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""),u="";return n&&(u=c.a.createElement("div",{className:"float-left"},c.a.createElement("div",{id:"tooltip-"+s},c.a.createElement(g.j,{id:s,className:"mx-1 float-right display-block expert-mode "+s,color:"secondary",size:"sm",label:!0})),c.a.createElement(h.a,{placement:"top",isOpen:this.state.tooltipOpen[0],target:"tooltip-"+s,toggle:function(){t.toggle(0)}},"Toggle expert mode"))),c.a.createElement(f.a,null,e,c.a.createElement("div",{className:"card-actions"},u,c.a.createElement("button",{onClick:this.toggleInfo,id:i},c.a.createElement("i",{className:"text-muted fa fa-question-circle"})),c.a.createElement(h.a,{placement:"top",isOpen:this.state.tooltipOpen[1],target:i,toggle:function(){t.toggle(1)}},"Show details"),c.a.createElement(p.a,{placement:r,isOpen:this.state.popoverOpen,target:i,toggle:this.toggleInfo},c.a.createElement(d.a,null,o),c.a.createElement(v.a,null,a))))}}]),e}(l.Component);e.a=_},265:function(t,e,n){"use strict";n.r(e);var r=n(184),i=Math.cos,o=Math.sin,a=Math.PI,s=a/2,u=2*a,l=Math.max;var c=function(){var t=0,e=null,n=null,i=null;function o(o){var a,s,c,h,f,p,d=o.length,v=[],g=Object(r.h)(d),m=[],y=[],_=y.groups=new Array(d),b=new Array(d*d);for(a=0,f=-1;++f<d;){for(s=0,p=-1;++p<d;)s+=o[f][p];v.push(s),m.push(Object(r.h)(d)),a+=s}for(e&&g.sort(function(t,n){return e(v[t],v[n])}),n&&m.forEach(function(t,e){t.sort(function(t,r){return n(o[e][t],o[e][r])})}),h=(a=l(0,u-t*d)/a)?t:u/d,s=0,f=-1;++f<d;){for(c=s,p=-1;++p<d;){var w=g[f],x=m[w][p],C=o[w][x],A=s,E=s+=C*a;b[x*d+w]={index:w,subindex:x,startAngle:A,endAngle:E,value:C}}_[w]={index:w,startAngle:c,endAngle:s,value:v[w]},s+=h}for(f=-1;++f<d;)for(p=f-1;++p<d;){var S=b[p*d+f],M=b[f*d+p];(S.value||M.value)&&y.push(S.value<M.value?{source:M,target:S}:{source:S,target:M})}return i?y.sort(i):y}return o.padAngle=function(e){return arguments.length?(t=l(0,e),o):t},o.sortGroups=function(t){return arguments.length?(e=t,o):e},o.sortSubgroups=function(t){return arguments.length?(n=t,o):n},o.sortChords=function(t){return arguments.length?(null==t?i=null:(e=t,i=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=t,o):i&&i._;var e},o},h=Array.prototype.slice,f=function(t){return function(){return t}},p=n(220);function d(t){return t.source}function v(t){return t.target}function g(t){return t.radius}function m(t){return t.startAngle}function y(t){return t.endAngle}var _=function(){var t=d,e=v,n=g,r=m,a=y,u=null;function l(){var l,c=h.call(arguments),f=t.apply(this,c),d=e.apply(this,c),v=+n.apply(this,(c[0]=f,c)),g=r.apply(this,c)-s,m=a.apply(this,c)-s,y=v*i(g),_=v*o(g),b=+n.apply(this,(c[0]=d,c)),w=r.apply(this,c)-s,x=a.apply(this,c)-s;if(u||(u=l=Object(p.a)()),u.moveTo(y,_),u.arc(0,0,v,g,m),g===w&&m===x||(u.quadraticCurveTo(0,0,b*i(w),b*o(w)),u.arc(0,0,b,w,x)),u.quadraticCurveTo(0,0,y,_),u.closePath(),l)return u=null,l+""||null}return l.radius=function(t){return arguments.length?(n="function"===typeof t?t:f(+t),l):n},l.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:f(+t),l):r},l.endAngle=function(t){return arguments.length?(a="function"===typeof t?t:f(+t),l):a},l.source=function(e){return arguments.length?(t=e,l):t},l.target=function(t){return arguments.length?(e=t,l):e},l.context=function(t){return arguments.length?(u=null==t?null:t,l):u},l};n.d(e,"chord",function(){return c}),n.d(e,"ribbon",function(){return _})},289:function(t,e,n){var r=n(336),i=n(340),o=n(293),a=n(411),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},312:function(t,e,n){var r=n(410),i=n(289),o=n(263);t.exports=function(t){return r(t,o,i)}},359:function(t,e,n){var r=n(244),i=n(324),o=n(325),a=n(360),s=n(361),u=n(421),l=n(323),c=n(362),h=n(363),f=n(409),p=n(312),d=n(262),v=n(364),g=n(365),m=n(423),y=n(191),_=n(322),b=n(369),w=n(200),x=n(371),C=n(196),A=1,E=2,S=4,M="[object Arguments]",R="[object Function]",N="[object GeneratorFunction]",k="[object Object]",T={};T[M]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[k]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[R]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,O,j,P,I){var L,q=n&A,U=n&E,H=n&S;if(O&&(L=P?O(e,j,P,I):O(e)),void 0!==L)return L;if(!w(e))return e;var D=y(e);if(D){if(L=v(e),!q)return l(e,L)}else{var F=d(e),B=F==R||F==N;if(_(e))return u(e,q);if(F==k||F==M||B&&!P){if(L=U||B?{}:m(e),!q)return U?h(e,s(L,e)):c(e,a(L,e))}else{if(!T[F])return P?e:{};L=g(e,F,q)}}I||(I=new r);var W=I.get(e);if(W)return W;I.set(e,L),x(e)?e.forEach(function(r){L.add(t(r,n,O,r,e,I))}):b(e)&&e.forEach(function(r,i){L.set(i,t(r,n,O,i,e,I))});var z=H?U?p:f:U?keysIn:C,V=D?void 0:z(e);return i(V||e,function(r,i){V&&(r=e[i=r]),o(L,i,t(r,n,O,i,e,I))}),L}},360:function(t,e,n){var r=n(207),i=n(196);t.exports=function(t,e){return t&&r(e,i(e),t)}},361:function(t,e,n){var r=n(207),i=n(263);t.exports=function(t,e){return t&&r(e,i(e),t)}},362:function(t,e,n){var r=n(207),i=n(293);t.exports=function(t,e){return r(t,i(t),e)}},363:function(t,e,n){var r=n(207),i=n(289);t.exports=function(t,e){return r(t,i(t),e)}},364:function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},365:function(t,e,n){var r=n(294),i=n(366),o=n(367),a=n(368),s=n(422),u="[object Boolean]",l="[object Date]",c="[object Map]",h="[object Number]",f="[object RegExp]",p="[object Set]",d="[object String]",v="[object Symbol]",g="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",_="[object Float64Array]",b="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",C="[object Uint8Array]",A="[object Uint8ClampedArray]",E="[object Uint16Array]",S="[object Uint32Array]";t.exports=function(t,e,n){var M=t.constructor;switch(e){case g:return r(t);case u:case l:return new M(+t);case m:return i(t,n);case y:case _:case b:case w:case x:case C:case A:case E:case S:return s(t,n);case c:return new M;case h:case d:return new M(t);case f:return o(t);case p:return new M;case v:return a(t)}}},366:function(t,e,n){var r=n(294);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},367:function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},368:function(t,e,n){var r=n(284),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},369:function(t,e,n){var r=n(370),i=n(261),o=n(287),a=o&&o.isMap,s=a?i(a):r;t.exports=s},370:function(t,e,n){var r=n(262),i=n(209),o="[object Map]";t.exports=function(t){return i(t)&&r(t)==o}},371:function(t,e,n){var r=n(372),i=n(261),o=n(287),a=o&&o.isSet,s=a?i(a):r;t.exports=s},372:function(t,e,n){var r=n(262),i=n(209),o="[object Set]";t.exports=function(t){return i(t)&&r(t)==o}},391:function(t,e,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,u=i.round,l=i.min,c=i.max,h=i.random;function f(t,e){if(e=e||{},(t=t||"")instanceof f)return t;if(!(this instanceof f))return new f(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,r=null,s=null,u=null,h=!1,f=!1;"string"==typeof t&&(t=function(t){t=t.replace(o,"").replace(a,"").toLowerCase();var e,n=!1;if(k[t])t=k[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=D.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=D.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=D.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=D.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=D.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=D.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=D.hex8.exec(t))return{r:I(e[1]),g:I(e[2]),b:I(e[3]),a:H(e[4]),format:n?"name":"hex8"};if(e=D.hex6.exec(t))return{r:I(e[1]),g:I(e[2]),b:I(e[3]),format:n?"name":"hex"};if(e=D.hex4.exec(t))return{r:I(e[1]+""+e[1]),g:I(e[2]+""+e[2]),b:I(e[3]+""+e[3]),a:H(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=D.hex3.exec(t))return{r:I(e[1]+""+e[1]),g:I(e[2]+""+e[2]),b:I(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==typeof t&&(F(t.r)&&F(t.g)&&F(t.b)?(p=t.r,d=t.g,v=t.b,e={r:255*j(p,255),g:255*j(d,255),b:255*j(v,255)},h=!0,f="%"===String(t.r).substr(-1)?"prgb":"rgb"):F(t.h)&&F(t.s)&&F(t.v)?(r=q(t.s),s=q(t.v),e=function(t,e,n){t=6*j(t,360),e=j(e,100),n=j(n,100);var r=i.floor(t),o=t-r,a=n*(1-e),s=n*(1-o*e),u=n*(1-(1-o)*e),l=r%6;return{r:255*[n,s,a,a,u,n][l],g:255*[u,n,n,s,a,a][l],b:255*[a,a,u,n,n,s][l]}}(t.h,r,s),h=!0,f="hsv"):F(t.h)&&F(t.s)&&F(t.l)&&(r=q(t.s),u=q(t.l),e=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=j(t,360),e=j(e,100),n=j(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;r=a(u,s,t+1/3),i=a(u,s,t),o=a(u,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,r,u),h=!0,f="hsl"),t.hasOwnProperty("a")&&(n=t.a));var p,d,v;return n=O(n),{ok:h,format:t.format||f,r:l(255,c(e.r,0)),g:l(255,c(e.g,0)),b:l(255,c(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function p(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var r,i,o=c(t,e,n),a=l(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,l:s}}function d(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var r,i,o=c(t,e,n),a=l(t,e,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,v:s}}function v(t,e,n,r){var i=[L(u(t).toString(16)),L(u(e).toString(16)),L(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function g(t,e,n,r){return[L(U(r)),L(u(t).toString(16)),L(u(e).toString(16)),L(u(n).toString(16))].join("")}function m(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.s-=e/100,n.s=P(n.s),f(n)}function y(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.s+=e/100,n.s=P(n.s),f(n)}function _(t){return f(t).desaturate(100)}function b(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.l+=e/100,n.l=P(n.l),f(n)}function w(t,e){e=0===e?0:e||10;var n=f(t).toRgb();return n.r=c(0,l(255,n.r-u(-e/100*255))),n.g=c(0,l(255,n.g-u(-e/100*255))),n.b=c(0,l(255,n.b-u(-e/100*255))),f(n)}function x(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.l-=e/100,n.l=P(n.l),f(n)}function C(t,e){var n=f(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,f(n)}function A(t){var e=f(t).toHsl();return e.h=(e.h+180)%360,f(e)}function E(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+120)%360,s:e.s,l:e.l}),f({h:(n+240)%360,s:e.s,l:e.l})]}function S(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+90)%360,s:e.s,l:e.l}),f({h:(n+180)%360,s:e.s,l:e.l}),f({h:(n+270)%360,s:e.s,l:e.l})]}function M(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+72)%360,s:e.s,l:e.l}),f({h:(n+216)%360,s:e.s,l:e.l})]}function R(t,e,n){e=e||6,n=n||30;var r=f(t).toHsl(),i=360/n,o=[f(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(f(r));return o}function N(t,e){e=e||6;for(var n=f(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(f({h:r,s:i,v:o})),o=(o+s)%1;return a}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=O(t),this._roundA=u(100*this._a)/100,this},toHsv:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=d(this._r,this._g,this._b),e=u(360*t.h),n=u(100*t.s),r=u(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=p(this._r,this._g,this._b),e=u(360*t.h),n=u(100*t.s),r=u(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return v(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[L(u(t).toString(16)),L(u(e).toString(16)),L(u(n).toString(16)),L(U(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*j(this._r,255))+"%",g:u(100*j(this._g,255))+"%",b:u(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*j(this._r,255))+"%, "+u(100*j(this._g,255))+"%, "+u(100*j(this._b,255))+"%)":"rgba("+u(100*j(this._r,255))+"%, "+u(100*j(this._g,255))+"%, "+u(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(T[v(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+g(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=f(t);n="#"+g(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(_,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(A,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},f.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:q(t[r]));t=n}return f(t,e)},f.equals=function(t,e){return!(!t||!e)&&f(t).toRgbString()==f(e).toRgbString()},f.random=function(){return f.fromRatio({r:h(),g:h(),b:h()})},f.mix=function(t,e,n){n=0===n?0:n||50;var r=f(t).toRgb(),i=f(e).toRgb(),o=n/100;return f({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},f.readability=function(t,e){var n=f(t),r=f(e);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},f.isReadable=function(t,e,n){var r,i,o=f.readability(t,e);switch(i=!1,(r=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},f.mostReadable=function(t,e,n){var r,i,o,a,s=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var l=0;l<e.length;l++)(r=f.readability(t,e[l]))>u&&(u=r,s=f(e[l]));return f.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,f.mostReadable(t,["#fff","#000"],n))};var k=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},T=f.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(k);function O(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function j(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"===typeof t&&-1!=t.indexOf("%")}(t);return t=l(e,c(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function P(t){return l(1,c(0,t))}function I(t){return parseInt(t,16)}function L(t){return 1==t.length?"0"+t:""+t}function q(t){return t<=1&&(t=100*t+"%"),t}function U(t){return i.round(255*parseFloat(t)).toString(16)}function H(t){return I(t)/255}var D=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function F(t){return!!D.CSS_UNIT.exec(t)}t.exports?t.exports=f:void 0===(r=function(){return f}.call(e,n,e,t))||(t.exports=r)}(Math)},392:function(t,e,n){"use strict";var r=n(27),i=n(28),o=n(184);Array.prototype.slice;var a={value:function(){}};function s(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new u(r)}function u(t){this._=t}function l(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function c(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=a,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}u.prototype=s.prototype={constructor:u,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=c(i[n],t.name,e);else if(null==e)for(n in i)i[n]=c(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=l(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new u(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var h=s,f="http://www.w3.org/1999/xhtml",p={svg:"http://www.w3.org/2000/svg",xhtml:f,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},d=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),p.hasOwnProperty(e)?{space:p[e],local:t}:t};var v=function(t){var e=d(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===f&&e.documentElement.namespaceURI===f?e.createElement(t):e.createElementNS(n,t)}})(e)};function g(){}var m=function(t){return null==t?g:function(){return this.querySelector(t)}};function y(){return[]}var _=function(t){return null==t?y:function(){return this.querySelectorAll(t)}},b=function(t){return function(){return this.matches(t)}},w=function(t){return new Array(t.length)};function x(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}x.prototype={constructor:x,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var C="$";function A(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new x(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function E(t,e,n,r,i,o,a){var s,u,l,c={},h=e.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=l=C+a.call(u,u.__data__,s,e),l in c?i[s]=u:c[l]=u);for(s=0;s<f;++s)(u=c[l=C+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],c[l]=null):n[s]=new x(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c[p[s]]===u&&(i[s]=u)}function S(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var M=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function R(t,e){return t.style.getPropertyValue(e)||M(t).getComputedStyle(t,null).getPropertyValue(e)}function N(t){return t.trim().split(/^|\s+/)}function k(t){return t.classList||new T(t)}function T(t){this._node=t,this._names=N(t.getAttribute("class")||"")}function O(t,e){for(var n=k(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function j(t,e){for(var n=k(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}T.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function P(){this.textContent=""}function I(){this.innerHTML=""}function L(){this.nextSibling&&this.parentNode.appendChild(this)}function q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U(){return null}function H(){var t=this.parentNode;t&&t.removeChild(this)}function D(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function F(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var B={},W=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(B={mouseenter:"mouseover",mouseleave:"mouseout"}));function z(t,e,n){return t=V(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function V(t,e,n){return function(r){var i=W;W=r;try{t.call(this,this.__data__,e,n)}finally{W=i}}}function J(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function G(t,e,n){var r=B.hasOwnProperty(t.type)?z:V;return function(i,o,a){var s,u=this.__on,l=r(e,o,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function X(t,e,n){var r=M(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var Y=[null];function $(t,e){this._groups=t,this._parents=e}function Q(){return new $([[document.documentElement]],Y)}$.prototype=Q.prototype={constructor:$,select:function(t){"function"!==typeof t&&(t=m(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new $(r,this._parents)},selectAll:function(t){"function"!==typeof t&&(t=_(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new $(r,i)},filter:function(t){"function"!==typeof t&&(t=b(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new $(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var n,r=e?E:A,i=this._parents,o=this._groups;"function"!==typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var h=i[c],f=o[c],p=f.length,d=t.call(h,h&&h.__data__,c,i),v=d.length,g=u[c]=new Array(v),m=s[c]=new Array(v);r(h,f,g,m,l[c]=new Array(p),d,e);for(var y,_,b=0,w=0;b<v;++b)if(y=g[b]){for(b>=w&&(w=b+1);!(_=m[w])&&++w<v;);y._next=_||null}}return(s=new $(s,i))._enter=u,s._exit=l,s},enter:function(){return new $(this._enter||this._groups.map(w),this._parents)},exit:function(){return new $(this._exit||this._groups.map(w),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new $(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=S);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new $(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=d(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"===typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"===typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):R(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"===typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=N(t+"");if(arguments.length<2){for(var r=k(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?function(t,e){return function(){(e.apply(this,arguments)?O:j)(this,t)}}:e?function(t){return function(){O(this,t)}}:function(t){return function(){j(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?P:("function"===typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?I:("function"===typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(L)},lower:function(){return this.each(q)},append:function(t){var e="function"===typeof t?t:v(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"===typeof t?t:v(t),r=null==e?U:"function"===typeof e?e:m(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(H)},clone:function(t){return this.select(t?F:D)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?G:J,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"===typeof e?function(t,e){return function(){return X(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return X(this,t,e)}})(t,e))}};var Z=Q,K=0;function tt(){this._="@"+(++K).toString(36)}tt.prototype=function(){return new tt}.prototype={constructor:tt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function et(t,e,n,r,i,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}et.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var nt,rt,it=n(190),ot=0,at=0,st=0,ut=1e3,lt=0,ct=0,ht=0,ft="object"===typeof performance&&performance.now?performance:Date,pt="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function dt(){return ct||(pt(vt),ct=ft.now()+ht)}function vt(){ct=0}function gt(){this._call=this._time=this._next=null}function mt(t,e,n){var r=new gt;return r.restart(t,e,n),r}function yt(){ct=(lt=ft.now())+ht,ot=at=0;try{!function(){dt(),++ot;for(var t,e=nt;e;)(t=ct-e._time)>=0&&e._call.call(null,t),e=e._next;--ot}()}finally{ot=0,function(){var t,e,n=nt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:nt=e);rt=t,bt(r)}(),ct=0}}function _t(){var t=ft.now(),e=t-lt;e>ut&&(ht-=e,lt=t)}function bt(t){ot||(at&&(at=clearTimeout(at)),t-ct>24?(t<1/0&&(at=setTimeout(yt,t-ft.now()-ht)),st&&(st=clearInterval(st))):(st||(lt=ft.now(),st=setInterval(_t,ut)),ot=1,pt(yt)))}gt.prototype=mt.prototype={constructor:gt,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?dt():+n)+(null==e?0:+e),this._next||rt===this||(rt?rt._next=this:nt=this,rt=this),this._call=t,this._time=n,bt()},stop:function(){this._call&&(this._call=null,this._time=1/0,bt())}};var wt=function(t,e,n){var r=new gt;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},xt=h("start","end","cancel","interrupt"),Ct=[],At=0,Et=1,St=2,Mt=3,Rt=4,Nt=5,kt=6,Tt=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var l,c,h,f;if(n.state!==Et)return s();for(l in i)if((f=i[l]).name===n.name){if(f.state===Mt)return wt(o);f.state===Rt?(f.state=kt,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=kt,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(wt(function(){n.state===Mt&&(n.state=Rt,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=St,n.on.call("start",t,t.__data__,n.index,n.group),n.state===St){for(n.state=Mt,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=Nt,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===Nt&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=kt,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=mt(function(t){n.state=Et,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:xt,tween:Ct,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:At})};function Ot(t,e){var n=Pt(t,e);if(n.state>At)throw new Error("too late; already scheduled");return n}function jt(t,e){var n=Pt(t,e);if(n.state>Mt)throw new Error("too late; already running");return n}function Pt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var It=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>St&&n.state<Nt,n.state=kt,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}};function Lt(t,e,n){var r=t._id;return t.each(function(){var t=jt(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Pt(t,r).value[e]}}var qt=n(205),Ut=function(t,e){var n;return("number"===typeof e?it.interpolateNumber:e instanceof qt.color?it.interpolateRgb:(n=Object(qt.color)(e))?(e=n,it.interpolateRgb):it.interpolateString)(t,e)};var Ht=Z.prototype.constructor;function Dt(t){return function(){this.style.removeProperty(t)}}var Ft=0;function Bt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Wt(){return++Ft}var zt=Z.prototype;Bt.prototype=function(t){return Z().transition(t)}.prototype={constructor:Bt,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=m(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,Tt(h[f],e,n,f,h,Pt(s,n)));return new Bt(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=_(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,p=t.call(u,u.__data__,h,l),d=Pt(u,n),v=0,g=p.length;v<g;++v)(f=p[v])&&Tt(f,e,n,v,p,d);o.push(p),a.push(u)}return new Bt(o,a,e,n)},filter:function(t){"function"!==typeof t&&(t=b(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Bt(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new Bt(a,this._parents,this._name,this._id)},selection:function(){return new Ht(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Wt(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=Pt(a,e);Tt(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Bt(r,this._parents,t,n)},call:zt.call,nodes:zt.nodes,node:zt.node,size:zt.size,empty:zt.empty,each:zt.each,on:function(t,e){var n=this._id;return arguments.length<2?Pt(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?Ot:jt;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=d(t),r="transform"===n?it.interpolateTransformSvg:Ut;return this.attrTween(t,"function"===typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}})(n,r,Lt(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}:function(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=d(t);return this.tween(n,(r.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,i)),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,i)),n}return i._value=e,i})(r,e))},style:function(t,e,n){var r="transform"===(t+="")?it.interpolateTransformCss:Ut;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=R(this,t),a=(this.style.removeProperty(t),R(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Dt(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=R(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=R(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,Lt(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=jt(this,t),l=u.on,c=null==u.value[a]?o||(o=Dt(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=R(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Lt(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Pt(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=jt(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=jt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?function(t,e){return function(){Ot(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Ot(this,t).delay=e}})(e,t)):Pt(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?function(t,e){return function(){jt(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){jt(this,t).duration=e}})(e,t)):Pt(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!==typeof e)throw new Error;return function(){jt(this,t).ease=e}}(e,t)):Pt(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){0===--i&&o()}};n.each(function(){var n=jt(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})})}};(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n})(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Math.PI;(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n})(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158);var Vt=2*Math.PI,Jt=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Vt);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Vt)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Vt);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Vt)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Vt);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Vt)},i.period=function(n){return t(e,n)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function Gt(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Jt.time=dt(),Jt;return n}Z.prototype.interrupt=function(t){return this.each(function(){It(this,t)})},Z.prototype.transition=function(t){var e,n;t instanceof Bt?(e=t._id,t=t._name):(e=Wt(),(n=Jt).time=dt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&Tt(a,t,e,l,s,n||Gt(a,e));return new Bt(r,this._parents,t,e)};function Xt(t){return[+t[0],+t[1]]}function Yt(t){return[Xt(t[0]),Xt(t[1])]}["w","e"].map($t),["n","s"].map($t),["n","w","e","s","nw","ne","sw","se"].map($t);function $t(t){return{type:t}}n(265),n(201),Array.prototype.slice;var Qt={},Zt={},Kt=34,te=10,ee=13;function ne(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function re(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function ie(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function oe(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+ie(-e,6):e>9999?"+"+ie(e,6):ie(e,4))+"-"+ie(t.getUTCMonth()+1,2)+"-"+ie(t.getUTCDate(),2)+(o?"T"+ie(n,2)+":"+ie(r,2)+":"+ie(i,2)+"."+ie(o,3)+"Z":i?"T"+ie(n,2)+":"+ie(r,2)+":"+ie(i,2)+"Z":r||n?"T"+ie(n,2)+":"+ie(r,2)+"Z":"")}var ae=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,l=!1;function c(){if(u)return Zt;if(l)return l=!1,Qt;var e,r,i=a;if(t.charCodeAt(i)===Kt){for(;a++<o&&t.charCodeAt(a)!==Kt||t.charCodeAt(++a)===Kt;);return(e=a)>=o?u=!0:(r=t.charCodeAt(a++))===te?l=!0:r===ee&&(l=!0,t.charCodeAt(a)===te&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(e=a++))===te)l=!0;else if(r===ee)l=!0,t.charCodeAt(a)===te&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===te&&--o,t.charCodeAt(o-1)===ee&&--o;(r=c())!==Zt;){for(var h=[];r!==Qt&&r!==Zt;)h.push(r),r=c();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e,n){return e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?oe(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ne(t);return function(r,i){return e(n(r),i,t)}}(t,e):ne(t)});return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=re(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=re(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")}}},se=ae(","),ue=se.parse,le=(se.parseRows,se.format,se.formatBody,se.formatRows,ae("\t")),ce=le.parse;le.parseRows,le.format,le.formatBody,le.formatRows;function he(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var fe=function(t,e){return fetch(t,e).then(he)};function pe(t){return function(e,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=void 0),fe(e,n).then(function(e){return t(e,r)})}}pe(ue),pe(ce);function de(t){return function(e,n){return fe(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}de("application/xml"),de("text/html"),de("image/svg+xml");function ve(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,c,h,f,p=t._root,d={data:r},v=t._x0,g=t._y0,m=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=e>=(o=(v+m)/2))?v=o:m=o,(c=n>=(a=(g+y)/2))?g=a:y=a,i=p,!(p=p[h=c<<1|l]))return i[h]=d,t;if(s=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===s&&n===u)return d.next=p,i?i[h]=d:t._root=d,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(v+m)/2))?v=o:m=o,(c=n>=(a=(g+y)/2))?g=a:y=a}while((h=c<<1|l)===(f=(u>=a)<<1|s>=o));return i[f]=p,i[h]=d,t}var ge=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function me(t){return t[0]}function ye(t){return t[1]}function _e(t,e,n){var r=new be(null==e?me:e,null==n?ye:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function be(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function we(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var xe=_e.prototype=be.prototype;xe.copy=function(){var t,e,n=new be(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=we(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=we(e));return n},xe.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return ve(this.cover(e,n),e,n,t)},xe.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),n=0;n<o;++n)ve(this,a[n],s[n],t[n]);return this},xe.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n,l=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},xe.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},xe.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},xe.find=function(t,e,n){var r,i,o,a,s,u,l,c=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],v=this._root;for(v&&d.push(new ge(v,c,h,f,p)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(v=u.node)||(i=u.x0)>f||(o=u.y0)>p||(a=u.x1)<c||(s=u.y1)<h))if(v.length){var g=(i+a)/2,m=(o+s)/2;d.push(new ge(v[3],g,m,a,s),new ge(v[2],i,m,g,s),new ge(v[1],g,o,a,m),new ge(v[0],i,o,g,m)),(l=(e>=m)<<1|t>=g)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=u)}else{var y=t-+this._x.call(null,v.data),_=e-+this._y.call(null,v.data),b=y*y+_*_;if(b<n){var w=Math.sqrt(n=b);c=t-w,h=e-w,f=t+w,p=e+w,r=v.data}}return r},xe.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,c,h,f,p=this._root,d=this._x0,v=this._y0,g=this._x1,m=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(s=(d+g)/2))?d=s:g=s,(c=a>=(u=(v+m)/2))?v=u:m=u,e=p,!(p=p[h=c<<1|l]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)},xe.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},xe.root=function(){return this._root},xe.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},xe.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new ge(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new ge(n,l,c,o,a)),(n=u[2])&&s.push(new ge(n,r,c,l,a)),(n=u[1])&&s.push(new ge(n,l,i,o,c)),(n=u[0])&&s.push(new ge(n,r,i,l,c))}return this},xe.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new ge(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,h=(s+l)/2;(o=i[0])&&n.push(new ge(o,a,s,c,h)),(o=i[1])&&n.push(new ge(o,c,s,u,h)),(o=i[2])&&n.push(new ge(o,a,h,c,l)),(o=i[3])&&n.push(new ge(o,c,h,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},xe.x=function(t){return arguments.length?(this._x=t,this):this._x},xe.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5),n(192);var Ce=function(){return new Ae};function Ae(){this.reset()}Ae.prototype={constructor:Ae,reset:function(){this.s=this.t=0},add:function(t){Se(Ee,t,this.t),Se(this,Ee.s,this.s),this.s?this.t+=Ee.t:this.s=Ee.t},valueOf:function(){return this.s}};var Ee=new Ae;function Se(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var Me=1e-6,Re=1e-12,Ne=Math.PI,ke=Ne/2,Te=Ne/4,Oe=2*Ne,je=Ne/180,Pe=Math.abs,Ie=Math.atan,Le=Math.atan2,qe=Math.cos,Ue=(Math.ceil,Math.exp),He=(Math.floor,Math.log),De=(Math.pow,Math.sin),Fe=Math.sign||function(t){return t>0?1:t<0?-1:0},Be=Math.sqrt,We=Math.tan;function ze(t){return t>1?0:t<-1?Ne:Math.acos(t)}function Ve(t){return t>1?ke:t<-1?-ke:Math.asin(t)}function Je(){}Ce(),Ce();function Ge(t){var e=t[0],n=t[1],r=qe(n);return[r*qe(e),r*De(e),De(n)]}function Xe(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ye(t){var e=Be(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}Ce();function $e(t,e){return[Pe(t)>Ne?t+Math.round(-t/Oe)*Oe:t,e]}$e.invert=$e;var Qe=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Je,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Ze=function(t,e){return Pe(t[0]-e[0])<Me&&Pe(t[1]-e[1])<Me};function Ke(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var tn=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Ze(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new Ke(r,t,null,!0)),u.push(n.o=new Ke(r,null,n,!1)),s.push(n=new Ke(a,t,null,!1)),u.push(n.o=new Ke(a,null,n,!0))}}),s.length){for(u.sort(e),en(s),en(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,h=s[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}};function en(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var nn=Ce();function rn(t){return Pe(t[0])<=Ne?t[0]:Fe(t[0])*((Pe(t[0])+Ne)%Oe-Ne)}var on=function(t,e){var n=rn(e),r=e[1],i=De(r),o=[De(n),-qe(n),0],a=0,s=0;nn.reset(),1===i?r=ke+Me:-1===i&&(r=-ke-Me);for(var u=0,l=t.length;u<l;++u)if(h=(c=t[u]).length)for(var c,h,f=c[h-1],p=rn(f),d=f[1]/2+Te,v=De(d),g=qe(d),m=0;m<h;++m,p=_,v=w,g=x,f=y){var y=c[m],_=rn(y),b=y[1]/2+Te,w=De(b),x=qe(b),C=_-p,A=C>=0?1:-1,E=A*C,S=E>Ne,M=v*w;if(nn.add(Le(M*A*De(E),g*x+M*qe(E))),a+=S?C+A*Oe:C,S^p>=n^_>=n){var R=Xe(Ge(f),Ge(y));Ye(R);var N=Xe(o,R);Ye(N);var k=(S^C>=0?-1:1)*Ve(N[2]);(r>k||r===k&&(R[0]||R[1]))&&(s+=S^C>=0?1:-1)}}return(a<-Me||a<Me&&nn<-Me)^1&s},an=function(t,e,n,r){return function(i){var a,s,u,l=e(i),c=Qe(),h=e(c),f=!1,p={point:d,lineStart:g,lineEnd:m,polygonStart:function(){p.point=y,p.lineStart=_,p.lineEnd=b,s=[],a=[]},polygonEnd:function(){p.point=d,p.lineStart=g,p.lineEnd=m,s=Object(o.f)(s);var t=on(a,r);s.length?(f||(i.polygonStart(),f=!0),tn(s,un,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),s=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function v(t,e){l.point(t,e)}function g(){p.point=v,l.lineStart()}function m(){p.point=d,l.lineEnd()}function y(t,e){u.push([t,e]),h.point(t,e)}function _(){h.lineStart(),u=[]}function b(){y(u[0][0],u[0][1]),h.lineEnd();var t,e,n,r,o=h.clean(),l=c.result(),p=l.length;if(u.pop(),a.push(u),u=null,p)if(1&o){if((e=(n=l[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else p>1&&2&o&&l.push(l.pop().concat(l.shift())),s.push(l.filter(sn))}return p}};function sn(t){return t.length>1}function un(t,e){return((t=t.x)[0]<0?t[1]-ke-Me:ke-t[1])-((e=e.x)[0]<0?e[1]-ke-Me:ke-e[1])}an(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ne:-Ne,u=Pe(o-n);Pe(u-Ne)<Me?(t.point(n,r=(r+a)/2>0?ke:-ke),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Ne&&(Pe(n-i)<Me&&(n-=i*Me),Pe(o-s)<Me&&(o-=s*Me),r=function(t,e,n,r){var i,o,a=De(t-n);return Pe(a)>Me?Ie((De(e)*(o=qe(r))*De(n)-De(r)*(i=qe(e))*De(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*ke,r.point(-Ne,i),r.point(0,i),r.point(Ne,i),r.point(Ne,0),r.point(Ne,-i),r.point(0,-i),r.point(-Ne,-i),r.point(-Ne,0),r.point(-Ne,i);else if(Pe(t[0]-e[0])>Me){var o=t[0]<e[0]?Ne:-Ne;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Ne,-ke]);Ce();Ce(),Ce();function ln(t){this._context=t}ln.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Oe)}},result:Je};Ce();function cn(){this._string=[]}function hn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}cn.prototype={_radius:4.5,_circle:hn(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=hn(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};function fn(t){return function(e){var n=new pn;for(var r in t)n[r]=t[r];return n.stream=e,n}}function pn(){}pn.prototype={constructor:pn,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};qe(30*je);fn({point:function(t,e){this.stream.point(t*je,e*je)}});function dn(t){return function(e,n){var r=qe(e),i=qe(n),o=t(r*i);return[o*i*De(e),o*De(n)]}}function vn(t){return function(e,n){var r=Be(e*e+n*n),i=t(r),o=De(i),a=qe(i);return[Le(e*o,r*a),Ve(r&&n*o/r)]}}var gn=dn(function(t){return Be(2/(1+t))});gn.invert=vn(function(t){return 2*Ve(t/2)});var mn=dn(function(t){return(t=ze(t))&&t/De(t)});mn.invert=vn(function(t){return t});function yn(t,e){return[t,He(We((ke+e)/2))]}yn.invert=function(t,e){return[t,2*Ie(Ue(e))-ke]};function _n(t,e){return[t,e]}_n.invert=_n;var bn=1.340264,wn=-.081106,xn=893e-6,Cn=.003796,An=Be(3)/2;function En(t,e){var n=Ve(An*De(e)),r=n*n,i=r*r*r;return[t*qe(n)/(An*(bn+3*wn*r+i*(7*xn+9*Cn*r))),n*(bn+wn*r+i*(xn+Cn*r))]}En.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(bn+wn*i+o*(xn+Cn*i))-e)/(bn+3*wn*i+o*(7*xn+9*Cn*i)))*r)*i*i,!(Pe(n)<Re));++a);return[An*t*(bn+3*wn*i+o*(7*xn+9*Cn*i))/qe(r),Ve(De(r)/An)]};function Sn(t,e){var n=qe(e),r=qe(t)*n;return[n*De(t)/r,De(e)/r]}Sn.invert=vn(Ie);function Mn(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Mn.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Pe(n)>Me&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};function Rn(t,e){return[qe(e)*De(t),De(e)]}Rn.invert=vn(Ve);function Nn(t,e){var n=qe(e),r=1+qe(t)*n;return[n*De(t)/r,De(e)/r]}Nn.invert=vn(function(t){return 2*Ie(t)});function kn(t,e){return[He(We((ke+e)/2)),-t]}kn.invert=function(t,e){return[-e,2*Ie(Ue(t))-ke]};var Tn=n(264);n(220);var On=function(){return Math.random()},jn=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(On),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(On)),Pn=(function t(e){function n(){var t=jn.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(On),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(On));(function t(e){function n(t){var n=Pn.source(e)(t);return function(){return n()/t}}return n.source=t,n})(On),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(On);var In=Array.prototype;In.map,In.slice;n(195),n(194);n(238);function Ln(){this._=null}function qn(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Un(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Hn(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Dn(t){for(;t.L;)t=t.L;return t}Ln.prototype={constructor:Ln,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Dn(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Un(this,n),n=(t=n).U),n.C=!1,r.C=!0,Hn(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Hn(this,n),n=(t=n).U),n.C=!1,r.C=!0,Un(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Dn(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Un(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Hn(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Un(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Hn(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Un(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Hn(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Fn=Ln;function Bn(t,e,n,r){var i=[null,null],o=fr.push(i)-1;return i.left=t,i.right=e,n&&zn(i,t,e,n),r&&zn(i,e,t,r),cr[t.index].halfedges.push(o),cr[e.index].halfedges.push(o),i}function Wn(t,e,n){var r=[e,n];return r.left=t,r}function zn(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Vn(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,h=1,f=s[0]-u,p=s[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*p]),h<1&&(t[1]=[u+h*f,l+h*p]),!0)}}}}}function Jn(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],p=c[0],d=c[1],v=(h+p)/2,g=(f+d)/2;if(d===f){if(v<e||v>=r)return;if(h>p){if(u){if(u[1]>=i)return}else u=[v,n];o=[v,i]}else{if(u){if(u[1]<n)return}else u=[v,i];o=[v,n]}}else if(s=g-(a=(h-p)/(d-f))*v,a<-1||a>1)if(h>p){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<d){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function Gn(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Xn(t,e){return e[+(e.left!==t.site)]}function Yn(t,e){return e[+(e.left===t.site)]}var $n,Qn=[];function Zn(){qn(this),this.x=this.y=this.arc=this.site=this.cy=null}function Kn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,h=o[1]-s,f=2*(u*h-l*c);if(!(f>=-dr)){var p=u*u+l*l,d=c*c+h*h,v=(h*p-l*d)/f,g=(u*d-c*p)/f,m=Qn.pop()||new Zn;m.arc=t,m.site=i,m.x=v+a,m.y=(m.cy=g+s)+Math.sqrt(v*v+g*g),t.circle=m;for(var y=null,_=hr._;_;)if(m.y<_.y||m.y===_.y&&m.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}hr.insert(y,m),y||($n=m)}}}}function tr(t){var e=t.circle;e&&(e.P||($n=e.N),hr.remove(e),Qn.push(e),qn(e),t.circle=null)}var er=[];function nr(){qn(this),this.edge=this.site=this.circle=null}function rr(t){var e=er.pop()||new nr;return e.site=t,e}function ir(t){tr(t),lr.remove(t),er.push(t),qn(t)}function or(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];ir(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<pr&&Math.abs(r-u.circle.cy)<pr;)o=u.P,s.unshift(u),ir(u),u=o;s.unshift(u),tr(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<pr&&Math.abs(r-l.circle.cy)<pr;)a=l.N,s.push(l),ir(l),l=a;s.push(l),tr(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],zn(l.edge,u.site,l.site,i);u=s[0],(l=s[h-1]).edge=Bn(u.site,l.site,null,i),Kn(u),Kn(l)}function ar(t){for(var e,n,r,i,o=t[0],a=t[1],s=lr._;s;)if((r=sr(s,a)-o)>pr)s=s.L;else{if(!((i=o-ur(s,a))>pr)){r>-pr?(e=s.P,n=s):i>-pr?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){cr[t.index]={site:t,halfedges:[]}}(t);var u=rr(t);if(lr.insert(e,u),e||n){if(e===n)return tr(e),n=rr(e.site),lr.insert(u,n),u.edge=n.edge=Bn(e.site,u.site),Kn(e),void Kn(n);if(n){tr(e),tr(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,p=t[1]-h,d=n.site,v=d[0]-c,g=d[1]-h,m=2*(f*g-p*v),y=f*f+p*p,_=v*v+g*g,b=[(g*y-p*_)/m+c,(f*_-v*y)/m+h];zn(n.edge,l,d,b),u.edge=Bn(l,t,null,b),n.edge=Bn(t,d,null,b),Kn(e),Kn(n)}else u.edge=Bn(e.site,u.site)}}function sr(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function ur(t,e){var n=t.N;if(n)return sr(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var lr,cr,hr,fr,pr=1e-6,dr=1e-12;function vr(t,e){return e[1]-t[1]||e[0]-t[0]}function gr(t,e){var n,r,i,o=t.sort(vr).pop();for(fr=[],cr=new Array(t.length),lr=new Fn,hr=new Fn;;)if(i=$n,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(ar(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;or(i.arc)}if(function(){for(var t,e,n,r,i=0,o=cr.length;i<o;++i)if((t=cr[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Gn(t,fr[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=fr.length;o--;)Jn(i=fr[o],t,e,n,r)&&Vn(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>pr||Math.abs(i[0][1]-i[1][1])>pr)||delete fr[o]}(a,s,u,l),function(t,e,n,r){var i,o,a,s,u,l,c,h,f,p,d,v,g=cr.length,m=!0;for(i=0;i<g;++i)if(o=cr[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)fr[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)d=(p=Yn(o,fr[u[s]]))[0],v=p[1],h=(c=Xn(o,fr[u[++s%l]]))[0],f=c[1],(Math.abs(d-h)>pr||Math.abs(v-f)>pr)&&(u.splice(s,0,fr.push(Wn(a,p,Math.abs(d-t)<pr&&r-v>pr?[t,Math.abs(h-t)<pr?f:r]:Math.abs(v-r)<pr&&n-d>pr?[Math.abs(f-r)<pr?h:n,r]:Math.abs(d-n)<pr&&v-e>pr?[n,Math.abs(h-n)<pr?f:e]:Math.abs(v-e)<pr&&d-t>pr?[Math.abs(f-e)<pr?h:t,e]:null))-1),++l);l&&(m=!1)}if(m){var y,_,b,w=1/0;for(i=0,m=null;i<g;++i)(o=cr[i])&&(b=(y=(a=o.site)[0]-t)*y+(_=a[1]-e)*_)<w&&(w=b,m=o);if(m){var x=[t,e],C=[t,r],A=[n,r],E=[n,e];m.halfedges.push(fr.push(Wn(a=m.site,x,C))-1,fr.push(Wn(a,C,A))-1,fr.push(Wn(a,A,E))-1,fr.push(Wn(a,E,x))-1)}}for(i=0;i<g;++i)(o=cr[i])&&(o.halfedges.length||delete cr[i])}(a,s,u,l)}this.edges=fr,this.cells=cr,lr=hr=fr=cr=null}gr.prototype={constructor:gr,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Xn(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,l,c=n.site,h=-1,f=e[i[o-1]],p=f.left===c?f.right:f.left;++h<o;)a=p,p=(f=e[i[h]]).left===c?f.right:f.left,a&&p&&r<a.index&&r<p.index&&(u=a,l=p,((s=c)[0]-l[0])*(u[1]-s[1])-(s[0]-u[0])*(l[1]-s[1])<0)&&t.push([c.data,a.data,p.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=e-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}})}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};function mr(t,e,n){this.k=t,this.x=e,this.y=n}mr.prototype={constructor:mr,scale:function(t){return 1===t?this:new mr(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new mr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new mr(1,0,0);mr.prototype;var yr=function(){function t(){Object(r.a)(this,t)}return Object(i.a)(t,[{key:"circlePackingByName",value:function(t,e){var n=[],r=Tn.stratify().id(function(t){return t.name}).parentId(function(e){return-1!==e.name.lastIndexOf(".")?e.name.substring(0,e.name.lastIndexOf(".")):e.name!==t?t:""});try{n=r(e)}catch(o){var i={name:t,complexity:0,loc:1,commits:0,level:0,role:"node"};e.push(i),n=r(e)}return n}},{key:"normalizeHotspots",value:function(t){for(var e=0;e<t.children.length;e++){var n=t.children[e].data.name.lastIndexOf(".");t.children[e].name=t.children[e].data.name.substring(n+1),t.children[e].loc=t.children[e].data.loc,t.children[e].complexity=t.children[e].data.complexity,t.children[e].children&&this.normalizeHotspots(t.children[e])}}},{key:"circlePackingById",value:function(t,e,n){var r=[],i=Tn.stratify().id(function(t){return t.id}).parentId(function(e){return e.fqn?n[e.fqn]:-1!==e.name.lastIndexOf(".")?n[e.name.substring(0,e.name.lastIndexOf("."))]:e.name!==t?n[t]:void 0});try{r=i(e)}catch(a){var o={id:0,name:t,coverage:-1,loc:0,level:0};e.push(o),n[t]=0,r=i(e)}return r}},{key:"normalizeTestCoverage",value:function(t){for(var e=0;e<t.children.length;e++){if(t.children[e].key=t.children[e].data.id,t.children[e].coverage=t.children[e].data.coverage,t.children[e].loc=t.children[e].data.loc,t.children[e].data.fqn)t.children[e].name=t.children[e].data.name;else{var n=t.children[e].data.name.lastIndexOf(".");t.children[e].name=t.children[e].data.name.substring(n+1)}t.children[e].children&&this.normalizeTestCoverage(t.children[e])}}}]),t}();e.a=yr},594:function(t,e,n){var r,i,o,a;a=function(t){"use strict";var e={r:256,g:256,b:256,a:1},n={h:360,s:1,v:1,a:1};function r(t,e,n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=0===n?0:(e[i]-t[i])/n);return r}function i(t,e,n,r){var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=t[o]*n+e[o],i[o]=i[o]<0?i[o]+r[o]:1!==r[o]?i[o]%r[o]:i[o]);return i}function o(n,o,a){for(var s,u=n.color.toRgb(),l=o.color.toRgb(),c=[n.color],h=r(u,l,a),f=1;f<a;f++)s=i(h,u,f,e),c.push(t(s));return c}function a(e,o,a,s){var u,l,c=e.color.toHsv(),h=o.color.toHsv(),f=[e.color],p=r(c,h,a);u=c.h<=h.h&&!s||c.h>=h.h&&s?h.h-c.h:s?360-h.h+c.h:360-c.h+h.h,p.h=Math.pow(-1,s?1:0)*Math.abs(u)/a;for(var d=1;d<a;d++)l=i(p,c,d,n),f.push(t(l));return f}function s(t,e){var n=t.length;if(e=parseInt(e),isNaN(e)||e<2)throw new Error("Invalid number of steps (< 2)");if(e<n)throw new Error("Number of steps cannot be inferior to number of stops");for(var r=[],i=1;i<n;i++){var o=(e-1)*(t[i].pos-t[i-1].pos);r.push(Math.max(1,Math.round(o)))}for(var a=1,s=n-1;s--;)a+=r[s];for(;a!==e;)if(a<e){var u=Math.min.apply(null,r);r[r.indexOf(u)]++,a++}else{var l=Math.max.apply(null,r);r[r.indexOf(l)]--,a--}return r}function u(e,n,o,a){if(n<0||n>1)throw new Error("Position must be between 0 and 1");for(var s,u,l=0,c=e.length;l<c-1;l++)if(n>=e[l].pos&&n<e[l+1].pos){s=e[l],u=e[l+1];break}s||(s=u=e[e.length-1]);var h=i(r(s.color[o](),u.color[o](),100*(u.pos-s.pos)),s.color[o](),Math.round(100*(n-s.pos)),a);return t(h)}var l=function e(n){if(1===arguments.length){if(!(arguments[0]instanceof Array))throw new Error('"stops" is not an array');n=arguments[0]}else n=Array.prototype.slice.call(arguments);if(!(this instanceof e))return new e(n);if(n.length<2)throw new Error("Invalid number of stops (< 2)");var r=void 0!==n[0].pos,i=n.length,o=-1;this.stops=n.map(function(e,n){var a=void 0!==e.pos;if(r^a)throw new Error("Cannot mix positionned and not posionned color stops");if(a){if((e={color:t(e.color),pos:e.pos}).pos<0||e.pos>1)throw new Error("Color stops positions must be between 0 and 1");if(e.pos<=o)throw new Error("Color stops positions are not ordered");o=e.pos}else e={color:t(e),pos:n/(i-1)};return e}),0!==this.stops[0].pos&&this.stops.unshift({color:this.stops[0].color,pos:0}),1!==this.stops[this.stops.length-1].pos&&this.stops.push({color:this.stops[this.stops.length-1].color,pos:1})};l.prototype.reverse=function(){var t=[];return this.stops.forEach(function(e){t.push({color:e.color,pos:1-e.pos})}),new l(t.reverse())},l.prototype.rgb=function(t){for(var e=s(this.stops,t),n=[],r=0,i=this.stops.length;r<i-1;r++)n=n.concat(o(this.stops[r],this.stops[r+1],e[r]));return n.push(this.stops[i-1].color),n},l.prototype.hsv=function(t,e){for(var n,r,i,u=s(this.stops,t),l=!0===e,c="string"===typeof e,h=[],f=0,p=this.stops.length;f<p-1;f++)n=this.stops[f].color.toHsv(),r=this.stops[f+1].color.toHsv(),c&&(i=n.h<r.h&&r.h-n.h<180||n.h>r.h&&n.h-r.h>180),h=0===n.s||0===r.s?h.concat(o(this.stops[f],this.stops[f+1],u[f])):h.concat(a(this.stops[f],this.stops[f+1],u[f],"long"===e&&i||"short"===e&&!i||!c&&l));return h.push(this.stops[p-1].color),h},l.prototype.css=function(t,e){var n=(t=t||"linear")+"-gradient("+(e=e||("linear"===t?"to right":"ellipse at center"));return this.stops.forEach(function(t){n+=", "+t.color.toRgbString()+" "+100*t.pos+"%"}),n+=")"},l.prototype.rgbAt=function(t){return u(this.stops,t,"toRgb",e)},l.prototype.hsvAt=function(t){return u(this.stops,t,"toHsv",n)};var c={rgb:1,hsv:2,css:2,rgbAt:1,hsvAt:1};return Object.keys(c).forEach(function(t){l[t]=function(){var e=Array.prototype.slice.call(arguments),n=e.splice(-c[t]),r=new l(e);return r[t].apply(r,n)}}),l},t.exports?t.exports=a(n(391)):(i=[n(391)],void 0===(o="function"===typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},853:function(t,e,n){t.exports=n(854)},854:function(t,e,n){"use strict";(function(t){function r(t){return t&&"object"===typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=r(i),a=r(n(0)),s=n(242),u=n(264),l=r(n(855)),c=r(n(234)),h=r(n(260)),f=r(n(235)),p=r(n(233)),d=n(258),v=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},y=function(t){var e=t.style,n=t.node,r=t.handlers,i=t.theme;if(e.width<=0||e.height<=0)return null;var a=n.label&&e.orientLabel&&e.height>e.width;return o.createElement("g",{transform:"translate("+e.x+","+e.y+")"},o.createElement("rect",g({width:e.width,height:e.height,fill:e.fill?e.fill:e.color,strokeWidth:e.borderWidth,stroke:e.borderColor},r)),n.label&&o.createElement("text",{textAnchor:"middle",alignmentBaseline:"central",style:g({},i.labels.text,{fill:e.labelTextColor,pointerEvents:"none"}),transform:"translate("+e.width/2+","+e.height/2+") rotate("+(a?-90:0)+")"},n.label))};y.propTypes={node:a.object.isRequired,style:a.shape({x:a.number.isRequired,y:a.number.isRequired,width:a.number.isRequired,height:a.number.isRequired,color:a.string.isRequired,borderWidth:a.number.isRequired,borderColor:a.string.isRequired,labelTextColor:a.string.isRequired,orientLabel:a.bool.isRequired}).isRequired,handlers:a.object.isRequired,theme:s.themePropType.isRequired};var _=function(t){var e=t.node,n=t.style,r=t.handlers;if(n.width<=0||n.height<=0)return null;var i=e.label&&n.orientLabel&&n.height>n.width;return o.createElement("div",g({id:(e.data&&e.data.id?e.data.id:e.id).replace(/[^\w]/gi,"-"),style:{boxSizing:"border-box",position:"absolute",top:n.y,left:n.x,width:n.width,height:n.height,background:n.color,overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",borderWidth:n.borderWidth,borderStyle:"solid",borderColor:n.borderColor}},r),!1!==e.label&&o.createElement("span",{style:{color:n.labelTextColor,transform:"rotate("+(i?"-90":"0")+"deg)",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",userSelect:"none"}},e.label))};_.propTypes={node:a.object.isRequired,style:a.shape({x:a.number.isRequired,y:a.number.isRequired,width:a.number.isRequired,height:a.number.isRequired,color:a.string.isRequired,borderWidth:a.number.isRequired,borderColor:a.string.isRequired,labelTextColor:a.string.isRequired,orientLabel:a.bool.isRequired}).isRequired,handlers:a.object.isRequired};var b={identity:a.oneOfType([a.string,a.func]).isRequired,leavesOnly:a.bool.isRequired,tile:s.treeMapTilePropType.isRequired,innerPadding:a.number.isRequired,outerPadding:a.number.isRequired,enableLabel:a.bool.isRequired,label:a.oneOfType([a.string,a.func]).isRequired,labelFormat:a.string,labelSkipSize:a.number.isRequired,orientLabel:a.bool.isRequired,borderWidth:a.number.isRequired,borderColor:a.any.isRequired,isInteractive:a.bool.isRequired,onClick:a.func.isRequired,tooltip:a.func},w=g({},b,{nodeComponent:a.func.isRequired},s.defsPropTypes),x=g({},b,{nodeComponent:a.func.isRequired}),C=g({},b,{pixelRatio:a.number.isRequired}),A={identity:"id",tile:"squarify",leavesOnly:!1,enableLabel:!0,label:"id",labelSkipSize:0,labelTextColor:"inherit:darker(1)",orientLabel:!0,innerPadding:0,outerPadding:0,borderWidth:0,borderColor:"inherit",isInteractive:!0,onClick:s.noop},E=g({},A,{nodeComponent:y,defs:[],fill:[]}),S=g({},A,{nodeComponent:_}),M=g({},A,{pixelRatio:t.window&&t.window.devicePixelRatio?t.window.devicePixelRatio:1}),R=Object.freeze({TreeMapPropTypes:w,TreeMapHtmlPropTypes:x,TreeMapCanvasPropTypes:C,TreeMapDefaultProps:E,TreeMapHtmlDefaultProps:S,TreeMapCanvasDefaultProps:M}),N=[s.withHierarchy(),s.withDimensions(),s.withColors({defaultColorBy:"depth"}),s.withTheme(),s.withMotion(),f(["identity"],function(t){var e=t.identity;return{getIdentity:s.getAccessorFor(e)}}),f(["borderColor"],function(t){var e=t.borderColor;return{getBorderColor:s.getInheritedColorGenerator(e)}}),f(["label","labelFormat"],function(t){var e=t.label,n=t.labelFormat;return{getLabel:s.getLabelGenerator(e,n)}}),f(["labelTextColor"],function(t){var e=t.labelTextColor;return{getLabelTextColor:s.getInheritedColorGenerator(e)}}),f(["width","height","tile","innerPadding","outerPadding"],function(t){var e=t.width,n=t.height,r=t.tile,i=t.innerPadding,o=t.outerPadding;return{treemap:u.treemap().size([e,n]).tile(s.treeMapTileFromProp(r)).round(!0).paddingInner(i).paddingOuter(o)}}),f(["root","treemap","leavesOnly","getIdentity","getColor"],function(t){var e=t.root,n=t.treemap,r=t.leavesOnly,i=t.getIdentity,o=t.getColor,a=l(e);n(a);var s=r?a.leaves():a.descendants();return{nodes:s=s.map(function(t){return t.path=function(t,e){return t.ancestors().map(function(t){return e(t.data)}).join(".")}(t,i),t.nodeHeight=t.height,t.x=t.x0,t.y=t.y0,t.width=t.x1-t.x0,t.height=t.y1-t.y0,t.data.color=t.color=o(g({},t.data,{depth:t.depth})),t.data.id=t.id=i(t.data),t.data.value=t.value,t})}}),f(["enableLabel","nodes","getLabel","labelSkipSize"],function(t){var e=t.enableLabel,n=t.nodes,r=t.getLabel,i=t.labelSkipSize;if(e)return{nodes:n.map(function(t){return t.nodeHeight>0||0!==i&&Math.min(t.width,t.height)<=i?t:g({},t,{label:r(t.data)})})}})],k=[f(["nodes","defs","fill"],function(t){var e=t.nodes,n=t.defs,r=t.fill;return{defs:s.bindDefs(n,e,r,{targetKey:"fill"})}})],T=function(t){var e=R[t.displayName+"DefaultProps"];switch(t.displayName){case"TreeMap":return c.apply(void 0,[h(e)].concat(N,k,[s.withMotion(),p]))(t);case"TreeMapHtml":return c.apply(void 0,[h(e)].concat(N,[s.withMotion(),p]))(t);case"TreeMapCanvas":return c.apply(void 0,[h(e)].concat(N,[p]))(t)}return t},O=function(t){var e=t.data;return g({x:e.x,y:e.y,width:e.width,height:e.height},s.colorMotionSpring(e.color))},j=function(t){return function(e){var n=e.data;return g({x:d.spring(n.x+n.width/2,t),y:d.spring(n.y+n.height/2,t),width:d.spring(0,t),height:d.spring(0,t)},s.colorMotionSpring(n.color,t))}},P=function(t){var e=t.node,n=t.theme,r=t.tooltip;return o.createElement(s.BasicTooltip,{id:e.id,value:e.value,enableChip:!0,color:e.color,theme:n,renderContent:"function"===typeof r?r.bind(null,g({node:e},e)):null})};P.propTypes={node:a.shape({id:a.oneOfType([a.string,a.number]).isRequired,value:a.number.isRequired,color:a.string.isRequired}).isRequired,theme:a.object.isRequired,tooltip:a.func};var I=p(P),L=function(t,e){var n=e.isInteractive,r=e.onClick,i=e.showTooltip,a=e.hideTooltip,s=e.theme,u=e.tooltip;if(!n)return{};var l=function(e){i(o.createElement(I,{node:t,theme:s,tooltip:u}),e)};return{onMouseEnter:l,onMouseMove:l,onMouseLeave:a,onClick:function(e){return r(t,e)}}},q=function(t){var e=t.nodes,n=t.nodeComponent,r=t.margin,i=t.outerWidth,a=t.outerHeight,u=t.theme,l=t.borderWidth,c=t.getBorderColor,h=t.defs,f=t.getLabelTextColor,p=t.orientLabel,v=t.animate,m=t.motionStiffness,y=t.motionDamping,_=t.isInteractive,b=t.onClick,w=t.tooltipFormat,x=t.tooltip,C={stiffness:m,damping:y},A=function(t,e,n){return L(t,{isInteractive:_,onClick:b,showTooltip:e,hideTooltip:n,theme:u,tooltipFormat:w,tooltip:x})};return o.createElement(s.Container,{isInteractive:_,theme:u},function(t){var m=t.showTooltip,y=t.hideTooltip;return o.createElement(s.SvgWrapper,{width:i,height:a,margin:r,defs:h,theme:u},!v&&o.createElement("g",null,e.map(function(t){return o.createElement(n,{key:t.path,node:t,style:{fill:t.fill,x:t.x0,y:t.y0,width:t.width,height:t.height,color:t.color,borderWidth:l,borderColor:c(t),labelTextColor:f(t),orientLabel:p},handlers:A(t,m,y),theme:u})})),v&&o.createElement(d.TransitionMotion,{willEnter:O,willLeave:j(C),styles:e.map(function(t){return{key:t.path,data:t,style:g({x:d.spring(t.x,C),y:d.spring(t.y,C),width:d.spring(t.width,C),height:d.spring(t.height,C)},s.colorMotionSpring(t.color,C))}})},function(t){return o.createElement("g",null,t.map(function(t){var e=t.style,r=t.data;return e.color=s.getInterpolatedColor(e),o.createElement(n,{key:r.path,node:r,style:g({},e,{fill:r.fill,borderWidth:l,borderColor:c(e),labelTextColor:f(e),orientLabel:p}),handlers:A(r,m,y),theme:u})}))}))})};q.propTypes=w,q.displayName="TreeMap";var U=T(q);U.displayName="TreeMap";var H=function(t){var e=t.nodes,n=t.nodeComponent,r=t.margin,i=t.outerWidth,a=t.outerHeight,u=t.theme,l=t.borderWidth,c=t.getBorderColor,h=t.getLabelTextColor,f=t.orientLabel,p=t.animate,v=t.motionStiffness,m=t.motionDamping,y=t.isInteractive,_=t.onClick,b=t.tooltipFormat,w=t.tooltip,x={stiffness:v,damping:m},C=function(t,e,n){return L(t,{isInteractive:y,onClick:_,showTooltip:e,hideTooltip:n,theme:u,tooltipFormat:b,tooltip:w})};return o.createElement(s.Container,{theme:u},function(t){var u=t.showTooltip,v=t.hideTooltip;return o.createElement("div",{style:{position:"relative",width:i,height:a}},!p&&o.createElement("div",{style:{position:"absolute",top:r.top,left:r.left}},e.map(function(t){return o.createElement(n,{key:t.path,node:t,style:{x:t.x,y:t.y,width:t.width,height:t.height,color:t.color,borderWidth:l,borderColor:c(t),labelTextColor:h(t),orientLabel:f},handlers:C(t,u,v)})})),p&&o.createElement(d.TransitionMotion,{willEnter:O,willLeave:j(x),styles:e.map(function(t){return{key:t.path,data:t,style:g({x:d.spring(t.x,x),y:d.spring(t.y,x),width:d.spring(t.width,x),height:d.spring(t.height,x)},s.colorMotionSpring(t.color,x))}})},function(t){return o.createElement("div",{style:{position:"absolute",top:r.top,left:r.left}},t.map(function(t){var e=t.style,r=t.data;return e.color=s.getInterpolatedColor(e),o.createElement(n,{key:r.path,node:r,style:g({},e,{fill:r.fill,borderWidth:l,borderColor:c(e),labelTextColor:h(e),orientLabel:f}),handlers:C(r,u,v)})}))}))})};H.propTypes=x,H.displayName="TreeMapHtml";var D=T(H);D.displayName="TreeMapHtml";var F=function(t,e,n,r){return t.find(function(t){return s.isCursorInRect(t.x+e.left,t.y+e.top,t.width,t.height,n,r)})},B=function(t){function e(){var n,r;v(this,e);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=m(this,t.call.apply(t,[this].concat(a))),r.handleMouseHover=function(t,e){return function(n){var i=r.props,a=i.isInteractive,u=i.nodes,l=i.margin,c=i.theme;if(a){var h=s.getRelativeCursor(r.surface,n),f=h[0],p=h[1],d=F(u,l,f,p);void 0!==d?t(o.createElement(I,{node:d,theme:c}),n):e()}}},r.handleMouseLeave=function(t){return function(){t()}},r.handleClick=function(t){var e=r.props,n=e.isInteractive,i=e.nodes,o=e.margin,a=e.onClick;if(n){var u=s.getRelativeCursor(r.surface,t),l=u[0],c=u[1],h=F(i,o,l,c);void 0!==h&&a(h,t)}},m(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)},e.prototype.componentDidUpdate=function(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)},e.prototype.draw=function(t){var e=this,n=t.nodes,r=t.pixelRatio,i=t.margin,o=t.outerWidth,a=t.outerHeight,u=t.borderWidth,l=t.getBorderColor,c=t.enableLabel,h=t.getLabelTextColor,f=t.orientLabel,p=t.theme;this.surface.width=o*r,this.surface.height=a*r,this.ctx.scale(r,r),this.ctx.fillStyle=p.background,this.ctx.fillRect(0,0,o,a),this.ctx.translate(i.left,i.top),n.forEach(function(t){e.ctx.fillStyle=t.color,e.ctx.fillRect(t.x,t.y,t.width,t.height),u>0&&(e.ctx.strokeStyle=l(t),e.ctx.lineWidth=u,e.ctx.strokeRect(t.x,t.y,t.width,t.height))}),c&&(this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.font=p.labels.text.fontSize+"px "+(p.labels.text.fontFamily||"sans-serif"),n.filter(function(t){return void 0!==t.label}).forEach(function(t){var n=h(t),r=f&&t.height>t.width;e.ctx.save(),e.ctx.translate(t.x+t.width/2,t.y+t.height/2),e.ctx.rotate(s.degreesToRadians(r?-90:0)),e.ctx.fillStyle=n,e.ctx.fillText(t.label,0,0),e.ctx.restore()}))},e.prototype.render=function(){var t=this,e=this.props,n=e.outerWidth,r=e.outerHeight,i=e.pixelRatio,a=e.isInteractive,u=e.theme;return o.createElement(s.Container,{isInteractive:a,theme:u},function(e){var a=e.showTooltip,s=e.hideTooltip;return o.createElement("canvas",{ref:function(e){t.surface=e},width:n*i,height:r*i,style:{width:n,height:r},onMouseEnter:t.handleMouseHover(a,s),onMouseMove:t.handleMouseHover(a,s),onMouseLeave:t.handleMouseLeave(s),onClick:t.handleClick})})},e}(i.Component);B.propTypes=C,B.displayName="TreeMapCanvas";var W=T(B);W.displayName="TreeMapCanvas";e.TreeMap=U,e.ResponsiveTreeMap=function(t){return o.createElement(s.ResponsiveWrapper,null,function(e){var n=e.width,r=e.height;return o.createElement(U,g({width:n,height:r},t))})},e.TreeMapHtml=D,e.ResponsiveTreeMapHtml=function(t){return o.createElement(s.ResponsiveWrapper,null,function(e){var n=e.width,r=e.height;return o.createElement(D,g({width:n,height:r},t))})},e.TreeMapCanvas=W,e.ResponsiveTreeMapCanvas=function(t){return o.createElement(s.ResponsiveWrapper,null,function(e){var n=e.width,r=e.height;return o.createElement(W,g({width:n,height:r},t))})},e.TreeMapPropTypes=w,e.TreeMapHtmlPropTypes=x,e.TreeMapCanvasPropTypes=C,e.TreeMapDefaultProps=E,e.TreeMapHtmlDefaultProps=S,e.TreeMapCanvasDefaultProps=M}).call(this,n(67))},855:function(t,e,n){var r=n(359),i=1,o=4;t.exports=function(t){return r(t,i|o)}},883:function(t,e,n){"use strict";n.r(e);var r=n(27),i=n(28),o=n(30),a=n(29),s=n(198),u=n(31),l=n(1),c=n.n(l),h=n(188),f=n(208),p=n(865),d=n(866),v=n(867),g=n(868),m=n(869),y=n(594),_=n.n(y),b=n(392),w=function(t){function e(){return Object(r.a)(this,e),Object(o.a)(this,Object(a.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(i.a)(e,[{key:"readTestCoverage",value:function(t,e){var n="MATCH (c:Jacoco:Class)-[:HAS_METHOD]->(m:Method:Jacoco)-[:HAS_COUNTER]->(cnt:Counter) WHERE cnt.type='INSTRUCTION' RETURN  c.fqn as fqn, m.signature as signature,(cnt.covered*100)/(cnt.covered+cnt.missed) as coverage, cnt.covered+cnt.missed as loc ORDER BY fqn, signature ASCENDING";localStorage.setItem("test_coverage_original_query",n),this.state={queryString:n},localStorage.getItem("test_coverage_expert_query")?this.state.queryString=localStorage.getItem("test_coverage_expert_query"):localStorage.setItem("test_coverage_expert_query",this.state.queryString);var r=[],i=[],o=[],a=new b.a;h.d.run(this.state.queryString).then(function(t){var n=1;t.records.forEach(function(t){var e=t.get("fqn"),i={id:n,name:t.get("signature"),fqn:e,coverage:t.get("coverage").low,loc:t.get("loc").low,level:e.split(".").length+1,role:"leaf"};r.push(i),o[e]||(n++,o[e]=n,r.push({id:n,name:e,coverage:-1,loc:0,level:e.split(".").length}));for(var a=0;-1!==e.lastIndexOf(".");)n++,a=e.split(".").length-1,e=e.substring(0,e.lastIndexOf(".")),o[e]||(o[e]=n,r.push({id:n,name:e,coverage:-1,loc:0,level:a}));n++}),i=a.circlePackingById(e,r,o),a.normalizeTestCoverage(i),i.key=i.data.id,i.name=i.data.name,i.coverage=i.data.coverage,i.loc=i.data.loc,h.d.close()}).then(function(e){t.setState({testCoverageData:i})}).catch(function(t){console.log(t)})}}]),e}(h.c),x=n(853),C=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(o.a)(this,Object(a.a)(e).call(this,t))).state={testCoverageData:{}},n}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentWillMount",value:function(){Object(s.a)(Object(a.a)(e.prototype),"componentWillMount",this).call(this)}},{key:"componentDidMount",value:function(){(Object(s.a)(Object(a.a)(e.prototype),"componentDidMount",this).call(this),h.b)&&(new w).readTestCoverage(this,localStorage.getItem("projectName"))}},{key:"findCoverageByNode",value:function(t){var e=t.data.data.id,n=function t(e,n){for(var r=0;r<e.children.length;r++){if(e.children[r].data.id===n)return e.children[r];if(e.children[r].children){var i=t(e.children[r],n);if(i)return i}}}(this.state.testCoverageData,e);if(n||this.state.testCoverageData.id===e&&(n=this.state.testCoverageData),"object"===typeof n&&"undefined"!==typeof n.coverage)return n.coverage}},{key:"componentWillUnmount",value:function(){Object(s.a)(Object(a.a)(e.prototype),"componentWillUnmount",this).call(this)}},{key:"handleAction",value:function(t){switch(t.action.actionType){case"EXPERT_QUERY":if(h.b)(new w).readTestCoverage(this,localStorage.getItem("projectName"));break;default:return!0}}},{key:"render",value:function(){var t=Object(s.a)(Object(a.a)(e.prototype),"render",this).call(this);if(t.length>0)return t;if(!this.state.testCoverageData.name)return"";var n=this;return c.a.createElement("div",{className:"visualization-wrapper"},c.a.createElement("div",{className:"test-coverage",style:{height:"800px"}},c.a.createElement(x.ResponsiveTreeMapHtml,{root:this.state.testCoverageData,identity:"name",value:"loc",innerPadding:2,outerPadding:2,margin:{top:10,right:10,bottom:10,left:10},enableLabel:!1,colors:"nivo",colorBy:function(t){var e=t.data,n="undefined";if(e&&e.role&&(n=e.role),e&&"leaf"===n){var r=e.coverage/100,i=_()("red","green").rgbAt(r);return"rgb("+Math.round(i._r)+", "+Math.round(i._g)+", "+Math.round(i._b)+")"}if(e){var o=e.level;return"rgb("+(228-11*o*2)+", "+(242-6*o*2)+", "+(243-6*o*2)+")"}},borderColor:"inherit:darker(0.3)",animate:!1,motionStiffness:90,motionDamping:11,tooltip:function(t){var r=t.id,i=t.value,o=t.color,a=t.node;return c.a.createElement("div",{style:{whiteSpace:"pre",display:"flex",alignItems:"center"}},c.a.createElement("span",{style:{display:"block",height:"12px",width:"12px",marginRight:"7px",backgroundColor:o}}),c.a.createElement("span",null,c.a.createElement("strong",null,c.a.createElement("span",{className:"additional"},e.reversePathForDisplay(a)),c.a.createElement("span",{className:"additional"},r),c.a.createElement("span",{className:"additional"},"LOC: ",i,n.findCoverageByNode(a)>-1?", Test coverage: "+n.findCoverageByNode(a)+"%":""))))}})))}}],[{key:"reversePathForDisplay",value:function(t){var e=t.path;(e=e.substr(t.id.length)).length>0&&(e=e.substr(1));for(var n=e.split("."),r="",i=n.length-1;i>-1;i--)r+="."+n[i];return r.length>0&&(r=r.substr(1)),r}}]),e}(h.c),A=n(257),E=n(189),S=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(o.a)(this,Object(a.a)(e).call(this,t))).state={query:""},n}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentWillMount",value:function(){Object(s.a)(Object(a.a)(e.prototype),"componentWillMount",this).call(this)}},{key:"componentDidMount",value:function(){Object(s.a)(Object(a.a)(e.prototype),"componentDidMount",this).call(this),this.setState({query:localStorage.getItem("test_coverage_expert_query")})}},{key:"componentWillUnmount",value:function(){Object(s.a)(Object(a.a)(e.prototype),"componentWillUnmount",this).call(this)}},{key:"clear",value:function(t){localStorage.setItem("test_coverage_expert_query",localStorage.getItem("test_coverage_original_query")),this.sendQuery(this)}},{key:"sendQuery",value:function(t){this.setState({query:localStorage.getItem("test_coverage_expert_query")}),E.handleAction({actionType:"EXPERT_QUERY",data:{queryString:localStorage.getItem("test_coverage_expert_query")}})}},{key:"updateStateQuery",value:function(t){localStorage.setItem("test_coverage_expert_query",t)}},{key:"render",value:function(){var t=Object(s.a)(Object(a.a)(e.prototype),"render",this).call(this);return t.length>0?t:c.a.createElement("div",null,c.a.createElement(p.a,null,c.a.createElement(d.a,{xs:"12",sm:"12",md:"12"},c.a.createElement(v.a,null,c.a.createElement(f.a,{cardHeaderText:"Test Coverage",showExpertMode:!0,placement:"bottom",target:"Popover1",popoverHeaderText:"Test Coverage",popoverBody:"The test coverage view highlights untested code with a colored treemap. Packages, types, and methods are mapped to nested rectangles where the LOC define the size and the test coverage defines the color of a rectangle."}),c.a.createElement(g.a,null,c.a.createElement(p.a,null,c.a.createElement(d.a,{xs:"12",sm:"12",md:"12"},c.a.createElement("div",{className:"expert-mode-editor hide-expert-mode test-coverage"},c.a.createElement(A.CypherEditor,{className:"cypheredit",value:this.state.query,options:{mode:"cypher",theme:"cypher"},onValueChange:this.updateStateQuery.bind(this)}),c.a.createElement(m.a,{onClick:this.sendQuery.bind(this),className:"btn btn-success send-query float-right",color:"success",id:"send"},"Send"),c.a.createElement(m.a,{onClick:this.clear.bind(this),className:"btn btn-success send-query float-right margin-right",color:"danger",id:"reset"},"Reset")),c.a.createElement(C,null))))))))}}]),e}(h.c);e.default=S}}]);
//# sourceMappingURL=12.a6b35fde.chunk.js.map