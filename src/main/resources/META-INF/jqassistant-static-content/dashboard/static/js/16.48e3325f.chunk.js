(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{188:function(e,t,r){"use strict";r.d(t,"d",function(){return m}),r.d(t,"b",function(){return g}),r.d(t,"a",function(){return f});var a=r(27),n=r(28),o=r(30),s=r(29),i=r(31),c=r(1),l=r.n(c),u=r(181),d=r(189),h=(localStorage.getItem("connectionString"),localStorage.getItem("username"),localStorage.getItem("password"),null),p=null,m=null,g=!1,y=!0;function f(e,t){this.message=e,this.name=t}var v=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentWillMount",value:function(){return this.handleAction=this.handleAction.bind(this),this.setState({dispatcherEventId:d.register(this.handleAction)}),new Promise(t.checkForDatabaseConnection).then(this.testDatabaseCredentials())}},{key:"testDatabaseCredentials",value:function(){var e,t,a;if(e=localStorage.getItem("connectionString"),t=localStorage.getItem("username"),a=localStorage.getItem("password"),g)return this.refreshConnectionSettings(),h="undefined"!==typeof testrun?r(240):r(241),p=h.v1.driver("bolt://"+e,h.v1.auth.basic(t,a)),(m=p.session()).run("match (n) return n limit 1").then(function(){y=!0}).catch(function(e){throw y=!1,"",new f("Invalid database connection data","InvalidDatabaseConnectionException")})}},{key:"componentDidMount",value:function(){}},{key:"refreshConnectionSettings",value:function(){localStorage.getItem("connectionString"),localStorage.getItem("username"),localStorage.getItem("password")}},{key:"componentWillUnmount",value:function(){d.unregister(this.state.dispatcherEventId)}},{key:"handleAction",value:function(e){switch(e.action.actionType){case"SET_STATE":var t=e.action.data;this.setState(t)}}},{key:"render",value:function(){var e=[];if(!g||!y){console.log("No database credentials, redirecting to settings...");var t=window.location.protocol+"//"+window.location.host+"/#";"/settings"!==window.location.href.replace(t,"")&&e.push(l.a.createElement(u.a,{key:"dummy",to:"/settings"}))}return e}}],[{key:"checkForDatabaseConnection",value:function(){var e=localStorage.getItem("connectionString"),t=localStorage.getItem("password"),r=localStorage.getItem("username");if(!(g=null!==e&&""!==e&&null!==t&&""!==t&&null!==r&&""!==r)&&"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_IP&&"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_USERNAME&&"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_PASSWORD){localStorage.setItem("connectionString",Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_IP),localStorage.setItem("username",Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_USERNAME),localStorage.setItem("password",Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_NEO4J_PASSWORD);var a="My project";"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_PROJECT_NAME&&(a=Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_PROJECT_NAME),localStorage.setItem("projectName",a);var n="70";"undefined"!==typeof Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_LIMIT_COUNTING_HOTSPOTS&&(n=Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_LIMIT_COUNTING_HOTSPOTS),localStorage.setItem("limitCountingHotspots",n),g=!0}}}]),t}(c.Component);t.c=v},189:function(e,t,r){var a=new(0,r(239).Dispatcher);a.handleAction=function(e){this.dispatch({source:"VIEW_ACTION",action:e})},e.exports=a},208:function(e,t,r){"use strict";var a=r(27),n=r(28),o=r(30),s=r(29),i=r(31),c=r(68),l=r(1),u=r.n(l),d=r(863),h=r(864),p=r(865),m=r(866),g=r(867),y=r(13),f=r(222),v=r.n(f),_=function(e){function t(e){var r;return Object(a.a)(this,t),(r=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={tooltipOpen:[!1,!1],popoverOpen:!1,popovers:[{placement:"bottom",text:"Bottom"}]},r.toggleInfo=r.toggleInfo.bind(Object(c.a)(Object(c.a)(r))),r}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){v()(".expert-mode").each(function(){!1===v()(this).hasClass("expert-mode-set")&&(v()(this).on("change",function(){var e=v()(this).find("input").attr("id"),t=v()(".expert-mode-editor"),r=v()(".visualization-wrapper");"undefined"!==typeof e&&t.hasClass(e)&&(r=(t=v()(".expert-mode-editor."+e)).next(".visualization-wrapper")),t.hasClass("hide-expert-mode")?(t.removeClass("hide-expert-mode"),r.addClass("margin-top-50 margin-bottom-50"),t.parent(".card-body").addClass("height-auto")):(t.addClass("hide-expert-mode"),r.removeClass("margin-top-50 margin-bottom-50"),t.parent(".card-body").removeClass("height-auto"))}),v()(this).addClass("expert-mode-set"))})}},{key:"toggle",value:function(e){var t=this.state.tooltipOpen.map(function(t,r){return r===e&&!t});this.setState({tooltipOpen:t})}},{key:"toggleInfo",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"render",value:function(){var e=this,t=this.props.cardHeaderText,r=this.props.showExpertMode,a=this.props.placement,n=this.props.target,o=this.props.popoverHeaderText,s=this.props.popoverBody,i=t.toLowerCase().replace(/\s/g,"-").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""),c="";return r&&(c=u.a.createElement("div",{className:"float-left"},u.a.createElement("div",{id:"tooltip-"+i},u.a.createElement(y.j,{id:i,className:"mx-1 float-right display-block expert-mode "+i,color:"secondary",size:"sm",label:!0})),u.a.createElement(d.a,{placement:"top",isOpen:this.state.tooltipOpen[0],target:"tooltip-"+i,toggle:function(){e.toggle(0)}},"Toggle expert mode"))),u.a.createElement(h.a,null,t,u.a.createElement("div",{className:"card-actions"},c,u.a.createElement("button",{onClick:this.toggleInfo,id:n},u.a.createElement("i",{className:"text-muted fa fa-question-circle"})),u.a.createElement(d.a,{placement:"top",isOpen:this.state.tooltipOpen[1],target:n,toggle:function(){e.toggle(1)}},"Show details"),u.a.createElement(p.a,{placement:a,isOpen:this.state.popoverOpen,target:n,toggle:this.toggleInfo},u.a.createElement(m.a,null,o),u.a.createElement(g.a,null,s))))}}]),t}(l.Component);t.a=_},703:function(e,t,r){e.exports=r(704)},704:function(e,t,r){var a=function(){return this||"object"===typeof self&&self}()||Function("return this")(),n=a.regeneratorRuntime&&Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime")>=0,o=n&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,e.exports=r(705),n)a.regeneratorRuntime=o;else try{delete a.regeneratorRuntime}catch(s){a.regeneratorRuntime=void 0}},705:function(e,t){!function(t){"use strict";var r,a=Object.prototype,n=a.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",l="object"===typeof e,u=t.regeneratorRuntime;if(u)l&&(e.exports=u);else{(u=t.regeneratorRuntime=l?e.exports:{}).wrap=b;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={},y={};y[s]=function(){return this};var f=Object.getPrototypeOf,v=f&&f(f(M([])));v&&v!==a&&n.call(v,s)&&(y=v);var _=C.prototype=S.prototype=Object.create(y);I.prototype=_.constructor=C,C.constructor=I,C[c]=I.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===I||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(_),e},u.awrap=function(e){return{__await:e}},T(O.prototype),O.prototype[i]=function(){return this},u.AsyncIterator=O,u.async=function(e,t,r,a){var n=new O(b(e,t,r,a));return u.isGeneratorFunction(t)?n:n.next().then(function(e){return e.done?e.value:n.next()})},T(_),_[c]="Generator",_[s]=function(){return this},_.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},u.values=M,q.prototype={constructor:q,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=r),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],i=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;x(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:M(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=r),g}}}function b(e,t,r,a){var n=t&&t.prototype instanceof S?t:S,o=Object.create(n.prototype),s=new q(a||[]);return o._invoke=function(e,t,r){var a=d;return function(n,o){if(a===p)throw new Error("Generator is already running");if(a===m){if("throw"===n)throw o;return P()}for(r.method=n,r.arg=o;;){var s=r.delegate;if(s){var i=N(s,r);if(i){if(i===g)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var c=E(e,t,r);if("normal"===c.type){if(a=r.done?m:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=m,r.method="throw",r.arg=c.arg)}}}(e,r,s),o}function E(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(a){return{type:"throw",arg:a}}}function S(){}function I(){}function C(){}function T(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function O(e){var t;this._invoke=function(r,a){function o(){return new Promise(function(t,o){!function t(r,a,o,s){var i=E(e[r],e,a);if("throw"!==i.type){var c=i.arg,l=c.value;return l&&"object"===typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,o,s)},function(e){t("throw",e,o,s)}):Promise.resolve(l).then(function(e){c.value=e,o(c)},function(e){return t("throw",e,o,s)})}s(i.arg)}(r,a,t,o)})}return t=t?t.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(a===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,N(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=E(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,g;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,g):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function q(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function M(e){if(e){var t=e[s];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:r,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},881:function(e,t,r){"use strict";r.r(t);var a=r(27),n=r(28),o=r(30),s=r(29),i=r(198),c=r(31),l=r(68),u=r(1),d=r.n(u),h=r(188),p=r(208),m=r(257),g=r(868),y=r(869),f=r(870),v=r(871),_=r(872),b=r(6),E=r(7),S=r(0),I=r.n(S),C=r(2),T=r.n(C),O=r(3),N={tag:O.k,flush:I.a.bool,className:I.a.string,cssModule:I.a.object},A=function(e){var t=e.className,r=e.cssModule,a=e.tag,n=e.flush,o=Object(E.a)(e,["className","cssModule","tag","flush"]),s=Object(O.h)(T()(t,"list-group",!!n&&"list-group-flush"),r);return d.a.createElement(a,Object(b.a)({},o,{className:s}))};A.propTypes=N,A.defaultProps={tag:"ul"};var x=A,q={tag:O.k,active:I.a.bool,disabled:I.a.bool,color:I.a.string,action:I.a.bool,className:I.a.any,cssModule:I.a.object},M=function(e){e.preventDefault()},P=function(e){var t=e.className,r=e.cssModule,a=e.tag,n=e.active,o=e.disabled,s=e.action,i=e.color,c=Object(E.a)(e,["className","cssModule","tag","active","disabled","action","color"]),l=Object(O.h)(T()(t,!!n&&"active",!!o&&"disabled",!!s&&"list-group-item-action",!!i&&"list-group-item-"+i,"list-group-item"),r);return o&&(c.onClick=M),d.a.createElement(a,Object(b.a)({},c,{className:l}))};P.propTypes=q,P.defaultProps={tag:"li"};var w=P,k=r(703),j=r.n(k);function L(e,t,r,a,n,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?t(c):Promise.resolve(c).then(a,n)}var R=function(){function e(t){Object(a.a)(this,e);var r="OPTIONAL MATCH (t:Type:Class) WITH count(t) as classes OPTIONAL MATCH (t:Type:Interface) WITH classes, count(t) as interfaces OPTIONAL MATCH (t:Type:Enum) WITH classes, interfaces, count(t) as enums OPTIONAL MATCH (t:Type:Annotation) WITH  classes, interfaces, enums, count(t) as annotations OPTIONAL MATCH (:Artifact)-[:CONTAINS]->(t:Type), (t)-[:DECLARES]->(m:Method) WITH classes, interfaces, enums, annotations, count(m) as methods, sum(m.effectiveLineCount) as loc OPTIONAL MATCH (:Artifact)-[:CONTAINS]->(t:Type), (t)-[:DECLARES]->(f:Field) RETURN classes, interfaces, enums, annotations, methods, loc, count(f) as fields";localStorage.setItem("dashboard_structure_original_query",r);var n='OPTIONAL MATCH (:Artifact)-[:CONTAINS]->(t:Type), (t)-[d:DEPENDS_ON]->(:Type) WITH count(d) as dependencies OPTIONAL MATCH (:Artifact)-[:CONTAINS]->(t:Type), (t)-[e:EXTENDS]->(superType:Type) WHERE superType.name <> "Object" WITH dependencies, count(e) as extends OPTIONAL MATCH (:Artifact)-[:CONTAINS]->(t:Type), (t)-[i:IMPLEMENTS]->(:Type) WITH dependencies, extends, count(i) as implements OPTIONAL MATCH (:Artifact)-[:CONTAINS]->(t:Type), (t)-[:DECLARES]->(m:Method)-[i:INVOKES]->(:Method) WITH dependencies, extends, implements, count(i) as invocations OPTIONAL MATCH (:Artifact)-[:CONTAINS]->(t:Type), (t)-[:DECLARES]->(m:Method)-[r:READS]->(:Field) WITH dependencies, extends, implements, invocations, count(r) as reads OPTIONAL MATCH (:Artifact)-[:CONTAINS]->(t:Type), (t)-[:DECLARES]->(m:Method)-[w:WRITES]->(:Field) RETURN dependencies, extends, implements, invocations, reads, count(w) as writes';localStorage.setItem("dashboard_dependencies_original_query",n);var o="OPTIONAL MATCH (a:Author) WITH count(a) as authors OPTIONAL MATCH (c:Commit) WHERE NOT c:Merge WITH authors, count(c) as commitsWithoutMerges OPTIONAL MATCH (c:Commit:Merge) RETURN authors, commitsWithoutMerges, count(c) as commitsWithMerges";localStorage.setItem("dashboard_activity_original_query",o);var s="MATCH (c:Commit)-[:CONTAINS_CHANGE]->()-[:MODIFIES]->(f:File) WHERE NOT c:Merge WITH f, count(c) as commits MATCH (t:Type)-[:HAS_SOURCE]->(f), (t)-[:DECLARES]->(m:Method) RETURN t.fqn as fqn, sum(commits) as commits ORDER BY fqn ASCENDING";localStorage.setItem("dashboard_hotspot_original_query",s);var i="MATCH (:Report)-[:HAS_FILE]->(file:File:Pmd)-[:HAS_VIOLATION]->(violation:Violation) RETURN count(violation)";localStorage.setItem("dashboard_pmd_original_query",i);var c="MATCH (c:Jacoco:Class)-[:HAS_METHOD]->(m:Method:Jacoco)-[:HAS_COUNTER]->(t:Counter) WHERE t.type='INSTRUCTION' RETURN (sum(t.covered)*100)/(sum(t.covered)+sum(t.missed)) as coverage";localStorage.setItem("dashboard_test_coverage_original_query",c);this.state={queryStringStructure:r,queryStringDependencies:n,queryStringActivity:o,queryStringHotspot:s,queryStringPMD:i,queryStringTestCoverage:c,queryPluginPresence:"OPTIONAL MATCH (x:Git) WITH count(x) > 0 as git OPTIONAL MATCH (x:Jacoco) WITH git, count(x) > 0 as jacoco OPTIONAL MATCH (x:Pmd) WITH git, jacoco,count(x) > 0 as pmd RETURN git, jacoco, pmd"},localStorage.getItem("dashboard_structure_expert_query")?this.state.queryStringStructure=localStorage.getItem("dashboard_structure_expert_query"):localStorage.setItem("dashboard_structure_expert_query",this.state.queryStringStructure),localStorage.getItem("dashboard_dependencies_expert_query")?this.state.queryStringDependencies=localStorage.getItem("dashboard_dependencies_expert_query"):localStorage.setItem("dashboard_dependencies_expert_query",this.state.queryStringDependencies),localStorage.getItem("dashboard_activity_expert_query")?this.state.queryStringActivity=localStorage.getItem("dashboard_activity_expert_query"):localStorage.setItem("dashboard_activity_expert_query",this.state.queryStringActivity),localStorage.getItem("dashboard_hotspot_expert_query")?this.state.queryStringHotspot=localStorage.getItem("dashboard_hotspot_expert_query"):localStorage.setItem("dashboard_hotspot_expert_query",this.state.queryStringHotspot),localStorage.getItem("dashboard_pmd_expert_query")?this.state.queryStringPMD=localStorage.getItem("dashboard_pmd_expert_query"):localStorage.setItem("dashboard_pmd_expert_query",this.state.queryStringPMD),localStorage.getItem("dashboard_test_coverage_expert_query")?this.state.queryStringTestCoverage=localStorage.getItem("dashboard_test_coverage_expert_query"):localStorage.setItem("dashboard_test_coverage_expert_query",this.state.queryStringTestCoverage)}return Object(n.a)(e,[{key:"readPluginPresence",value:function(){var e,t=(e=j.a.mark(function e(t){var r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(h.d.run(this.state.queryPluginPresence).then(function(e){e.records.forEach(function(e){r={git:e.get("git"),jacoco:e.get("jacoco"),pmd:e.get("pmd")}})}).then(function(e){t.setState({pluginPresence:r})}).catch(function(e){console.log(e)}));case 2:return e.abrupt("return",Promise.resolve(t));case 3:case"end":return e.stop()}},e,this)}),function(){var t=this,r=arguments;return new Promise(function(a,n){var o=e.apply(t,r);function s(e){L(o,a,n,s,i,"next",e)}function i(e){L(o,a,n,s,i,"throw",e)}s(void 0)})});return function(e){return t.apply(this,arguments)}}()},{key:"readStructureMetrics",value:function(e){var t=[];h.d.run(this.state.queryStringStructure).then(function(e){e.records.forEach(function(e){t={classes:e.get(0).low,interfaces:e.get(1).low,enums:e.get(2).low,annotations:e.get(3).low,methods:e.get(4).low,loc:e.get(5).low,fields:e.get(6).low}})}).then(function(r){e.setState({structureMetrics:t})}).catch(function(e){console.log(e)})}},{key:"readDependencyMetrics",value:function(e){var t=[];h.d.run(this.state.queryStringDependencies).then(function(e){e.records.forEach(function(e){t={dependencies:e.get(0).low,extends:e.get(1).low,implements:e.get(2).low,invocations:e.get(3).low,reads:e.get(4).low,writes:e.get(5).low}})}).then(function(r){e.setState({dependencyMetrics:t})}).catch(function(e){console.log(e)})}},{key:"readActivityMetrics",value:function(e){var t=[];h.d.run(this.state.queryStringActivity).then(function(e){e.records.forEach(function(e){t={authors:e.get(0).low,commitsWithoutMerges:e.get(1).low,commitsWithMerges:e.get(2).low}})}).then(function(r){e.setState({activityMetrics:t})}).catch(function(e){console.log(e)})}},{key:"readHotspotMetrics",value:function(e){var t=localStorage.getItem("limitCountingHotspots"),r=[];h.d.run(this.state.queryStringHotspot).then(function(e){var a=0;e.records.forEach(function(e){var t=e.get(1).low;t>a&&(a=t)});var n=0;e.records.forEach(function(e){var r=e.get(1).low;Math.round(r/a*100)>=t&&n++}),r={commitHotspots:n}}).then(function(t){e.setState({hotspotMetrics:r})}).catch(function(e){console.log(e)})}},{key:"readStaticCodeAnalysisPMDMetrics",value:function(e){var t=[];h.d.run(this.state.queryStringPMD).then(function(e){e.records.forEach(function(e){t={violations:e.get(0).low}})}).then(function(r){e.setState({staticCodeAnalysisPMDMetrics:t})}).catch(function(e){console.log(e)})}},{key:"readTestCoverageMetrics",value:function(e){var t=[];h.d.run(this.state.queryStringTestCoverage).then(function(e){e.records.forEach(function(e){t={overallTestCoverage:e.get(0).low}})}).then(function(r){e.setState({testCoverageMetrics:t})}).catch(function(e){console.log(e)})}}]),e}(),H=r(222),D=r.n(H),U=r(189),W=function(e){function t(e){var r;return Object(a.a)(this,t),(r=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={queryStructure:"",queryDependencies:"",queryActivity:"",queryHotspot:"",queryPMD:"",queryTestCoverage:"",structureMetrics:{classes:"loading",interfaces:"loading",enums:"loading",annotations:"loading",methods:"loading",loc:"loading",fields:"loading"},dependencyMetrics:{dependencies:"loading",extends:"loading",implements:"loading",invocations:"loading",reads:"loading",writes:"loading"},activityMetrics:{authors:"loading",commitsWithoutMerges:"loading",commitsWithMerges:"loading"},hotspotMetrics:{commitHotspots:"loading"},staticCodeAnalysisPMDMetrics:{violations:"loading"},testCoverageMetrics:{overallTestCoverage:"loading"},pluginPresence:{git:!1,jacoco:!1,pmd:!1}},r.toggleInfo=r.toggleInfo.bind(Object(l.a)(Object(l.a)(r))),r}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){if(Object(i.a)(Object(s.a)(t.prototype),"componentDidMount",this).call(this),h.b){var e=new R;e.readPluginPresence(this).then(function(t){e.readStructureMetrics(t),e.readDependencyMetrics(t),t.state.pluginPresence.git&&(e.readActivityMetrics(t),e.readHotspotMetrics(t)),t.state.pluginPresence.pmd&&e.readStaticCodeAnalysisPMDMetrics(t),t.state.pluginPresence.jacoco&&e.readTestCoverageMetrics(t),t.setState({queryStructure:localStorage.getItem("dashboard_structure_expert_query"),queryDependencies:localStorage.getItem("dashboard_dependencies_expert_query"),queryActivity:localStorage.getItem("dashboard_activity_expert_query"),queryHotspot:localStorage.getItem("dashboard_hotspot_expert_query"),queryPMD:localStorage.getItem("dashboard_pmd_expert_query"),queryTestCoverage:localStorage.getItem("dashboard_test_coverage_expert_query")})})}D()(document).ready(function(){D()(".card-body").each(function(){var e=0;D()(this).height()>e&&(e=D()(this).height()),D()(".card-body").height(e)})})}},{key:"componentWillUnmount",value:function(){Object(i.a)(Object(s.a)(t.prototype),"componentWillUnmount",this).call(this)}},{key:"handleAction",value:function(e){switch(e.action.actionType){case"EXPERT_QUERY":if(h.b){var t=new R;t.readStructureMetrics(this),t.readDependencyMetrics(this),t.readActivityMetrics(this),t.readStaticCodeAnalysisPMDMetrics(this),t.readHotspotMetrics(this),t.readTestCoverageMetrics(this)}break;default:return!0}}},{key:"clearStructure",value:function(e){localStorage.setItem("dashboard_structure_expert_query",localStorage.getItem("dashboard_structure_original_query")),this.sendQuery(this)}},{key:"clearDependencies",value:function(e){localStorage.setItem("dashboard_dependencies_expert_query",localStorage.getItem("dashboard_dependencies_original_query")),this.sendQuery(this)}},{key:"clearActivity",value:function(e){localStorage.setItem("dashboard_activity_expert_query",localStorage.getItem("dashboard_activity_original_query")),this.sendQuery(this)}},{key:"clearHotspot",value:function(e){localStorage.setItem("dashboard_hotspot_expert_query",localStorage.getItem("dashboard_hotspot_original_query")),this.sendQuery(this)}},{key:"clearPMD",value:function(e){localStorage.setItem("dashboard_pmd_expert_query",localStorage.getItem("dashboard_pmd_original_query")),this.sendQuery(this)}},{key:"clearTestCoverage",value:function(e){localStorage.setItem("dashboard_test_coverage_expert_query",localStorage.getItem("dashboard_test_coverage_original_query")),this.sendQuery(this)}},{key:"sendQuery",value:function(e){this.setState({queryStructure:localStorage.getItem("dashboard_structure_expert_query"),queryDependencies:localStorage.getItem("dashboard_dependencies_expert_query"),queryActivity:localStorage.getItem("dashboard_activity_expert_query"),queryHotspot:localStorage.getItem("dashboard_hotspot_expert_query"),queryPMD:localStorage.getItem("dashboard_pmd_expert_query"),queryTestCoverage:localStorage.getItem("dashboard_test_coverage_expert_query")}),U.handleAction({actionType:"EXPERT_QUERY",data:{queryStringStructure:localStorage.getItem("dashboard_structure_expert_query"),queryStringDependencies:localStorage.getItem("dashboard_dependencies_expert_query"),queryStringActivity:localStorage.getItem("dashboard_activity_expert_query"),queryStringHotspot:localStorage.getItem("dashboard_hotspot_expert_query"),queryStringPMD:localStorage.getItem("dashboard_pmd_expert_query"),queryStringTestCoverage:localStorage.getItem("dashboard_test_coverage_expert_query")}})}},{key:"updateStateQueryStructure",value:function(e){localStorage.setItem("dashboard_structure_expert_query",e)}},{key:"updateStateQueryDependencies",value:function(e){localStorage.setItem("dashboard_dependencies_expert_query",e)}},{key:"updateStateQueryActivity",value:function(e){localStorage.setItem("dashboard_activity_expert_query",e)}},{key:"updateStateQueryHotspot",value:function(e){localStorage.setItem("dashboard_hotspot_expert_query",e)}},{key:"updateStateQueryPMD",value:function(e){localStorage.setItem("dashboard_pmd_expert_query",e)}},{key:"updateStateQueryTestCoverage",value:function(e){localStorage.setItem("dashboard_test_coverage_expert_query",e)}},{key:"toggleInfo",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"render",value:function(){var e=Object(i.a)(Object(s.a)(t.prototype),"render",this).call(this);return e.length>0?e:d.a.createElement("div",{className:"animated fadeIn dashboard"},d.a.createElement(g.a,null,d.a.createElement(y.a,{xs:"12",sm:"6",md:"3"},d.a.createElement(f.a,null,d.a.createElement(p.a,{cardHeaderText:"Architecture",showExpertMode:!0,placement:"bottom",target:"Popover1",popoverHeaderText:"Architecture",popoverBody:"Common architecture and dependency metrics provide an overview of the project, e.g., number of classes, LOC, number of dependencies, and field reads."}),d.a.createElement(v.a,null,d.a.createElement("div",{className:"expert-mode-editor hide-expert-mode architecture"},d.a.createElement(m.CypherEditor,{className:"cypheredit",value:this.state.queryStructure,options:{mode:"cypher",theme:"cypher"},onValueChange:this.updateStateQueryStructure.bind(this)}),d.a.createElement(_.a,{onClick:this.sendQuery.bind(this),className:"btn btn-success send-query float-right",color:"success",id:"send"},"Send"),d.a.createElement(_.a,{onClick:this.clearStructure.bind(this),className:"btn btn-success send-query float-right margin-right",color:"danger",id:"reset"},"Reset")),d.a.createElement("a",{href:"#/architecture/structure",className:"display-block clear"},d.a.createElement("strong",null,"Structure metrics"),d.a.createElement(x,{className:"margin-bottom"},Object.keys(this.state.structureMetrics).map(function(e){var t=e.replace(/([A-Z])/g," $1").toLowerCase().replace(/^./,function(e){return e.toUpperCase()});return d.a.createElement(w,{key:e,className:"justify-content-between"},t," ",d.a.createElement("div",{className:"float-right"},this.state.structureMetrics[e]))},this))),d.a.createElement("div",{className:"expert-mode-editor hide-expert-mode architecture"},d.a.createElement(m.CypherEditor,{className:"cypheredit",value:this.state.queryDependencies,options:{mode:"cypher",theme:"cypher"},onValueChange:this.updateStateQueryDependencies.bind(this)}),d.a.createElement(_.a,{onClick:this.sendQuery.bind(this),className:"btn btn-success send-query float-right",color:"success",id:"send"},"Send"),d.a.createElement(_.a,{onClick:this.clearDependencies.bind(this),className:"btn btn-success send-query float-right margin-right",color:"danger",id:"reset"},"Reset")),d.a.createElement("a",{href:"#/architecture/dependencies",className:"display-block clear"},d.a.createElement("strong",null,"Dependency metrics"),d.a.createElement(x,null,Object.keys(this.state.dependencyMetrics).map(function(e){var t=e.replace(/([A-Z])/g," $1").toLowerCase().replace(/^./,function(e){return e.toUpperCase()});return d.a.createElement(w,{key:e,className:"justify-content-between"},t," ",d.a.createElement("div",{className:"float-right"},this.state.dependencyMetrics[e]))},this)))))),this.state.pluginPresence.git&&d.a.createElement(y.a,{xs:"12",sm:"6",md:"3"},d.a.createElement(f.a,null,d.a.createElement(p.a,{cardHeaderText:"Resource Management",showExpertMode:!0,placement:"bottom",target:"Popover2",popoverHeaderText:"Resource Management",popoverBody:"Resource management provides an overview of development activities, authors, and their commits."}),d.a.createElement(v.a,null,d.a.createElement("div",{className:"expert-mode-editor hide-expert-mode resource-management"},d.a.createElement(m.CypherEditor,{className:"cypheredit",value:this.state.queryActivity,options:{mode:"cypher",theme:"cypher"},onValueChange:this.updateStateQueryActivity.bind(this)}),d.a.createElement(_.a,{onClick:this.sendQuery.bind(this),className:"btn btn-success send-query float-right",color:"success",id:"send"},"Send"),d.a.createElement(_.a,{onClick:this.clearActivity.bind(this),className:"btn btn-success send-query float-right margin-right",color:"danger",id:"reset"},"Reset")),d.a.createElement("a",{href:"#/resource-management/activity",className:"display-block clear"},d.a.createElement("strong",null,"Activity metrics"),d.a.createElement(x,null,Object.keys(this.state.activityMetrics).map(function(e){var t=e.replace(/([A-Z])/g," $1").toLowerCase().replace(/^./,function(e){return e.toUpperCase()});return d.a.createElement(w,{key:e,className:"justify-content-between"},t," ",d.a.createElement("div",{className:"float-right"},this.state.activityMetrics[e]))},this)))))),this.state.pluginPresence.git&&d.a.createElement(y.a,{xs:"12",sm:"6",md:"3"},d.a.createElement(f.a,null,d.a.createElement(p.a,{cardHeaderText:"Risk Management",showExpertMode:!0,placement:"bottom",target:"Popover3",popoverHeaderText:"Risk Management",popoverBody:"Risk management helps to identify hotspots of the project."}),d.a.createElement(v.a,null,d.a.createElement("div",{className:"expert-mode-editor hide-expert-mode risk-management"},d.a.createElement(m.CypherEditor,{className:"cypheredit",value:this.state.queryHotspot,options:{mode:"cypher",theme:"cypher"},onValueChange:this.updateStateQueryHotspot.bind(this)}),d.a.createElement(_.a,{onClick:this.sendQuery.bind(this),className:"btn btn-success send-query float-right",color:"success",id:"send"},"Send"),d.a.createElement(_.a,{onClick:this.clearHotspot.bind(this),className:"btn btn-success send-query float-right margin-right",color:"danger",id:"reset"},"Reset")),d.a.createElement("a",{href:"#/risk-management/hotspots",className:"display-block clear"},d.a.createElement("strong",null,"Hotspot metrics"),d.a.createElement(x,{className:"margin-bottom"},Object.keys(this.state.hotspotMetrics).map(function(e){var t=e.replace(/([A-Z])/g," $1").toLowerCase().replace(/^./,function(e){return e.toUpperCase()});return d.a.createElement(w,{key:e,className:"justify-content-between"},t," ",d.a.createElement("div",{className:"float-right"},this.state.hotspotMetrics[e]))},this)))))),(this.state.pluginPresence.jacoco||this.state.pluginPresence.pmd)&&d.a.createElement(y.a,{xs:"12",sm:"6",md:"3"},d.a.createElement(f.a,null,d.a.createElement(p.a,{cardHeaderText:"Quality Management",showExpertMode:!0,placement:"bottom",target:"Popover4",popoverHeaderText:"Quality Management",popoverBody:"Quality management supports quality monitoring with regard to static code analysis results and test coverage."}),d.a.createElement(v.a,null,this.state.pluginPresence.pmd&&d.a.createElement("div",{className:"expert-mode-editor hide-expert-mode quality-management"},d.a.createElement(m.CypherEditor,{className:"cypheredit",value:this.state.queryPMD,options:{mode:"cypher",theme:"cypher"},onValueChange:this.updateStateQueryPMD.bind(this)}),d.a.createElement(_.a,{onClick:this.sendQuery.bind(this),className:"btn btn-success send-query float-right",color:"success",id:"send"},"Send"),d.a.createElement(_.a,{onClick:this.clearPMD.bind(this),className:"btn btn-success send-query float-right margin-right",color:"danger",id:"reset"},"Reset")),this.state.pluginPresence.pmd&&d.a.createElement("a",{href:"#/quality-management/static-code-analysis/pmd",className:"display-block clear"},d.a.createElement("strong",null,"Static Code Analysis (PMD)"),d.a.createElement(x,{className:"margin-bottom"},Object.keys(this.state.staticCodeAnalysisPMDMetrics).map(function(e){var t=e.replace(/([A-Z])/g," $1").toLowerCase().replace(/^./,function(e){return e.toUpperCase()});return d.a.createElement(w,{key:e,className:"justify-content-between"},t," ",d.a.createElement("div",{className:"float-right"},this.state.staticCodeAnalysisPMDMetrics[e]))},this))),this.state.pluginPresence.jacoco&&d.a.createElement("div",{className:"expert-mode-editor hide-expert-mode quality-management"},d.a.createElement(m.CypherEditor,{className:"cypheredit",value:this.state.queryTestCoverage,options:{mode:"cypher",theme:"cypher"},onValueChange:this.updateStateQueryTestCoverage.bind(this)}),d.a.createElement(_.a,{onClick:this.sendQuery.bind(this),className:"btn btn-success send-query float-right",color:"success",id:"send"},"Send"),d.a.createElement(_.a,{onClick:this.clearTestCoverage.bind(this),className:"btn btn-success send-query float-right margin-right",color:"danger",id:"reset"},"Reset")),this.state.pluginPresence.jacoco&&d.a.createElement("a",{href:"#/quality-management/test-coverage",className:"display-block clear"},d.a.createElement("strong",null,"Test Coverage"),d.a.createElement(x,null,Object.keys(this.state.testCoverageMetrics).map(function(e){var t=e.replace(/([A-Z])/g," $1").toLowerCase().replace(/^./,function(e){return e.toUpperCase()});return d.a.createElement(w,{key:e,className:"justify-content-between"},t," ",d.a.createElement("div",{className:"float-right"},this.state.testCoverageMetrics[e],"%"))},this))))))))}}]),t}(h.c);t.default=W}}]);
//# sourceMappingURL=16.48e3325f.chunk.js.map